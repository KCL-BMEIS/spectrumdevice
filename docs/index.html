<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="pdoc 8.0.1" />
    <title>spectrumdevice API documentation</title>
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2264%22%20height%3D%2264%22%20viewBox%3D%2244.5%202.5%2015%2015%22%3E%3Cpath%20d%3D%22M49.351%2021.041c-.233-.721-.546-2.408-.772-4.076-.042-.09-.067-.187-.046-.288-.166-1.347-.277-2.625-.241-3.351-1.378-1.008-2.271-2.586-2.271-4.362%200-.976.272-1.935.788-2.774.057-.094.122-.18.184-.268-.033-.167-.052-.339-.052-.516%200-1.477%201.202-2.679%202.679-2.679.791%200%201.496.352%201.987.9a6.3%206.3%200%200%201%201.001.029c.492-.564%201.207-.929%202.012-.929%201.477%200%202.679%201.202%202.679%202.679a2.65%202.65%200%200%201-.269%201.148c.383.747.595%201.572.595%202.41%200%202.311-1.507%204.29-3.635%205.107.037.699.147%202.27.423%203.294l.137.461c.156%202.136-4.612%205.166-5.199%203.215zm.127-4.919a4.78%204.78%200%200%200%20.775-.584c-.172-.115-.505-.254-.88-.378zm.331%202.302l.828-.502c-.202-.143-.576-.328-.984-.49zm.45%202.157l.701-.403c-.214-.115-.536-.249-.891-.376l.19.779zM49.13%204.141c0%20.152.123.276.276.276s.275-.124.275-.276-.123-.276-.276-.276-.275.124-.275.276zm.735-.389a1.15%201.15%200%200%201%20.314.783%201.16%201.16%200%200%201-1.162%201.162c-.457%200-.842-.27-1.032-.653-.026.117-.042.238-.042.362a1.68%201.68%200%200%200%201.679%201.679%201.68%201.68%200%200%200%201.679-1.679c0-.843-.626-1.535-1.436-1.654zm3.076%201.654a1.68%201.68%200%200%200%201.679%201.679%201.68%201.68%200%200%200%201.679-1.679c0-.037-.009-.072-.011-.109-.21.3-.541.508-.935.508a1.16%201.16%200%200%201-1.162-1.162%201.14%201.14%200%200%201%20.474-.912c-.015%200-.03-.005-.045-.005-.926.001-1.679.754-1.679%201.68zm1.861-1.265c0%20.152.123.276.276.276s.275-.124.275-.276-.123-.276-.276-.276-.275.124-.275.276zm1.823%204.823c0-.52-.103-1.035-.288-1.52-.466.394-1.06.64-1.717.64-1.144%200-2.116-.725-2.499-1.738-.383%201.012-1.355%201.738-2.499%201.738-.867%200-1.631-.421-2.121-1.062-.307.605-.478%201.267-.478%201.942%200%202.486%202.153%204.51%204.801%204.51s4.801-2.023%204.801-4.51zm-3.032%209.156l-.146-.492c-.276-1.02-.395-2.457-.444-3.268a6.11%206.11%200%200%201-1.18.115%206.01%206.01%200%200%201-2.536-.562l.006.175c.802.215%201.848.612%202.021%201.25.079.295-.021.601-.274.837l-.598.501c.667.304%201.243.698%201.311%201.179.02.144.022.507-.393.787l-.564.365c1.285.521%201.361.96%201.381%201.126.018.142.011.496-.427.746l-.854.489c.064-1.19%201.985-2.585%202.697-3.248zM49.34%209.925c0-.667%201-.667%201%200%200%20.653.818%201.205%201.787%201.205s1.787-.552%201.787-1.205c0-.667%201-.667%201%200%200%201.216-1.25%202.205-2.787%202.205s-2.787-.989-2.787-2.205zm-.887-7.633c-.093.077-.205.114-.317.114a.5.5%200%200%201-.318-.886L49.183.397a.5.5%200%200%201%20.703.068.5.5%200%200%201-.069.703zm7.661-.065c-.086%200-.173-.022-.253-.068l-1.523-.893c-.575-.337-.069-1.2.506-.863l1.523.892a.5.5%200%200%201%20.179.685c-.094.158-.261.247-.432.247z%22%20fill%3D%22%233bb300%22/%3E%3C/svg%3E"/>


<style>/*! * Bootstrap Reboot v5.0.0 (https://getbootstrap.com/) * Copyright 2011-2021 The Bootstrap Authors * Copyright 2011-2021 Twitter, Inc. * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE) * Forked from Normalize.css, licensed MIT (https://github.com/necolas/normalize.css/blob/master/LICENSE.md) */*,::after,::before{box-sizing:border-box}@media (prefers-reduced-motion:no-preference){:root{scroll-behavior:smooth}}body{margin:0;font-family:system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans","Liberation Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-size:1rem;font-weight:400;line-height:1.5;color:#212529;background-color:#fff;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}hr{margin:1rem 0;color:inherit;background-color:currentColor;border:0;opacity:.25}hr:not([size]){height:1px}h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:.5rem;font-weight:500;line-height:1.2}h1{font-size:calc(1.375rem + 1.5vw)}@media (min-width:1200px){h1{font-size:2.5rem}}h2{font-size:calc(1.325rem + .9vw)}@media (min-width:1200px){h2{font-size:2rem}}h3{font-size:calc(1.3rem + .6vw)}@media (min-width:1200px){h3{font-size:1.75rem}}h4{font-size:calc(1.275rem + .3vw)}@media (min-width:1200px){h4{font-size:1.5rem}}h5{font-size:1.25rem}h6{font-size:1rem}p{margin-top:0;margin-bottom:1rem}abbr[data-bs-original-title],abbr[title]{-webkit-text-decoration:underline dotted;text-decoration:underline dotted;cursor:help;-webkit-text-decoration-skip-ink:none;text-decoration-skip-ink:none}address{margin-bottom:1rem;font-style:normal;line-height:inherit}ol,ul{padding-left:2rem}dl,ol,ul{margin-top:0;margin-bottom:1rem}ol ol,ol ul,ul ol,ul ul{margin-bottom:0}dt{font-weight:700}dd{margin-bottom:.5rem;margin-left:0}blockquote{margin:0 0 1rem}b,strong{font-weight:bolder}small{font-size:.875em}mark{padding:.2em;background-color:#fcf8e3}sub,sup{position:relative;font-size:.75em;line-height:0;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}a{color:#0d6efd;text-decoration:underline}a:hover{color:#0a58ca}a:not([href]):not([class]),a:not([href]):not([class]):hover{color:inherit;text-decoration:none}code,kbd,pre,samp{font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-size:1em;direction:ltr;unicode-bidi:bidi-override}pre{display:block;margin-top:0;margin-bottom:1rem;overflow:auto;font-size:.875em}pre code{font-size:inherit;color:inherit;word-break:normal}code{font-size:.875em;color:#d63384;word-wrap:break-word}a>code{color:inherit}kbd{padding:.2rem .4rem;font-size:.875em;color:#fff;background-color:#212529;border-radius:.2rem}kbd kbd{padding:0;font-size:1em;font-weight:700}figure{margin:0 0 1rem}img,svg{vertical-align:middle}table{caption-side:bottom;border-collapse:collapse}caption{padding-top:.5rem;padding-bottom:.5rem;color:#6c757d;text-align:left}th{text-align:inherit;text-align:-webkit-match-parent}tbody,td,tfoot,th,thead,tr{border-color:inherit;border-style:solid;border-width:0}label{display:inline-block}button{border-radius:0}button:focus:not(:focus-visible){outline:0}button,input,optgroup,select,textarea{margin:0;font-family:inherit;font-size:inherit;line-height:inherit}button,select{text-transform:none}[role=button]{cursor:pointer}select{word-wrap:normal}select:disabled{opacity:1}[list]::-webkit-calendar-picker-indicator{display:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]:not(:disabled),[type=reset]:not(:disabled),[type=submit]:not(:disabled),button:not(:disabled){cursor:pointer}::-moz-focus-inner{padding:0;border-style:none}textarea{resize:vertical}fieldset{min-width:0;padding:0;margin:0;border:0}legend{float:left;width:100%;padding:0;margin-bottom:.5rem;font-size:calc(1.275rem + .3vw);line-height:inherit}@media (min-width:1200px){legend{font-size:1.5rem}}legend+*{clear:left}::-webkit-datetime-edit-day-field,::-webkit-datetime-edit-fields-wrapper,::-webkit-datetime-edit-hour-field,::-webkit-datetime-edit-minute,::-webkit-datetime-edit-month-field,::-webkit-datetime-edit-text,::-webkit-datetime-edit-year-field{padding:0}::-webkit-inner-spin-button{height:auto}[type=search]{outline-offset:-2px;-webkit-appearance:textfield}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-color-swatch-wrapper{padding:0}::file-selector-button{font:inherit}::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}output{display:inline-block}iframe{border:0}summary{display:list-item;cursor:pointer}progress{vertical-align:baseline}[hidden]{display:none!important}</style>
<style>/*! pygments syntax highlighting */pre{line-height:125%;}td.linenos pre{color:#000000; background-color:#f0f0f0; padding-left:5px; padding-right:5px;}span.linenos{color:#000000; background-color:#f0f0f0; padding-left:5px; padding-right:5px;}td.linenos pre.special{color:#000000; background-color:#ffffc0; padding-left:5px; padding-right:5px;}span.linenos.special{color:#000000; background-color:#ffffc0; padding-left:5px; padding-right:5px;}.pdoc .hll{background-color:#ffffcc}.pdoc{background:#f8f8f8;}.pdoc .c{color:#408080; font-style:italic}.pdoc .err{border:1px solid #FF0000}.pdoc .k{color:#008000; font-weight:bold}.pdoc .o{color:#666666}.pdoc .ch{color:#408080; font-style:italic}.pdoc .cm{color:#408080; font-style:italic}.pdoc .cp{color:#BC7A00}.pdoc .cpf{color:#408080; font-style:italic}.pdoc .c1{color:#408080; font-style:italic}.pdoc .cs{color:#408080; font-style:italic}.pdoc .gd{color:#A00000}.pdoc .ge{font-style:italic}.pdoc .gr{color:#FF0000}.pdoc .gh{color:#000080; font-weight:bold}.pdoc .gi{color:#00A000}.pdoc .go{color:#888888}.pdoc .gp{color:#000080; font-weight:bold}.pdoc .gs{font-weight:bold}.pdoc .gu{color:#800080; font-weight:bold}.pdoc .gt{color:#0044DD}.pdoc .kc{color:#008000; font-weight:bold}.pdoc .kd{color:#008000; font-weight:bold}.pdoc .kn{color:#008000; font-weight:bold}.pdoc .kp{color:#008000}.pdoc .kr{color:#008000; font-weight:bold}.pdoc .kt{color:#B00040}.pdoc .m{color:#666666}.pdoc .s{color:#BA2121}.pdoc .na{color:#7D9029}.pdoc .nb{color:#008000}.pdoc .nc{color:#0000FF; font-weight:bold}.pdoc .no{color:#880000}.pdoc .nd{color:#AA22FF}.pdoc .ni{color:#999999; font-weight:bold}.pdoc .ne{color:#D2413A; font-weight:bold}.pdoc .nf{color:#0000FF}.pdoc .nl{color:#A0A000}.pdoc .nn{color:#0000FF; font-weight:bold}.pdoc .nt{color:#008000; font-weight:bold}.pdoc .nv{color:#19177C}.pdoc .ow{color:#AA22FF; font-weight:bold}.pdoc .w{color:#bbbbbb}.pdoc .mb{color:#666666}.pdoc .mf{color:#666666}.pdoc .mh{color:#666666}.pdoc .mi{color:#666666}.pdoc .mo{color:#666666}.pdoc .sa{color:#BA2121}.pdoc .sb{color:#BA2121}.pdoc .sc{color:#BA2121}.pdoc .dl{color:#BA2121}.pdoc .sd{color:#BA2121; font-style:italic}.pdoc .s2{color:#BA2121}.pdoc .se{color:#BB6622; font-weight:bold}.pdoc .sh{color:#BA2121}.pdoc .si{color:#BB6688; font-weight:bold}.pdoc .sx{color:#008000}.pdoc .sr{color:#BB6688}.pdoc .s1{color:#BA2121}.pdoc .ss{color:#19177C}.pdoc .bp{color:#008000}.pdoc .fm{color:#0000FF}.pdoc .vc{color:#19177C}.pdoc .vg{color:#19177C}.pdoc .vi{color:#19177C}.pdoc .vm{color:#19177C}.pdoc .il{color:#666666}</style>
<style>/*! pdoc */:root{--pdoc-background:#fff;}.pdoc{--text:#212529;--muted:#6c757d;--link:#3660a5;--link-hover:#1659c5;--code:#f7f7f7;--active:#fff598;--accent:#eee;--accent2:#c1c1c1;--nav-hover:rgba(255, 255, 255, 0.5);--name:#0066BB;--def:#008800;--annotation:#007020;}body{background-color:var(--pdoc-background);}html, body{width:100%;height:100%;}@media (max-width:769px){#navtoggle{cursor:pointer;position:absolute;width:50px;height:40px;top:1rem;right:1rem;border-color:var(--text);color:var(--text);display:flex;opacity:0.8;}#navtoggle:hover{opacity:1;}#togglestate + div{display:none;}#togglestate:checked + div{display:inherit;}main, header{padding:2rem 3vw;}.git-button{display:none !important;}nav input[type="search"]:valid ~ *{display:none !important;}}@media (min-width:770px){:root{--sidebar-width:clamp(12.5rem, 28vw, 22rem);}nav{position:fixed;overflow:auto;height:100vh;width:var(--sidebar-width);}main, header{padding:3rem 2rem 3rem calc(var(--sidebar-width) + 3rem);width:calc(54rem + var(--sidebar-width));max-width:100%;}#navtoggle{display:none;}}#togglestate{display:none;}nav.pdoc{--pad:1.75rem;--indent:1.5rem;background-color:var(--accent);border-right:1px solid var(--accent2);box-shadow:0 0 20px rgba(50, 50, 50, .2) inset;padding:0 0 0 var(--pad);overflow-wrap:anywhere;scrollbar-width:thin; scrollbar-color:var(--accent2) transparent }nav.pdoc::-webkit-scrollbar{width:.4rem; }nav.pdoc::-webkit-scrollbar-thumb{background-color:var(--accent2); }nav.pdoc > div{padding:var(--pad) 0;}nav.pdoc .module-list-button{display:inline-flex;align-items:center;color:var(--text);border-color:var(--muted);margin-bottom:1rem;}nav.pdoc .module-list-button:hover{border-color:var(--text);}nav.pdoc input[type=search]{display:block;outline-offset:0;width:calc(100% - var(--pad));}nav.pdoc .logo{max-width:calc(100% - var(--pad));max-height:35vh;display:block;margin:0 auto 1rem;transform:translate(calc(-.5 * var(--pad)), 0);}nav.pdoc ul{list-style:none;padding-left:0;}nav.pdoc li{display:block;margin:0;padding:.2rem 0 .2rem var(--indent);transition:all 100ms;}nav.pdoc > div > ul > li{padding-left:0;}nav.pdoc li:hover{background-color:var(--nav-hover);}nav.pdoc a, nav.pdoc a:hover{color:var(--text);}nav.pdoc a{display:block;}nav.pdoc > h2:first-of-type{margin-top:1.5rem;}nav.pdoc .class:before{content:"class ";color:var(--muted);}nav.pdoc .function:after{content:"()";color:var(--muted);}nav.pdoc footer:before{content:"";display:block;width:calc(100% - var(--pad));border-top:solid var(--accent2) 1px;margin-top:1.5rem;padding-top:.5rem;}nav.pdoc footer{font-size:small;}html, main{scroll-behavior:smooth;}.pdoc{color:var(--text);box-sizing:border-box;line-height:1.5;background:none;}.pdoc .pdoc-button{display:inline-block;border:solid black 1px;border-radius:2px;font-size:.75rem;padding:calc(0.5em - 1px) 1em;transition:100ms all;}.pdoc .visually-hidden{position:absolute !important;width:1px !important;height:1px !important;padding:0 !important;margin:-1px !important;overflow:hidden !important;clip:rect(0, 0, 0, 0) !important;white-space:nowrap !important;border:0 !important;}.pdoc h1, .pdoc h2, .pdoc h3{font-weight:300;margin:.3em 0;padding:.2em 0;}.pdoc a{text-decoration:none;color:var(--link);}.pdoc a:hover{color:var(--link-hover);}.pdoc blockquote{margin-left:2rem;}.pdoc pre{background-color:var(--code);border-top:1px solid var(--accent2);border-bottom:1px solid var(--accent2);margin-bottom:1em;padding:.5rem 0 .5rem .5rem;overflow-x:auto;}.pdoc code{color:var(--text);padding:.2em .4em;margin:0;font-size:85%;background-color:var(--code);border-radius:6px;}.pdoc a > code{color:inherit;}.pdoc pre > code{display:inline-block;font-size:inherit;background:none;border:none;padding:0;}.pdoc .modulename{margin-top:0;font-weight:bold;}.pdoc .modulename a{color:var(--link);transition:100ms all;}.pdoc .git-button{float:right;border:solid var(--link) 1px;}.pdoc .git-button:hover{background-color:var(--link);color:var(--pdoc-background);}.pdoc details{--shift:-40px;text-align:right;margin-top:var(--shift);margin-bottom:calc(0px - var(--shift));clear:both;filter:opacity(1);}.pdoc details:not([open]){height:0;overflow:visible;}.pdoc details > summary{font-size:.75rem;cursor:pointer;color:var(--muted);border-width:0;padding:0 .7em;display:inline-block;display:inline list-item;user-select:none;}.pdoc details > summary:focus{outline:0;}.pdoc details > div{margin-top:calc(0px - var(--shift) / 2);text-align:left;}.pdoc .docstring{margin-bottom:1.5rem;}.pdoc > section:first-of-type > .docstring{margin-bottom:3rem;}.pdoc .docstring pre{margin-left:1em;margin-right:1em;}.pdoc h1:target,.pdoc h2:target,.pdoc h3:target,.pdoc h4:target,.pdoc h5:target,.pdoc h6:target{background-color:var(--active);box-shadow:-1rem 0 0 0 var(--active);}.pdoc div:target > .attr,.pdoc section:target > .attr,.pdoc dd:target > a{background-color:var(--active);}.pdoc .attr:hover{filter:contrast(0.95);}.pdoc .headerlink{position:absolute;width:0;margin-left:-1.5rem;line-height:1.4rem;font-size:1.5rem;font-weight:normal;transition:all 100ms ease-in-out;opacity:0;}.pdoc .attr > .headerlink{margin-left:-2.5rem;}.pdoc *:hover > .headerlink,.pdoc *:target > .attr > .headerlink{opacity:1;}.pdoc .attr{display:block;color:var(--text);margin:1rem 0 .5rem;padding:.4rem 5rem .4rem 1rem;background-color:var(--accent);}.pdoc .classattr{margin-left:2rem;}.pdoc .name{color:var(--name);font-weight:bold;}.pdoc .def{color:var(--def);font-weight:bold;}.pdoc .signature{white-space:pre-wrap;}.pdoc .annotation{color:var(--annotation);}.pdoc .inherited{margin-left:2rem;}.pdoc .inherited dt{font-weight:700;}.pdoc .inherited dt, .pdoc .inherited dd{display:inline;margin-left:0;margin-bottom:.5rem;}.pdoc .inherited dd:not(:last-child):after{content:", ";}.pdoc .inherited .class:before{content:"class ";}.pdoc .inherited .function a:after{content:"()";}.pdoc .search-result .docstring{overflow:auto;max-height:25vh;}.pdoc .search-result.focused > .attr{background-color:var(--active);}.pdoc .attribution{margin-top:2rem;display:block;opacity:0.5;transition:all 200ms;filter:grayscale(100%);}.pdoc .attribution:hover{opacity:1;filter:grayscale(0%);}.pdoc .attribution img{margin-left:5px;height:35px;vertical-align:middle;width:70px;transition:all 200ms;}</style>
</head>
<body>        <nav class="pdoc">
            <label id="navtoggle" for="togglestate" class="pdoc-button"><svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'><path stroke-linecap='round' stroke="currentColor" stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/></svg></label>
            <input id="togglestate" type="checkbox">
            <div>
                        <a class="pdoc-button module-list-button" href="contents.html">
<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-box-arrow-in-left" viewBox="0 0 16 16">
  <path fill-rule="evenodd" d="M10 3.5a.5.5 0 0 0-.5-.5h-8a.5.5 0 0 0-.5.5v9a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 1 1 0v2A1.5 1.5 0 0 1 9.5 14h-8A1.5 1.5 0 0 1 0 12.5v-9A1.5 1.5 0 0 1 1.5 2h8A1.5 1.5 0 0 1 11 3.5v2a.5.5 0 0 1-1 0v-2z"/>
  <path fill-rule="evenodd" d="M4.146 8.354a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H14.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3z"/>
</svg>                            &nbsp;
                            Module Index
                        </a>

    <h2>spectrumdevice v1.1.0</h2>

                        <input type="search" placeholder="Search..." role="searchbox" aria-label="search"
                               pattern=".+" required>

                    <h2>Contents</h2>
                    <ul>
  <li><a href="#hardware-classes">Hardware Classes</a></li>
  <li><a href="#mock-classes">Mock Classes</a></li>
  <li><a href="#abstract-classes">Abstract Classes</a></li>
  <li><a href="#settings">Settings</a></li>
  <li><a href="#resources">Resources</a></li>
  <li><a href="#reference-documentation">Reference Documentation</a></li>
</ul>


                    <h2>Submodules</h2>
                    <ul>
                            <li><a href="spectrumdevice/settings.html">spectrumdevice.settings</a></li>
                            <li><a href="spectrumdevice/features.html">spectrumdevice.features</a></li>
                    </ul>

                    <h2>API Documentation</h2>
                        <ul class="memberlist">
            <li>
                    <a class="class" href="#SpectrumDigitiserAnalogChannel">SpectrumDigitiserAnalogChannel</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#SpectrumDigitiserAnalogChannel.__init__">SpectrumDigitiserAnalogChannel</a>
                        </li>
                        <li>
                                <a class="function" href="#SpectrumDigitiserAnalogChannel.convert_raw_waveform_to_voltage_waveform">convert_raw_waveform_to_voltage_waveform</a>
                        </li>
                        <li>
                                <a class="variable" href="#SpectrumDigitiserAnalogChannel.vertical_range_in_mv">vertical_range_in_mv</a>
                        </li>
                        <li>
                                <a class="function" href="#SpectrumDigitiserAnalogChannel.set_vertical_range_in_mv">set_vertical_range_in_mv</a>
                        </li>
                        <li>
                                <a class="variable" href="#SpectrumDigitiserAnalogChannel.vertical_offset_in_percent">vertical_offset_in_percent</a>
                        </li>
                        <li>
                                <a class="function" href="#SpectrumDigitiserAnalogChannel.set_vertical_offset_in_percent">set_vertical_offset_in_percent</a>
                        </li>
                        <li>
                                <a class="variable" href="#SpectrumDigitiserAnalogChannel.input_impedance">input_impedance</a>
                        </li>
                        <li>
                                <a class="function" href="#SpectrumDigitiserAnalogChannel.set_input_impedance">set_input_impedance</a>
                        </li>
                        <li>
                                <a class="variable" href="#SpectrumDigitiserAnalogChannel.input_coupling">input_coupling</a>
                        </li>
                        <li>
                                <a class="function" href="#SpectrumDigitiserAnalogChannel.set_input_coupling">set_input_coupling</a>
                        </li>
                        <li>
                                <a class="variable" href="#SpectrumDigitiserAnalogChannel.input_path">input_path</a>
                        </li>
                        <li>
                                <a class="function" href="#SpectrumDigitiserAnalogChannel.set_input_path">set_input_path</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#SpectrumDigitiserIOLine">SpectrumDigitiserIOLine</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#SpectrumDigitiserIOLine.__init__">SpectrumDigitiserIOLine</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#SpectrumDigitiserCard">SpectrumDigitiserCard</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#SpectrumDigitiserCard.__init__">SpectrumDigitiserCard</a>
                        </li>
                        <li>
                                <a class="function" href="#SpectrumDigitiserCard.enable_timestamping">enable_timestamping</a>
                        </li>
                        <li>
                                <a class="function" href="#SpectrumDigitiserCard.wait_for_acquisition_to_complete">wait_for_acquisition_to_complete</a>
                        </li>
                        <li>
                                <a class="function" href="#SpectrumDigitiserCard.get_waveforms">get_waveforms</a>
                        </li>
                        <li>
                                <a class="function" href="#SpectrumDigitiserCard.get_timestamp">get_timestamp</a>
                        </li>
                        <li>
                                <a class="variable" href="#SpectrumDigitiserCard.acquisition_length_in_samples">acquisition_length_in_samples</a>
                        </li>
                        <li>
                                <a class="function" href="#SpectrumDigitiserCard.set_acquisition_length_in_samples">set_acquisition_length_in_samples</a>
                        </li>
                        <li>
                                <a class="variable" href="#SpectrumDigitiserCard.post_trigger_length_in_samples">post_trigger_length_in_samples</a>
                        </li>
                        <li>
                                <a class="function" href="#SpectrumDigitiserCard.set_post_trigger_length_in_samples">set_post_trigger_length_in_samples</a>
                        </li>
                        <li>
                                <a class="variable" href="#SpectrumDigitiserCard.number_of_averages">number_of_averages</a>
                        </li>
                        <li>
                                <a class="function" href="#SpectrumDigitiserCard.set_number_of_averages">set_number_of_averages</a>
                        </li>
                        <li>
                                <a class="variable" href="#SpectrumDigitiserCard.acquisition_mode">acquisition_mode</a>
                        </li>
                        <li>
                                <a class="function" href="#SpectrumDigitiserCard.set_acquisition_mode">set_acquisition_mode</a>
                        </li>
                        <li>
                                <a class="variable" href="#SpectrumDigitiserCard.batch_size">batch_size</a>
                        </li>
                        <li>
                                <a class="function" href="#SpectrumDigitiserCard.set_batch_size">set_batch_size</a>
                        </li>
                        <li>
                                <a class="function" href="#SpectrumDigitiserCard.define_transfer_buffer">define_transfer_buffer</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#SpectrumDigitiserStarHub">SpectrumDigitiserStarHub</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#SpectrumDigitiserStarHub.__init__">SpectrumDigitiserStarHub</a>
                        </li>
                        <li>
                                <a class="function" href="#SpectrumDigitiserStarHub.define_transfer_buffer">define_transfer_buffer</a>
                        </li>
                        <li>
                                <a class="function" href="#SpectrumDigitiserStarHub.wait_for_acquisition_to_complete">wait_for_acquisition_to_complete</a>
                        </li>
                        <li>
                                <a class="function" href="#SpectrumDigitiserStarHub.get_waveforms">get_waveforms</a>
                        </li>
                        <li>
                                <a class="function" href="#SpectrumDigitiserStarHub.get_timestamp">get_timestamp</a>
                        </li>
                        <li>
                                <a class="function" href="#SpectrumDigitiserStarHub.enable_timestamping">enable_timestamping</a>
                        </li>
                        <li>
                                <a class="variable" href="#SpectrumDigitiserStarHub.acquisition_length_in_samples">acquisition_length_in_samples</a>
                        </li>
                        <li>
                                <a class="function" href="#SpectrumDigitiserStarHub.set_acquisition_length_in_samples">set_acquisition_length_in_samples</a>
                        </li>
                        <li>
                                <a class="variable" href="#SpectrumDigitiserStarHub.post_trigger_length_in_samples">post_trigger_length_in_samples</a>
                        </li>
                        <li>
                                <a class="function" href="#SpectrumDigitiserStarHub.set_post_trigger_length_in_samples">set_post_trigger_length_in_samples</a>
                        </li>
                        <li>
                                <a class="variable" href="#SpectrumDigitiserStarHub.acquisition_mode">acquisition_mode</a>
                        </li>
                        <li>
                                <a class="function" href="#SpectrumDigitiserStarHub.set_acquisition_mode">set_acquisition_mode</a>
                        </li>
                        <li>
                                <a class="variable" href="#SpectrumDigitiserStarHub.batch_size">batch_size</a>
                        </li>
                        <li>
                                <a class="function" href="#SpectrumDigitiserStarHub.set_batch_size">set_batch_size</a>
                        </li>
                        <li>
                                <a class="function" href="#SpectrumDigitiserStarHub.force_trigger">force_trigger</a>
                        </li>
                        <li>
                                <a class="variable" href="#SpectrumDigitiserStarHub.type">type</a>
                        </li>
                        <li>
                                <a class="variable" href="#SpectrumDigitiserStarHub.model_number">model_number</a>
                        </li>
                        <li>
                                <a class="variable" href="#SpectrumDigitiserStarHub.analog_channels">analog_channels</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#MockSpectrumDigitiserCard">MockSpectrumDigitiserCard</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#MockSpectrumDigitiserCard.__init__">MockSpectrumDigitiserCard</a>
                        </li>
                        <li>
                                <a class="function" href="#MockSpectrumDigitiserCard.enable_timestamping">enable_timestamping</a>
                        </li>
                        <li>
                                <a class="function" href="#MockSpectrumDigitiserCard.set_acquisition_mode">set_acquisition_mode</a>
                        </li>
                        <li>
                                <a class="function" href="#MockSpectrumDigitiserCard.set_sample_rate_in_hz">set_sample_rate_in_hz</a>
                        </li>
                        <li>
                                <a class="function" href="#MockSpectrumDigitiserCard.set_acquisition_length_in_samples">set_acquisition_length_in_samples</a>
                        </li>
                        <li>
                                <a class="function" href="#MockSpectrumDigitiserCard.set_enabled_analog_channels">set_enabled_analog_channels</a>
                        </li>
                        <li>
                                <a class="function" href="#MockSpectrumDigitiserCard.define_transfer_buffer">define_transfer_buffer</a>
                        </li>
                        <li>
                                <a class="function" href="#MockSpectrumDigitiserCard.start_transfer">start_transfer</a>
                        </li>
                        <li>
                                <a class="function" href="#MockSpectrumDigitiserCard.stop_transfer">stop_transfer</a>
                        </li>
                        <li>
                                <a class="function" href="#MockSpectrumDigitiserCard.wait_for_transfer_chunk_to_complete">wait_for_transfer_chunk_to_complete</a>
                        </li>
                        <li>
                                <a class="function" href="#MockSpectrumDigitiserCard.wait_for_acquisition_to_complete">wait_for_acquisition_to_complete</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#MockSpectrumDigitiserStarHub">MockSpectrumDigitiserStarHub</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#MockSpectrumDigitiserStarHub.__init__">MockSpectrumDigitiserStarHub</a>
                        </li>
                        <li>
                                <a class="function" href="#MockSpectrumDigitiserStarHub.start">start</a>
                        </li>
                        <li>
                                <a class="function" href="#MockSpectrumDigitiserStarHub.stop">stop</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#AbstractSpectrumDigitiser">AbstractSpectrumDigitiser</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#AbstractSpectrumDigitiser.configure_acquisition">configure_acquisition</a>
                        </li>
                        <li>
                                <a class="function" href="#AbstractSpectrumDigitiser.execute_standard_single_acquisition">execute_standard_single_acquisition</a>
                        </li>
                        <li>
                                <a class="function" href="#AbstractSpectrumDigitiser.execute_finite_fifo_acquisition">execute_finite_fifo_acquisition</a>
                        </li>
                        <li>
                                <a class="function" href="#AbstractSpectrumDigitiser.execute_continuous_fifo_acquisition">execute_continuous_fifo_acquisition</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#AbstractSpectrumStarHub">AbstractSpectrumStarHub</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#AbstractSpectrumStarHub.__init__">AbstractSpectrumStarHub</a>
                        </li>
                        <li>
                                <a class="function" href="#AbstractSpectrumStarHub.disconnect">disconnect</a>
                        </li>
                        <li>
                                <a class="function" href="#AbstractSpectrumStarHub.reconnect">reconnect</a>
                        </li>
                        <li>
                                <a class="variable" href="#AbstractSpectrumStarHub.status">status</a>
                        </li>
                        <li>
                                <a class="function" href="#AbstractSpectrumStarHub.start_transfer">start_transfer</a>
                        </li>
                        <li>
                                <a class="function" href="#AbstractSpectrumStarHub.stop_transfer">stop_transfer</a>
                        </li>
                        <li>
                                <a class="function" href="#AbstractSpectrumStarHub.wait_for_transfer_chunk_to_complete">wait_for_transfer_chunk_to_complete</a>
                        </li>
                        <li>
                                <a class="variable" href="#AbstractSpectrumStarHub.connected">connected</a>
                        </li>
                        <li>
                                <a class="function" href="#AbstractSpectrumStarHub.set_triggering_card">set_triggering_card</a>
                        </li>
                        <li>
                                <a class="variable" href="#AbstractSpectrumStarHub.clock_mode">clock_mode</a>
                        </li>
                        <li>
                                <a class="function" href="#AbstractSpectrumStarHub.set_clock_mode">set_clock_mode</a>
                        </li>
                        <li>
                                <a class="variable" href="#AbstractSpectrumStarHub.sample_rate_in_hz">sample_rate_in_hz</a>
                        </li>
                        <li>
                                <a class="function" href="#AbstractSpectrumStarHub.set_sample_rate_in_hz">set_sample_rate_in_hz</a>
                        </li>
                        <li>
                                <a class="variable" href="#AbstractSpectrumStarHub.trigger_sources">trigger_sources</a>
                        </li>
                        <li>
                                <a class="function" href="#AbstractSpectrumStarHub.set_trigger_sources">set_trigger_sources</a>
                        </li>
                        <li>
                                <a class="variable" href="#AbstractSpectrumStarHub.external_trigger_mode">external_trigger_mode</a>
                        </li>
                        <li>
                                <a class="function" href="#AbstractSpectrumStarHub.set_external_trigger_mode">set_external_trigger_mode</a>
                        </li>
                        <li>
                                <a class="variable" href="#AbstractSpectrumStarHub.external_trigger_level_in_mv">external_trigger_level_in_mv</a>
                        </li>
                        <li>
                                <a class="function" href="#AbstractSpectrumStarHub.set_external_trigger_level_in_mv">set_external_trigger_level_in_mv</a>
                        </li>
                        <li>
                                <a class="variable" href="#AbstractSpectrumStarHub.external_trigger_pulse_width_in_samples">external_trigger_pulse_width_in_samples</a>
                        </li>
                        <li>
                                <a class="function" href="#AbstractSpectrumStarHub.set_external_trigger_pulse_width_in_samples">set_external_trigger_pulse_width_in_samples</a>
                        </li>
                        <li>
                                <a class="function" href="#AbstractSpectrumStarHub.apply_channel_enabling">apply_channel_enabling</a>
                        </li>
                        <li>
                                <a class="variable" href="#AbstractSpectrumStarHub.enabled_analog_channel_nums">enabled_analog_channel_nums</a>
                        </li>
                        <li>
                                <a class="function" href="#AbstractSpectrumStarHub.set_enabled_analog_channels">set_enabled_analog_channels</a>
                        </li>
                        <li>
                                <a class="variable" href="#AbstractSpectrumStarHub.transfer_buffers">transfer_buffers</a>
                        </li>
                        <li>
                                <a class="variable" href="#AbstractSpectrumStarHub.analog_channels">analog_channels</a>
                        </li>
                        <li>
                                <a class="variable" href="#AbstractSpectrumStarHub.io_lines">io_lines</a>
                        </li>
                        <li>
                                <a class="variable" href="#AbstractSpectrumStarHub.timeout_in_ms">timeout_in_ms</a>
                        </li>
                        <li>
                                <a class="function" href="#AbstractSpectrumStarHub.set_timeout_in_ms">set_timeout_in_ms</a>
                        </li>
                        <li>
                                <a class="variable" href="#AbstractSpectrumStarHub.feature_list">feature_list</a>
                        </li>
                        <li>
                                <a class="variable" href="#AbstractSpectrumStarHub.available_io_modes">available_io_modes</a>
                        </li>
                        <li>
                                <a class="variable" href="#AbstractSpectrumStarHub.bytes_per_sample">bytes_per_sample</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#AbstractSpectrumCard">AbstractSpectrumCard</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#AbstractSpectrumCard.__init__">AbstractSpectrumCard</a>
                        </li>
                        <li>
                                <a class="variable" href="#AbstractSpectrumCard.model_number">model_number</a>
                        </li>
                        <li>
                                <a class="function" href="#AbstractSpectrumCard.reconnect">reconnect</a>
                        </li>
                        <li>
                                <a class="variable" href="#AbstractSpectrumCard.status">status</a>
                        </li>
                        <li>
                                <a class="function" href="#AbstractSpectrumCard.start_transfer">start_transfer</a>
                        </li>
                        <li>
                                <a class="function" href="#AbstractSpectrumCard.stop_transfer">stop_transfer</a>
                        </li>
                        <li>
                                <a class="function" href="#AbstractSpectrumCard.wait_for_transfer_chunk_to_complete">wait_for_transfer_chunk_to_complete</a>
                        </li>
                        <li>
                                <a class="variable" href="#AbstractSpectrumCard.transfer_buffers">transfer_buffers</a>
                        </li>
                        <li>
                                <a class="function" href="#AbstractSpectrumCard.disconnect">disconnect</a>
                        </li>
                        <li>
                                <a class="variable" href="#AbstractSpectrumCard.connected">connected</a>
                        </li>
                        <li>
                                <a class="variable" href="#AbstractSpectrumCard.analog_channels">analog_channels</a>
                        </li>
                        <li>
                                <a class="variable" href="#AbstractSpectrumCard.io_lines">io_lines</a>
                        </li>
                        <li>
                                <a class="variable" href="#AbstractSpectrumCard.enabled_analog_channel_nums">enabled_analog_channel_nums</a>
                        </li>
                        <li>
                                <a class="function" href="#AbstractSpectrumCard.set_enabled_analog_channels">set_enabled_analog_channels</a>
                        </li>
                        <li>
                                <a class="variable" href="#AbstractSpectrumCard.trigger_sources">trigger_sources</a>
                        </li>
                        <li>
                                <a class="function" href="#AbstractSpectrumCard.set_trigger_sources">set_trigger_sources</a>
                        </li>
                        <li>
                                <a class="variable" href="#AbstractSpectrumCard.external_trigger_mode">external_trigger_mode</a>
                        </li>
                        <li>
                                <a class="function" href="#AbstractSpectrumCard.set_external_trigger_mode">set_external_trigger_mode</a>
                        </li>
                        <li>
                                <a class="variable" href="#AbstractSpectrumCard.external_trigger_level_in_mv">external_trigger_level_in_mv</a>
                        </li>
                        <li>
                                <a class="function" href="#AbstractSpectrumCard.set_external_trigger_level_in_mv">set_external_trigger_level_in_mv</a>
                        </li>
                        <li>
                                <a class="variable" href="#AbstractSpectrumCard.external_trigger_pulse_width_in_samples">external_trigger_pulse_width_in_samples</a>
                        </li>
                        <li>
                                <a class="function" href="#AbstractSpectrumCard.set_external_trigger_pulse_width_in_samples">set_external_trigger_pulse_width_in_samples</a>
                        </li>
                        <li>
                                <a class="function" href="#AbstractSpectrumCard.apply_channel_enabling">apply_channel_enabling</a>
                        </li>
                        <li>
                                <a class="variable" href="#AbstractSpectrumCard.timeout_in_ms">timeout_in_ms</a>
                        </li>
                        <li>
                                <a class="function" href="#AbstractSpectrumCard.set_timeout_in_ms">set_timeout_in_ms</a>
                        </li>
                        <li>
                                <a class="variable" href="#AbstractSpectrumCard.clock_mode">clock_mode</a>
                        </li>
                        <li>
                                <a class="function" href="#AbstractSpectrumCard.set_clock_mode">set_clock_mode</a>
                        </li>
                        <li>
                                <a class="variable" href="#AbstractSpectrumCard.available_io_modes">available_io_modes</a>
                        </li>
                        <li>
                                <a class="variable" href="#AbstractSpectrumCard.feature_list">feature_list</a>
                        </li>
                        <li>
                                <a class="variable" href="#AbstractSpectrumCard.sample_rate_in_hz">sample_rate_in_hz</a>
                        </li>
                        <li>
                                <a class="function" href="#AbstractSpectrumCard.set_sample_rate_in_hz">set_sample_rate_in_hz</a>
                        </li>
                        <li>
                                <a class="variable" href="#AbstractSpectrumCard.type">type</a>
                        </li>
                        <li>
                                <a class="function" href="#AbstractSpectrumCard.force_trigger">force_trigger</a>
                        </li>
                        <li>
                                <a class="variable" href="#AbstractSpectrumCard.bytes_per_sample">bytes_per_sample</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#AbstractSpectrumDevice">AbstractSpectrumDevice</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#AbstractSpectrumDevice.reset">reset</a>
                        </li>
                        <li>
                                <a class="function" href="#AbstractSpectrumDevice.start">start</a>
                        </li>
                        <li>
                                <a class="function" href="#AbstractSpectrumDevice.stop">stop</a>
                        </li>
                        <li>
                                <a class="function" href="#AbstractSpectrumDevice.configure_trigger">configure_trigger</a>
                        </li>
                        <li>
                                <a class="function" href="#AbstractSpectrumDevice.configure_channel_pairing">configure_channel_pairing</a>
                        </li>
                        <li>
                                <a class="function" href="#AbstractSpectrumDevice.write_to_spectrum_device_register">write_to_spectrum_device_register</a>
                        </li>
                        <li>
                                <a class="function" href="#AbstractSpectrumDevice.read_spectrum_device_register">read_spectrum_device_register</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#AbstractSpectrumChannel">AbstractSpectrumChannel</a>
                            <ul class="memberlist">
                        <li>
                                <a class="variable" href="#AbstractSpectrumChannel.name">name</a>
                        </li>
                        <li>
                                <a class="function" href="#AbstractSpectrumChannel.write_to_parent_device_register">write_to_parent_device_register</a>
                        </li>
                        <li>
                                <a class="function" href="#AbstractSpectrumChannel.read_parent_device_register">read_parent_device_register</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="module" href="#settings">settings</a>
            </li>
            <li>
                    <a class="module" href="#features">features</a>
            </li>
            <li>
                    <a class="class" href="#Measurement">Measurement</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#Measurement.__init__">Measurement</a>
                        </li>
                        <li>
                                <a class="variable" href="#Measurement.waveforms">waveforms</a>
                        </li>
                        <li>
                                <a class="variable" href="#Measurement.timestamp">timestamp</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#SpectrumAWGCard">SpectrumAWGCard</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#SpectrumAWGCard.transfer_waveform">transfer_waveform</a>
                        </li>
                        <li>
                                <a class="function" href="#SpectrumAWGCard.define_transfer_buffer">define_transfer_buffer</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#MockSpectrumAWGCard">MockSpectrumAWGCard</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#MockSpectrumAWGCard.__init__">MockSpectrumAWGCard</a>
                        </li>
                        <li>
                                <a class="function" href="#MockSpectrumAWGCard.define_transfer_buffer">define_transfer_buffer</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#SpectrumAWGAnalogChannel">SpectrumAWGAnalogChannel</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#SpectrumAWGAnalogChannel.__init__">SpectrumAWGAnalogChannel</a>
                        </li>
                        <li>
                                <a class="variable" href="#SpectrumAWGAnalogChannel.is_switched_on">is_switched_on</a>
                        </li>
                        <li>
                                <a class="function" href="#SpectrumAWGAnalogChannel.set_is_switched_on">set_is_switched_on</a>
                        </li>
                        <li>
                                <a class="variable" href="#SpectrumAWGAnalogChannel.dc_offset_in_mv">dc_offset_in_mv</a>
                        </li>
                        <li>
                                <a class="function" href="#SpectrumAWGAnalogChannel.set_dc_offset_in_mv">set_dc_offset_in_mv</a>
                        </li>
                        <li>
                                <a class="variable" href="#SpectrumAWGAnalogChannel.signal_amplitude_in_mv">signal_amplitude_in_mv</a>
                        </li>
                        <li>
                                <a class="function" href="#SpectrumAWGAnalogChannel.set_signal_amplitude_in_mv">set_signal_amplitude_in_mv</a>
                        </li>
                        <li>
                                <a class="variable" href="#SpectrumAWGAnalogChannel.output_filter">output_filter</a>
                        </li>
                        <li>
                                <a class="function" href="#SpectrumAWGAnalogChannel.set_output_filter">set_output_filter</a>
                        </li>
                        <li>
                                <a class="variable" href="#SpectrumAWGAnalogChannel.stop_level_mode">stop_level_mode</a>
                        </li>
                        <li>
                                <a class="function" href="#SpectrumAWGAnalogChannel.set_stop_level_mode">set_stop_level_mode</a>
                        </li>
                        <li>
                                <a class="variable" href="#SpectrumAWGAnalogChannel.stop_level_custom_value">stop_level_custom_value</a>
                        </li>
                        <li>
                                <a class="function" href="#SpectrumAWGAnalogChannel.set_stop_level_custom_value">set_stop_level_custom_value</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#SpectrumAWGIOLine">SpectrumAWGIOLine</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#SpectrumAWGIOLine.__init__">SpectrumAWGIOLine</a>
                        </li>
                        <li>
                                <a class="variable" href="#SpectrumAWGIOLine.dig_out_settings">dig_out_settings</a>
                        </li>
                        <li>
                                <a class="function" href="#SpectrumAWGIOLine.set_dig_out_settings">set_dig_out_settings</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#PulseGenerator">PulseGenerator</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#PulseGenerator.__init__">PulseGenerator</a>
                        </li>
                        <li>
                                <a class="function" href="#PulseGenerator.configure_output">configure_output</a>
                        </li>
                        <li>
                                <a class="function" href="#PulseGenerator.configure_trigger">configure_trigger</a>
                        </li>
                        <li>
                                <a class="function" href="#PulseGenerator.force_trigger">force_trigger</a>
                        </li>
                        <li>
                                <a class="variable" href="#PulseGenerator.number">number</a>
                        </li>
                        <li>
                                <a class="variable" href="#PulseGenerator.multiplexer_1">multiplexer_1</a>
                        </li>
                        <li>
                                <a class="variable" href="#PulseGenerator.multiplexer_2">multiplexer_2</a>
                        </li>
                        <li>
                                <a class="function" href="#PulseGenerator.read_parent_device_register">read_parent_device_register</a>
                        </li>
                        <li>
                                <a class="function" href="#PulseGenerator.write_to_parent_device_register">write_to_parent_device_register</a>
                        </li>
                        <li>
                                <a class="variable" href="#PulseGenerator.clock_rate_in_hz">clock_rate_in_hz</a>
                        </li>
                        <li>
                                <a class="variable" href="#PulseGenerator.clock_period_in_seconds">clock_period_in_seconds</a>
                        </li>
                        <li>
                                <a class="variable" href="#PulseGenerator.enabled">enabled</a>
                        </li>
                        <li>
                                <a class="function" href="#PulseGenerator.enable">enable</a>
                        </li>
                        <li>
                                <a class="function" href="#PulseGenerator.disable">disable</a>
                        </li>
                        <li>
                                <a class="variable" href="#PulseGenerator.output_inversion">output_inversion</a>
                        </li>
                        <li>
                                <a class="function" href="#PulseGenerator.set_output_inversion">set_output_inversion</a>
                        </li>
                        <li>
                                <a class="variable" href="#PulseGenerator.trigger_detection_mode">trigger_detection_mode</a>
                        </li>
                        <li>
                                <a class="function" href="#PulseGenerator.set_trigger_detection_mode">set_trigger_detection_mode</a>
                        </li>
                        <li>
                                <a class="variable" href="#PulseGenerator.trigger_mode">trigger_mode</a>
                        </li>
                        <li>
                                <a class="function" href="#PulseGenerator.set_trigger_mode">set_trigger_mode</a>
                        </li>
                        <li>
                                <a class="variable" href="#PulseGenerator.min_allowed_period_in_seconds">min_allowed_period_in_seconds</a>
                        </li>
                        <li>
                                <a class="variable" href="#PulseGenerator.max_allowed_period_in_seconds">max_allowed_period_in_seconds</a>
                        </li>
                        <li>
                                <a class="variable" href="#PulseGenerator.allowed_period_step_size_in_seconds">allowed_period_step_size_in_seconds</a>
                        </li>
                        <li>
                                <a class="variable" href="#PulseGenerator.period_in_seconds">period_in_seconds</a>
                        </li>
                        <li>
                                <a class="function" href="#PulseGenerator.set_period_in_seconds">set_period_in_seconds</a>
                        </li>
                        <li>
                                <a class="variable" href="#PulseGenerator.min_allowed_high_voltage_duration_in_seconds">min_allowed_high_voltage_duration_in_seconds</a>
                        </li>
                        <li>
                                <a class="variable" href="#PulseGenerator.max_allowed_high_voltage_duration_in_seconds">max_allowed_high_voltage_duration_in_seconds</a>
                        </li>
                        <li>
                                <a class="variable" href="#PulseGenerator.allowed_high_voltage_duration_step_size_in_seconds">allowed_high_voltage_duration_step_size_in_seconds</a>
                        </li>
                        <li>
                                <a class="variable" href="#PulseGenerator.duration_of_high_voltage_in_seconds">duration_of_high_voltage_in_seconds</a>
                        </li>
                        <li>
                                <a class="variable" href="#PulseGenerator.duration_of_low_voltage_in_seconds">duration_of_low_voltage_in_seconds</a>
                        </li>
                        <li>
                                <a class="variable" href="#PulseGenerator.duty_cycle">duty_cycle</a>
                        </li>
                        <li>
                                <a class="function" href="#PulseGenerator.set_duty_cycle">set_duty_cycle</a>
                        </li>
                        <li>
                                <a class="variable" href="#PulseGenerator.min_allowed_pulses">min_allowed_pulses</a>
                        </li>
                        <li>
                                <a class="variable" href="#PulseGenerator.max_allowed_pulses">max_allowed_pulses</a>
                        </li>
                        <li>
                                <a class="variable" href="#PulseGenerator.allowed_num_pulses_step_size">allowed_num_pulses_step_size</a>
                        </li>
                        <li>
                                <a class="variable" href="#PulseGenerator.num_pulses">num_pulses</a>
                        </li>
                        <li>
                                <a class="function" href="#PulseGenerator.set_num_pulses">set_num_pulses</a>
                        </li>
                        <li>
                                <a class="variable" href="#PulseGenerator.min_allowed_delay_in_seconds">min_allowed_delay_in_seconds</a>
                        </li>
                        <li>
                                <a class="variable" href="#PulseGenerator.max_allowed_delay_in_seconds">max_allowed_delay_in_seconds</a>
                        </li>
                        <li>
                                <a class="variable" href="#PulseGenerator.allowed_delay_step_size_in_seconds">allowed_delay_step_size_in_seconds</a>
                        </li>
                        <li>
                                <a class="variable" href="#PulseGenerator.delay_in_seconds">delay_in_seconds</a>
                        </li>
                        <li>
                                <a class="function" href="#PulseGenerator.set_delay_in_seconds">set_delay_in_seconds</a>
                        </li>
                </ul>

            </li>
    </ul>


    <footer>spectrumdevice v1.1.0</footer>

                    <a class="attribution" title="pdoc: Python API documentation generator" href="https://pdoc.dev">
                        built with <span class="visually-hidden">pdoc</span><img
                            alt="pdoc logo"
                            src="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20role%3D%22img%22%20aria-label%3D%22pdoc%20logo%22%20width%3D%22300%22%20height%3D%22150%22%20viewBox%3D%22-1%200%2060%2030%22%3E%3Ctitle%3Epdoc%3C/title%3E%3Cpath%20d%3D%22M29.621%2021.293c-.011-.273-.214-.475-.511-.481a.5.5%200%200%200-.489.503l-.044%201.393c-.097.551-.695%201.215-1.566%201.704-.577.428-1.306.486-2.193.182-1.426-.617-2.467-1.654-3.304-2.487l-.173-.172a3.43%203.43%200%200%200-.365-.306.49.49%200%200%200-.286-.196c-1.718-1.06-4.931-1.47-7.353.191l-.219.15c-1.707%201.187-3.413%202.131-4.328%201.03-.02-.027-.49-.685-.141-1.763.233-.721.546-2.408.772-4.076.042-.09.067-.187.046-.288.166-1.347.277-2.625.241-3.351%201.378-1.008%202.271-2.586%202.271-4.362%200-.976-.272-1.935-.788-2.774-.057-.094-.122-.18-.184-.268.033-.167.052-.339.052-.516%200-1.477-1.202-2.679-2.679-2.679-.791%200-1.496.352-1.987.9a6.3%206.3%200%200%200-1.001.029c-.492-.564-1.207-.929-2.012-.929-1.477%200-2.679%201.202-2.679%202.679A2.65%202.65%200%200%200%20.97%206.554c-.383.747-.595%201.572-.595%202.41%200%202.311%201.507%204.29%203.635%205.107-.037.699-.147%202.27-.423%203.294l-.137.461c-.622%202.042-2.515%208.257%201.727%2010.643%201.614.908%203.06%201.248%204.317%201.248%202.665%200%204.492-1.524%205.322-2.401%201.476-1.559%202.886-1.854%206.491.82%201.877%201.393%203.514%201.753%204.861%201.068%202.223-1.713%202.811-3.867%203.399-6.374.077-.846.056-1.469.054-1.537zm-4.835%204.313c-.054.305-.156.586-.242.629-.034-.007-.131-.022-.307-.157-.145-.111-.314-.478-.456-.908.221.121.432.25.675.355.115.039.219.051.33.081zm-2.251-1.238c-.05.33-.158.648-.252.694-.022.001-.125-.018-.307-.157-.217-.166-.488-.906-.639-1.573.358.344.754.693%201.198%201.036zm-3.887-2.337c-.006-.116-.018-.231-.041-.342.635.145%201.189.368%201.599.625.097.231.166.481.174.642-.03.049-.055.101-.067.158-.046.013-.128.026-.298.004-.278-.037-.901-.57-1.367-1.087zm-1.127-.497c.116.306.176.625.12.71-.019.014-.117.045-.345.016-.206-.027-.604-.332-.986-.695.41-.051.816-.056%201.211-.031zm-4.535%201.535c.209.22.379.47.358.598-.006.041-.088.138-.351.234-.144.055-.539-.063-.979-.259a11.66%2011.66%200%200%200%20.972-.573zm.983-.664c.359-.237.738-.418%201.126-.554.25.237.479.548.457.694-.006.042-.087.138-.351.235-.174.064-.694-.105-1.232-.375zm-3.381%201.794c-.022.145-.061.29-.149.401-.133.166-.358.248-.69.251h-.002c-.133%200-.306-.26-.45-.621.417.091.854.07%201.291-.031zm-2.066-8.077a4.78%204.78%200%200%201-.775-.584c.172-.115.505-.254.88-.378l-.105.962zm-.331%202.302a10.32%2010.32%200%200%201-.828-.502c.202-.143.576-.328.984-.49l-.156.992zm-.45%202.157l-.701-.403c.214-.115.536-.249.891-.376a11.57%2011.57%200%200%201-.19.779zm-.181%201.716c.064.398.194.702.298.893-.194-.051-.435-.162-.736-.398.061-.119.224-.3.438-.495zM8.87%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zm-.735-.389a1.15%201.15%200%200%200-.314.783%201.16%201.16%200%200%200%201.162%201.162c.457%200%20.842-.27%201.032-.653.026.117.042.238.042.362a1.68%201.68%200%200%201-1.679%201.679%201.68%201.68%200%200%201-1.679-1.679c0-.843.626-1.535%201.436-1.654zM5.059%205.406A1.68%201.68%200%200%201%203.38%207.085a1.68%201.68%200%200%201-1.679-1.679c0-.037.009-.072.011-.109.21.3.541.508.935.508a1.16%201.16%200%200%200%201.162-1.162%201.14%201.14%200%200%200-.474-.912c.015%200%20.03-.005.045-.005.926.001%201.679.754%201.679%201.68zM3.198%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zM1.375%208.964c0-.52.103-1.035.288-1.52.466.394%201.06.64%201.717.64%201.144%200%202.116-.725%202.499-1.738.383%201.012%201.355%201.738%202.499%201.738.867%200%201.631-.421%202.121-1.062.307.605.478%201.267.478%201.942%200%202.486-2.153%204.51-4.801%204.51s-4.801-2.023-4.801-4.51zm24.342%2019.349c-.985.498-2.267.168-3.813-.979-3.073-2.281-5.453-3.199-7.813-.705-1.315%201.391-4.163%203.365-8.423.97-3.174-1.786-2.239-6.266-1.261-9.479l.146-.492c.276-1.02.395-2.457.444-3.268a6.11%206.11%200%200%200%201.18.115%206.01%206.01%200%200%200%202.536-.562l-.006.175c-.802.215-1.848.612-2.021%201.25-.079.295.021.601.274.837.219.203.415.364.598.501-.667.304-1.243.698-1.311%201.179-.02.144-.022.507.393.787.213.144.395.26.564.365-1.285.521-1.361.96-1.381%201.126-.018.142-.011.496.427.746l.854.489c-.473.389-.971.914-.999%201.429-.018.278.095.532.316.713.675.556%201.231.721%201.653.721.059%200%20.104-.014.158-.02.207.707.641%201.64%201.513%201.64h.013c.8-.008%201.236-.345%201.462-.626.173-.216.268-.457.325-.692.424.195.93.374%201.372.374.151%200%20.294-.021.423-.068.732-.27.944-.704.993-1.021.009-.061.003-.119.002-.179.266.086.538.147.789.147.15%200%20.294-.021.423-.069.542-.2.797-.489.914-.754.237.147.478.258.704.288.106.014.205.021.296.021.356%200%20.595-.101.767-.229.438.435%201.094.992%201.656%201.067.106.014.205.021.296.021a1.56%201.56%200%200%200%20.323-.035c.17.575.453%201.289.866%201.605.358.273.665.362.914.362a.99.99%200%200%200%20.421-.093%201.03%201.03%200%200%200%20.245-.164c.168.428.39.846.68%201.068.358.273.665.362.913.362a.99.99%200%200%200%20.421-.093c.317-.148.512-.448.639-.762.251.157.495.257.726.257.127%200%20.25-.024.37-.071.427-.17.706-.617.841-1.314.022-.015.047-.022.068-.038.067-.051.133-.104.196-.159-.443%201.486-1.107%202.761-2.086%203.257zM8.66%209.925a.5.5%200%201%200-1%200c0%20.653-.818%201.205-1.787%201.205s-1.787-.552-1.787-1.205a.5.5%200%201%200-1%200c0%201.216%201.25%202.205%202.787%202.205s2.787-.989%202.787-2.205zm4.4%2015.965l-.208.097c-2.661%201.258-4.708%201.436-6.086.527-1.542-1.017-1.88-3.19-1.844-4.198a.4.4%200%200%200-.385-.414c-.242-.029-.406.164-.414.385-.046%201.249.367%203.686%202.202%204.896.708.467%201.547.7%202.51.7%201.248%200%202.706-.392%204.362-1.174l.185-.086a.4.4%200%200%200%20.205-.527c-.089-.204-.326-.291-.527-.206zM9.547%202.292c.093.077.205.114.317.114a.5.5%200%200%200%20.318-.886L8.817.397a.5.5%200%200%200-.703.068.5.5%200%200%200%20.069.703l1.364%201.124zm-7.661-.065c.086%200%20.173-.022.253-.068l1.523-.893a.5.5%200%200%200-.506-.863l-1.523.892a.5.5%200%200%200-.179.685c.094.158.261.247.432.247z%22%20transform%3D%22matrix%28-1%200%200%201%2058%200%29%22%20fill%3D%22%233bb300%22/%3E%3Cpath%20d%3D%22M.3%2021.86V10.18q0-.46.02-.68.04-.22.18-.5.28-.54%201.34-.54%201.06%200%201.42.28.38.26.44.78.76-1.04%202.38-1.04%201.64%200%203.1%201.54%201.46%201.54%201.46%203.58%200%202.04-1.46%203.58-1.44%201.54-3.08%201.54-1.64%200-2.38-.92v4.04q0%20.46-.04.68-.02.22-.18.5-.14.3-.5.42-.36.12-.98.12-.62%200-1-.12-.36-.12-.52-.4-.14-.28-.18-.5-.02-.22-.02-.68zm3.96-9.42q-.46.54-.46%201.18%200%20.64.46%201.18.48.52%201.2.52.74%200%201.24-.52.52-.52.52-1.18%200-.66-.48-1.18-.48-.54-1.26-.54-.76%200-1.22.54zm14.741-8.36q.16-.3.54-.42.38-.12%201-.12.64%200%201.02.12.38.12.52.42.16.3.18.54.04.22.04.68v11.94q0%20.46-.04.7-.02.22-.18.5-.3.54-1.7.54-1.38%200-1.54-.98-.84.96-2.34.96-1.8%200-3.28-1.56-1.48-1.58-1.48-3.66%200-2.1%201.48-3.68%201.5-1.58%203.28-1.58%201.48%200%202.3%201v-4.2q0-.46.02-.68.04-.24.18-.52zm-3.24%2010.86q.52.54%201.26.54.74%200%201.22-.54.5-.54.5-1.18%200-.66-.48-1.22-.46-.56-1.26-.56-.8%200-1.28.56-.48.54-.48%201.2%200%20.66.52%201.2zm7.833-1.2q0-2.4%201.68-3.96%201.68-1.56%203.84-1.56%202.16%200%203.82%201.56%201.66%201.54%201.66%203.94%200%201.66-.86%202.96-.86%201.28-2.1%201.9-1.22.6-2.54.6-1.32%200-2.56-.64-1.24-.66-2.1-1.92-.84-1.28-.84-2.88zm4.18%201.44q.64.48%201.3.48.66%200%201.32-.5.66-.5.66-1.48%200-.98-.62-1.46-.62-.48-1.34-.48-.72%200-1.34.5-.62.5-.62%201.48%200%20.96.64%201.46zm11.412-1.44q0%20.84.56%201.32.56.46%201.18.46.64%200%201.18-.36.56-.38.9-.38.6%200%201.46%201.06.46.58.46%201.04%200%20.76-1.1%201.42-1.14.8-2.8.8-1.86%200-3.58-1.34-.82-.64-1.34-1.7-.52-1.08-.52-2.36%200-1.3.52-2.34.52-1.06%201.34-1.7%201.66-1.32%203.54-1.32.76%200%201.48.22.72.2%201.06.4l.32.2q.36.24.56.38.52.4.52.92%200%20.5-.42%201.14-.72%201.1-1.38%201.1-.38%200-1.08-.44-.36-.34-1.04-.34-.66%200-1.24.48-.58.48-.58%201.34z%22%20fill%3D%22green%22/%3E%3C/svg%3E"/>
                    </a>
            </div>
        </nav>
    <main class="pdoc">
            <section>
                    <h1 class="modulename">
spectrumdevice    </h1>

                        <div class="docstring"><p>A high-level, object-oriented Python library for controlling Spectrum Instrumentation devices.</p>

<p><code><a href="">spectrumdevice</a></code> can connect to individual cards or
<a href="https://spectrum-instrumentation.com/en/m4i-star-hub">StarHubs</a> (e.g. the
<a href="https://spectrum-instrumentation.com/en/digitizernetbox">NetBox</a>). <code><a href="">spectrumdevice</a></code> provides the following classes
for controlling devices:</p>

<h3 id="hardware-classes">Hardware Classes</h3>

<table>
<thead>
<tr>
  <th>Name</th>
  <th>Purpose</th>
</tr>
</thead>
<tbody>
<tr>
  <td><code><a href="#SpectrumDigitiserCard">SpectrumDigitiserCard</a></code></td>
  <td>Controlling individual digitiser cards</td>
</tr>
<tr>
  <td><code><a href="#SpectrumDigitiserStarHub">SpectrumDigitiserStarHub</a></code></td>
  <td>Controlling digitiser cards aggregated with a StarHub</td>
</tr>
<tr>
  <td><code><a href="#SpectrumDigitiserAnalogChannel">SpectrumDigitiserAnalogChannel</a></code></td>
  <td>Controlling analog channels of a digitiser</td>
</tr>
<tr>
  <td><code><a href="#SpectrumDigitiserIOLine">SpectrumDigitiserIOLine</a></code></td>
  <td>Controlling multipurpose IO lines of a digitiser</td>
</tr>
<tr>
  <td><code><a href="#SpectrumAWGCard">SpectrumAWGCard</a></code></td>
  <td>Controlling individual AWG cards</td>
</tr>
<tr>
  <td><code>SpectrumAWGStarHub</code></td>
  <td>(not yet implemented)</td>
</tr>
<tr>
  <td><code><a href="#SpectrumAWGAnalogChannel">SpectrumAWGAnalogChannel</a></code></td>
  <td>Controlling analog channels of an AWG</td>
</tr>
<tr>
  <td><code><a href="#SpectrumAWGIOLine">SpectrumAWGIOLine</a></code></td>
  <td>Controlling multipurpose IO lines of an AWG</td>
</tr>
<tr>
  <td><code><a href="#PulseGenerator">PulseGenerator</a></code></td>
  <td>Controlling pulse generators belonging to IO lines</td>
</tr>
</tbody>
</table>

<h3 id="mock-classes">Mock Classes</h3>

<p><code><a href="">spectrumdevice</a></code> also includes mock classes for testing software without drivers installed or hardware connected:</p>

<table>
<thead>
<tr>
  <th>Name</th>
  <th>Purpose</th>
</tr>
</thead>
<tbody>
<tr>
  <td><code><a href="#MockSpectrumDigitiserCard">MockSpectrumDigitiserCard</a></code></td>
  <td>Mocking individual digitiser cards</td>
</tr>
<tr>
  <td><code><a href="#MockSpectrumDigitiserStarHub">MockSpectrumDigitiserStarHub</a></code></td>
  <td>Mocking digitiser cards aggregated with a StarHub</td>
</tr>
<tr>
  <td><code><a href="#MockSpectrumAWGCard">MockSpectrumAWGCard</a></code></td>
  <td>Mocking individual AWG cards</td>
</tr>
<tr>
  <td><code>MockSpectrumAWGStarHub</code></td>
  <td>Mocking AWG cards aggregated with a StarHub</td>
</tr>
</tbody>
</table>

<h3 id="abstract-classes">Abstract Classes</h3>

<p>The following abstract classes provide common implementations for methods whose functionality is identical across
different Spectrum devices. They cannot be instantiated themselves, but are included here as they contain
documentation for methods inherited by the concrete (and therefore instantiatable) classes above.</p>

<table>
<thead>
<tr>
  <th>Name</th>
  <th>Purpose</th>
</tr>
</thead>
<tbody>
<tr>
  <td><code><a href="#AbstractSpectrumDevice">AbstractSpectrumDevice</a></code></td>
  <td>Implements methods common to all devices</td>
</tr>
<tr>
  <td><code><a href="#AbstractSpectrumCard">AbstractSpectrumCard</a></code></td>
  <td>Implements methods common to all card</td>
</tr>
<tr>
  <td><code><a href="#AbstractSpectrumStarHub">AbstractSpectrumStarHub</a></code></td>
  <td>Implements methods common to all hubs</td>
</tr>
<tr>
  <td><code><a href="#AbstractSpectrumChannel">AbstractSpectrumChannel</a></code></td>
  <td>Implements methods common to all channels</td>
</tr>
<tr>
  <td><code><a href="#AbstractSpectrumDigitiser">AbstractSpectrumDigitiser</a></code></td>
  <td>Implements methods common to all digitisers</td>
</tr>
<tr>
  <td><code>AbstractSpectrumAWG</code></td>
  <td>Implements methods common to all AWGs</td>
</tr>
</tbody>
</table>

<h3 id="settings">Settings</h3>

<p>The submodule <code><a href="spectrumdevice/settings.html">spectrumdevice.settings</a></code> provides Enums and Dataclasses wrapping the register values provided by the
Spectrum API, to be used for configuring hardware and interpreting responses received from hardware.</p>

<h3 id="resources">Resources</h3>

<ul>
<li><a href="https://github.com/KCL-BMEIS/spectrumdevice">Source on GitHub</a></li>
<li><a href="https://github.com/KCL-BMEIS/spectrumdevice/blob/main/README.md">README including quickstart</a></li>
<li><a href="https://github.com/KCL-BMEIS/spectrumdevice/tree/main/example_scripts">Examples</a></li>
<li><a href="https://pypi.org/project/spectrumdevice/">PyPi</a></li>
<li><a href="https://kcl-bmeis.github.io/spectrumdevice/">API reference documentation</a></li>
</ul>

<h3 id="reference-documentation">Reference Documentation</h3>
</div>

                        <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">A high-level, object-oriented Python library for controlling Spectrum Instrumentation devices.</span>

<span class="sd">`spectrumdevice` can connect to individual cards or</span>
<span class="sd">[StarHubs](https://spectrum-instrumentation.com/en/m4i-star-hub) (e.g. the</span>
<span class="sd">[NetBox](https://spectrum-instrumentation.com/en/digitizernetbox)). `spectrumdevice` provides the following classes</span>
<span class="sd">for controlling devices:</span>

<span class="sd">### Hardware Classes</span>
<span class="sd">| Name                             | Purpose                                                 |</span>
<span class="sd">|----------------------------------|---------------------------------------------------------|</span>
<span class="sd">| `SpectrumDigitiserCard`          | Controlling individual digitiser cards                  |</span>
<span class="sd">| `SpectrumDigitiserStarHub`       | Controlling digitiser cards aggregated with a StarHub   |</span>
<span class="sd">| `SpectrumDigitiserAnalogChannel` | Controlling analog channels of a digitiser              |</span>
<span class="sd">| `SpectrumDigitiserIOLine`        | Controlling multipurpose IO lines of a digitiser        |</span>
<span class="sd">| `SpectrumAWGCard`                | Controlling individual AWG cards                        |</span>
<span class="sd">| `SpectrumAWGStarHub`             | (not yet implemented)                                   |</span>
<span class="sd">| `SpectrumAWGAnalogChannel`       | Controlling analog channels of an AWG                   |</span>
<span class="sd">| `SpectrumAWGIOLine`              | Controlling multipurpose IO lines of an AWG             |</span>
<span class="sd">| `PulseGenerator`                 | Controlling pulse generators belonging to IO lines      |</span>

<span class="sd">### Mock Classes</span>
<span class="sd">`spectrumdevice` also includes mock classes for testing software without drivers installed or hardware connected:</span>

<span class="sd">| Name                           | Purpose                                             |</span>
<span class="sd">|--------------------------------|-----------------------------------------------------|</span>
<span class="sd">| `MockSpectrumDigitiserCard`    | Mocking individual digitiser cards                  |</span>
<span class="sd">| `MockSpectrumDigitiserStarHub` | Mocking digitiser cards aggregated with a StarHub   |</span>
<span class="sd">| `MockSpectrumAWGCard`          | Mocking individual AWG cards                        |</span>
<span class="sd">| `MockSpectrumAWGStarHub`       | Mocking AWG cards aggregated with a StarHub         |</span>

<span class="sd">### Abstract Classes</span>
<span class="sd">The following abstract classes provide common implementations for methods whose functionality is identical across</span>
<span class="sd">different Spectrum devices. They cannot be instantiated themselves, but are included here as they contain</span>
<span class="sd">documentation for methods inherited by the concrete (and therefore instantiatable) classes above.</span>

<span class="sd">| Name                           | Purpose                                             |</span>
<span class="sd">|--------------------------------|-----------------------------------------------------|</span>
<span class="sd">| `AbstractSpectrumDevice`       | Implements methods common to all devices            |</span>
<span class="sd">| `AbstractSpectrumCard`         | Implements methods common to all card               |</span>
<span class="sd">| `AbstractSpectrumStarHub`      | Implements methods common to all hubs               |</span>
<span class="sd">| `AbstractSpectrumChannel`      | Implements methods common to all channels           |</span>
<span class="sd">| `AbstractSpectrumDigitiser`    | Implements methods common to all digitisers         |</span>
<span class="sd">| `AbstractSpectrumAWG`          | Implements methods common to all AWGs               |</span>

<span class="sd">### Settings</span>
<span class="sd">The submodule `spectrumdevice.settings` provides Enums and Dataclasses wrapping the register values provided by the</span>
<span class="sd">Spectrum API, to be used for configuring hardware and interpreting responses received from hardware.</span>

<span class="sd">### Resources</span>
<span class="sd">* [Source on GitHub](https://github.com/KCL-BMEIS/spectrumdevice)</span>
<span class="sd">* [README including quickstart](https://github.com/KCL-BMEIS/spectrumdevice/blob/main/README.md)</span>
<span class="sd">* [Examples](https://github.com/KCL-BMEIS/spectrumdevice/tree/main/example_scripts)</span>
<span class="sd">* [PyPi](https://pypi.org/project/spectrumdevice/)</span>
<span class="sd">* [API reference documentation](https://kcl-bmeis.github.io/spectrumdevice/)</span>

<span class="sd">### Reference Documentation</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="c1"># Christian Baker, King&#39;s College London</span>
<span class="c1"># Copyright (c) 2021 School of Biomedical Engineering &amp; Imaging Sciences, King&#39;s College London</span>
<span class="c1"># Licensed under the MIT. You may obtain a copy at https://opensource.org/licenses/MIT.</span>

<span class="kn">from</span> <span class="nn">.measurement</span> <span class="kn">import</span> <span class="n">Measurement</span>
<span class="kn">from</span> <span class="nn">.devices.digitiser.digitiser_card</span> <span class="kn">import</span> <span class="n">SpectrumDigitiserCard</span>
<span class="kn">from</span> <span class="nn">.devices.digitiser.digitiser_channel</span> <span class="kn">import</span> <span class="n">SpectrumDigitiserAnalogChannel</span><span class="p">,</span> <span class="n">SpectrumDigitiserIOLine</span>
<span class="kn">from</span> <span class="nn">.devices.digitiser.digitiser_star_hub</span> <span class="kn">import</span> <span class="n">SpectrumDigitiserStarHub</span>
<span class="kn">from</span> <span class="nn">.devices.awg.awg_card</span> <span class="kn">import</span> <span class="n">SpectrumAWGCard</span>
<span class="kn">from</span> <span class="nn">.devices.awg.awg_channel</span> <span class="kn">import</span> <span class="n">SpectrumAWGAnalogChannel</span><span class="p">,</span> <span class="n">SpectrumAWGIOLine</span>
<span class="kn">from</span> <span class="nn">.devices.mocks</span> <span class="kn">import</span> <span class="n">MockSpectrumDigitiserCard</span><span class="p">,</span> <span class="n">MockSpectrumDigitiserStarHub</span><span class="p">,</span> <span class="n">MockSpectrumAWGCard</span>
<span class="kn">from</span> <span class="nn">.devices.abstract_device</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">AbstractSpectrumDevice</span><span class="p">,</span>
    <span class="n">AbstractSpectrumCard</span><span class="p">,</span>
    <span class="n">AbstractSpectrumChannel</span><span class="p">,</span>
    <span class="n">AbstractSpectrumStarHub</span><span class="p">,</span>
<span class="p">)</span>
<span class="kn">from</span> <span class="nn">.devices.digitiser.abstract_spectrum_digitiser</span> <span class="kn">import</span> <span class="n">AbstractSpectrumDigitiser</span>
<span class="kn">from</span> <span class="nn">.features.pulse_generator.pulse_generator</span> <span class="kn">import</span> <span class="n">PulseGenerator</span>

<span class="n">__all__</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">&quot;SpectrumDigitiserAnalogChannel&quot;</span><span class="p">,</span>
    <span class="s2">&quot;SpectrumDigitiserIOLine&quot;</span><span class="p">,</span>
    <span class="s2">&quot;SpectrumDigitiserCard&quot;</span><span class="p">,</span>
    <span class="s2">&quot;SpectrumDigitiserStarHub&quot;</span><span class="p">,</span>
    <span class="s2">&quot;MockSpectrumDigitiserCard&quot;</span><span class="p">,</span>
    <span class="s2">&quot;MockSpectrumDigitiserStarHub&quot;</span><span class="p">,</span>
    <span class="s2">&quot;AbstractSpectrumDigitiser&quot;</span><span class="p">,</span>
    <span class="s2">&quot;AbstractSpectrumStarHub&quot;</span><span class="p">,</span>
    <span class="s2">&quot;AbstractSpectrumCard&quot;</span><span class="p">,</span>
    <span class="s2">&quot;AbstractSpectrumDevice&quot;</span><span class="p">,</span>
    <span class="s2">&quot;AbstractSpectrumChannel&quot;</span><span class="p">,</span>
    <span class="s2">&quot;settings&quot;</span><span class="p">,</span>
    <span class="s2">&quot;features&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Measurement&quot;</span><span class="p">,</span>
    <span class="s2">&quot;SpectrumAWGCard&quot;</span><span class="p">,</span>
    <span class="s2">&quot;MockSpectrumAWGCard&quot;</span><span class="p">,</span>
    <span class="s2">&quot;SpectrumAWGAnalogChannel&quot;</span><span class="p">,</span>
    <span class="s2">&quot;SpectrumAWGIOLine&quot;</span><span class="p">,</span>
    <span class="s2">&quot;PulseGenerator&quot;</span><span class="p">,</span>
<span class="p">]</span>


<span class="kn">from</span> <span class="nn">.</span> <span class="kn">import</span> <span class="n">_version</span>

<span class="n">__version__</span> <span class="o">=</span> <span class="n">_version</span><span class="o">.</span><span class="n">get_versions</span><span class="p">()[</span><span class="s2">&quot;version&quot;</span><span class="p">]</span>  <span class="c1"># type: ignore</span>
</pre></div>

        </details>

            </section>
                <section id="SpectrumDigitiserAnalogChannel">
                                <div class="attr class">
        <a class="headerlink" href="#SpectrumDigitiserAnalogChannel">#&nbsp;&nbsp</a>

        
        <span class="def">class</span>
        <span class="name">SpectrumDigitiserAnalogChannel</span><wbr>(<span class="base"><a href="#AbstractSpectrumChannel">spectrumdevice.AbstractSpectrumChannel[spectrumdevice.settings.channel.SpectrumAnalogChannelName]</a></span>, <span class="base">spectrumdevice.devices.abstract_device.channel_interfaces.SpectrumAnalogChannelInterface</span>, <span class="base">abc.ABC</span>):
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span><span class="k">class</span> <span class="nc">SpectrumDigitiserAnalogChannel</span><span class="p">(</span><span class="n">AbstractSpectrumAnalogChannel</span><span class="p">,</span> <span class="n">SpectrumDigitiserAnalogChannelInterface</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Class for controlling an individual channel of a spectrum digitiser. Channels are constructed automatically when</span>
<span class="sd">    a `SpectrumDigitiserCard` or `SpectrumDigitiserStarHub` is instantiated, and can then be accessed via the</span>
<span class="sd">    `.channels` property.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel_number</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">parent_device</span><span class="p">:</span> <span class="n">SpectrumDigitiserInterface</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>

        <span class="k">if</span> <span class="n">parent_device</span><span class="o">.</span><span class="n">type</span> <span class="o">!=</span> <span class="n">CardType</span><span class="o">.</span><span class="n">SPCM_TYPE_AI</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SpectrumCardIsNotADigitiser</span><span class="p">(</span><span class="n">parent_device</span><span class="o">.</span><span class="n">type</span><span class="p">)</span>

        <span class="c1"># pass unused args up the inheritance hierarchy</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">channel_number</span><span class="o">=</span><span class="n">channel_number</span><span class="p">,</span> <span class="n">parent_device</span><span class="o">=</span><span class="n">parent_device</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_full_scale_value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parent_device</span><span class="o">.</span><span class="n">read_spectrum_device_register</span><span class="p">(</span><span class="n">SPC_MIINST_MAXADCVALUE</span><span class="p">)</span>
        <span class="c1"># used frequently so store locally instead of reading from device each time:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_vertical_range_mv</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">vertical_range_in_mv</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_vertical_offset_in_percent</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">vertical_offset_in_percent</span>

    <span class="k">def</span> <span class="nf">_get_settings_as_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="n">SpectrumDigitiserAnalogChannel</span><span class="o">.</span><span class="n">input_path</span><span class="o">.</span><span class="vm">__name__</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">input_path</span><span class="p">,</span>
            <span class="n">SpectrumDigitiserAnalogChannel</span><span class="o">.</span><span class="n">input_coupling</span><span class="o">.</span><span class="vm">__name__</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">input_coupling</span><span class="p">,</span>
            <span class="n">SpectrumDigitiserAnalogChannel</span><span class="o">.</span><span class="n">input_impedance</span><span class="o">.</span><span class="vm">__name__</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">input_impedance</span><span class="p">,</span>
            <span class="n">SpectrumDigitiserAnalogChannel</span><span class="o">.</span><span class="n">vertical_range_in_mv</span><span class="o">.</span><span class="vm">__name__</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">vertical_range_in_mv</span><span class="p">,</span>
            <span class="n">SpectrumDigitiserAnalogChannel</span><span class="o">.</span><span class="n">vertical_offset_in_percent</span><span class="o">.</span><span class="vm">__name__</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">vertical_offset_in_percent</span><span class="p">,</span>
        <span class="p">}</span>

    <span class="k">def</span> <span class="nf">_set_settings_from_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">settings</span><span class="p">:</span> <span class="nb">dict</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_input_path</span><span class="p">(</span><span class="n">settings</span><span class="p">[</span><span class="n">SpectrumDigitiserAnalogChannel</span><span class="o">.</span><span class="n">input_path</span><span class="o">.</span><span class="vm">__name__</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_input_coupling</span><span class="p">(</span><span class="n">settings</span><span class="p">[</span><span class="n">SpectrumDigitiserAnalogChannel</span><span class="o">.</span><span class="n">input_coupling</span><span class="o">.</span><span class="vm">__name__</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_input_impedance</span><span class="p">(</span><span class="n">settings</span><span class="p">[</span><span class="n">SpectrumDigitiserAnalogChannel</span><span class="o">.</span><span class="n">input_impedance</span><span class="o">.</span><span class="vm">__name__</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_vertical_range_in_mv</span><span class="p">(</span><span class="n">settings</span><span class="p">[</span><span class="n">SpectrumDigitiserAnalogChannel</span><span class="o">.</span><span class="n">vertical_range_in_mv</span><span class="o">.</span><span class="vm">__name__</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_vertical_offset_in_percent</span><span class="p">(</span>
            <span class="n">settings</span><span class="p">[</span><span class="n">SpectrumDigitiserAnalogChannel</span><span class="o">.</span><span class="n">vertical_offset_in_percent</span><span class="o">.</span><span class="vm">__name__</span><span class="p">]</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">convert_raw_waveform_to_voltage_waveform</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">raw_waveform</span><span class="p">:</span> <span class="n">ndarray</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ndarray</span><span class="p">:</span>
        <span class="n">vertical_offset_mv</span> <span class="o">=</span> <span class="mf">0.01</span> <span class="o">*</span> <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_vertical_range_mv</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vertical_offset_in_percent</span><span class="p">)</span>
        <span class="k">return</span> <span class="mf">1e-3</span> <span class="o">*</span> <span class="p">(</span>
            <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_vertical_range_mv</span><span class="p">)</span> <span class="o">*</span> <span class="n">raw_waveform</span> <span class="o">/</span> <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_full_scale_value</span><span class="p">)</span> <span class="o">+</span> <span class="n">vertical_offset_mv</span>
        <span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">vertical_range_in_mv</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The currently set input range of the channel in mV.</span>

<span class="sd">        Returns:</span>
<span class="sd">            vertical_range (int): The currently set vertical range in mV.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_vertical_range_mv</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parent_device</span><span class="o">.</span><span class="n">read_spectrum_device_register</span><span class="p">(</span>
            <span class="n">VERTICAL_RANGE_COMMANDS</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_number</span><span class="p">]</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vertical_range_mv</span>

    <span class="k">def</span> <span class="nf">set_vertical_range_in_mv</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">vertical_range</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Set the input range of the channel in mV. See Spectrum documentation for valid values.</span>

<span class="sd">        Args:</span>
<span class="sd">            vertical_range (int): The desired vertical range in mV.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_parent_device</span><span class="o">.</span><span class="n">write_to_spectrum_device_register</span><span class="p">(</span><span class="n">VERTICAL_RANGE_COMMANDS</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_number</span><span class="p">],</span> <span class="n">vertical_range</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_vertical_range_mv</span> <span class="o">=</span> <span class="n">vertical_range</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">vertical_offset_in_percent</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The currently set input offset of the channel in percent of the vertical range.</span>

<span class="sd">        Returns:</span>
<span class="sd">            offset (int): The currently set vertical offset in percent.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_vertical_offset_in_percent</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parent_device</span><span class="o">.</span><span class="n">read_spectrum_device_register</span><span class="p">(</span>
            <span class="n">VERTICAL_OFFSET_COMMANDS</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_number</span><span class="p">]</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vertical_offset_in_percent</span>

    <span class="k">def</span> <span class="nf">set_vertical_offset_in_percent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">offset</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Set the input offset of the channel in percent of the vertical range. See spectrum documentation for valid</span>
<span class="sd">        values.</span>

<span class="sd">        Args:</span>
<span class="sd">            offset (int): The desired vertical offset in percent.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_parent_device</span><span class="o">.</span><span class="n">write_to_spectrum_device_register</span><span class="p">(</span><span class="n">VERTICAL_OFFSET_COMMANDS</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_number</span><span class="p">],</span> <span class="n">offset</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_vertical_offset_in_percent</span> <span class="o">=</span> <span class="n">offset</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">input_impedance</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">InputImpedance</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The current input impedance setting of the channel (50 Ohm or 1 MOhm)&quot;&quot;&quot;</span>
        <span class="n">impedance_binary_value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parent_device</span><span class="o">.</span><span class="n">read_spectrum_device_register</span><span class="p">(</span>
            <span class="n">INPUT_IMPEDANCE_COMMANDS</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_number</span><span class="p">]</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">InputImpedance</span><span class="p">(</span><span class="n">impedance_binary_value</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">set_input_impedance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">input_impedance</span><span class="p">:</span> <span class="n">InputImpedance</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_parent_device</span><span class="o">.</span><span class="n">write_to_spectrum_device_register</span><span class="p">(</span>
            <span class="n">INPUT_IMPEDANCE_COMMANDS</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_number</span><span class="p">],</span> <span class="n">input_impedance</span><span class="o">.</span><span class="n">value</span>
        <span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">input_coupling</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">InputCoupling</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The coupling (AC or DC) setting of the channel. Only available on some hardware.&quot;&quot;&quot;</span>
        <span class="n">coupling_binary_value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parent_device</span><span class="o">.</span><span class="n">read_spectrum_device_register</span><span class="p">(</span><span class="n">INPUT_COUPLING_COMMANDS</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_number</span><span class="p">])</span>
        <span class="k">return</span> <span class="n">InputCoupling</span><span class="p">(</span><span class="n">coupling_binary_value</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">set_input_coupling</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">input_coupling</span><span class="p">:</span> <span class="n">InputCoupling</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_parent_device</span><span class="o">.</span><span class="n">write_to_spectrum_device_register</span><span class="p">(</span>
            <span class="n">INPUT_COUPLING_COMMANDS</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_number</span><span class="p">],</span> <span class="n">input_coupling</span><span class="o">.</span><span class="n">value</span>
        <span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">input_path</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">InputPath</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The input path setting of the channel. Only available on some hardware.&quot;&quot;&quot;</span>
        <span class="n">path_binary_value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parent_device</span><span class="o">.</span><span class="n">read_spectrum_device_register</span><span class="p">(</span><span class="n">INPUT_PATH_COMMANDS</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_number</span><span class="p">])</span>
        <span class="k">return</span> <span class="n">InputPath</span><span class="p">(</span><span class="n">path_binary_value</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">set_input_path</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">input_path</span><span class="p">:</span> <span class="n">InputPath</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_parent_device</span><span class="o">.</span><span class="n">write_to_spectrum_device_register</span><span class="p">(</span><span class="n">INPUT_PATH_COMMANDS</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_number</span><span class="p">],</span> <span class="n">input_path</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Class for controlling an individual channel of a spectrum digitiser. Channels are constructed automatically when
a <code><a href="#SpectrumDigitiserCard">SpectrumDigitiserCard</a></code> or <code><a href="#SpectrumDigitiserStarHub">SpectrumDigitiserStarHub</a></code> is instantiated, and can then be accessed via the
<code>.channels</code> property.</p>
</div>


                            <div id="SpectrumDigitiserAnalogChannel.__init__" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SpectrumDigitiserAnalogChannel.__init__">#&nbsp;&nbsp</a>

        
            <span class="name">SpectrumDigitiserAnalogChannel</span><span class="signature">(
    channel_number: int,
    parent_device: <a href="#devices.digitiser.digitiser_interface.SpectrumDigitiserInterface">spectrumdevice.devices.digitiser.digitiser_interface.SpectrumDigitiserInterface</a>
)</span>
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel_number</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">parent_device</span><span class="p">:</span> <span class="n">SpectrumDigitiserInterface</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>

        <span class="k">if</span> <span class="n">parent_device</span><span class="o">.</span><span class="n">type</span> <span class="o">!=</span> <span class="n">CardType</span><span class="o">.</span><span class="n">SPCM_TYPE_AI</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SpectrumCardIsNotADigitiser</span><span class="p">(</span><span class="n">parent_device</span><span class="o">.</span><span class="n">type</span><span class="p">)</span>

        <span class="c1"># pass unused args up the inheritance hierarchy</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">channel_number</span><span class="o">=</span><span class="n">channel_number</span><span class="p">,</span> <span class="n">parent_device</span><span class="o">=</span><span class="n">parent_device</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_full_scale_value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parent_device</span><span class="o">.</span><span class="n">read_spectrum_device_register</span><span class="p">(</span><span class="n">SPC_MIINST_MAXADCVALUE</span><span class="p">)</span>
        <span class="c1"># used frequently so store locally instead of reading from device each time:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_vertical_range_mv</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">vertical_range_in_mv</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_vertical_offset_in_percent</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">vertical_offset_in_percent</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="SpectrumDigitiserAnalogChannel.convert_raw_waveform_to_voltage_waveform" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SpectrumDigitiserAnalogChannel.convert_raw_waveform_to_voltage_waveform">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">convert_raw_waveform_to_voltage_waveform</span><span class="signature">(self, raw_waveform: numpy.ndarray) -&gt; numpy.ndarray</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">convert_raw_waveform_to_voltage_waveform</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">raw_waveform</span><span class="p">:</span> <span class="n">ndarray</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ndarray</span><span class="p">:</span>
        <span class="n">vertical_offset_mv</span> <span class="o">=</span> <span class="mf">0.01</span> <span class="o">*</span> <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_vertical_range_mv</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">_vertical_offset_in_percent</span><span class="p">)</span>
        <span class="k">return</span> <span class="mf">1e-3</span> <span class="o">*</span> <span class="p">(</span>
            <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_vertical_range_mv</span><span class="p">)</span> <span class="o">*</span> <span class="n">raw_waveform</span> <span class="o">/</span> <span class="nb">float</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_full_scale_value</span><span class="p">)</span> <span class="o">+</span> <span class="n">vertical_offset_mv</span>
        <span class="p">)</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="SpectrumDigitiserAnalogChannel.vertical_range_in_mv" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#SpectrumDigitiserAnalogChannel.vertical_range_in_mv">#&nbsp;&nbsp</a>

        <span class="name">vertical_range_in_mv</span><span class="annotation">: int</span>
    </div>

            <div class="docstring"><p>The currently set input range of the channel in mV.</p>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>vertical_range (int): The currently set vertical range in mV.</p>
</blockquote>
</div>


                            </div>
                            <div id="SpectrumDigitiserAnalogChannel.set_vertical_range_in_mv" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SpectrumDigitiserAnalogChannel.set_vertical_range_in_mv">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_vertical_range_in_mv</span><span class="signature">(self, vertical_range: int) -&gt; None</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">set_vertical_range_in_mv</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">vertical_range</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Set the input range of the channel in mV. See Spectrum documentation for valid values.</span>

<span class="sd">        Args:</span>
<span class="sd">            vertical_range (int): The desired vertical range in mV.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_parent_device</span><span class="o">.</span><span class="n">write_to_spectrum_device_register</span><span class="p">(</span><span class="n">VERTICAL_RANGE_COMMANDS</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_number</span><span class="p">],</span> <span class="n">vertical_range</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_vertical_range_mv</span> <span class="o">=</span> <span class="n">vertical_range</span>
</pre></div>

        </details>

            <div class="docstring"><p>Set the input range of the channel in mV. See Spectrum documentation for valid values.</p>

<h6 id="args">Args</h6>

<ul>
<li><strong>vertical_range (int):</strong>  The desired vertical range in mV.</li>
</ul>
</div>


                            </div>
                            <div id="SpectrumDigitiserAnalogChannel.vertical_offset_in_percent" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#SpectrumDigitiserAnalogChannel.vertical_offset_in_percent">#&nbsp;&nbsp</a>

        <span class="name">vertical_offset_in_percent</span><span class="annotation">: int</span>
    </div>

            <div class="docstring"><p>The currently set input offset of the channel in percent of the vertical range.</p>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>offset (int): The currently set vertical offset in percent.</p>
</blockquote>
</div>


                            </div>
                            <div id="SpectrumDigitiserAnalogChannel.set_vertical_offset_in_percent" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SpectrumDigitiserAnalogChannel.set_vertical_offset_in_percent">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_vertical_offset_in_percent</span><span class="signature">(self, offset: int) -&gt; None</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">set_vertical_offset_in_percent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">offset</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Set the input offset of the channel in percent of the vertical range. See spectrum documentation for valid</span>
<span class="sd">        values.</span>

<span class="sd">        Args:</span>
<span class="sd">            offset (int): The desired vertical offset in percent.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_parent_device</span><span class="o">.</span><span class="n">write_to_spectrum_device_register</span><span class="p">(</span><span class="n">VERTICAL_OFFSET_COMMANDS</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_number</span><span class="p">],</span> <span class="n">offset</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_vertical_offset_in_percent</span> <span class="o">=</span> <span class="n">offset</span>
</pre></div>

        </details>

            <div class="docstring"><p>Set the input offset of the channel in percent of the vertical range. See spectrum documentation for valid
values.</p>

<h6 id="args">Args</h6>

<ul>
<li><strong>offset (int):</strong>  The desired vertical offset in percent.</li>
</ul>
</div>


                            </div>
                            <div id="SpectrumDigitiserAnalogChannel.input_impedance" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#SpectrumDigitiserAnalogChannel.input_impedance">#&nbsp;&nbsp</a>

        <span class="name">input_impedance</span><span class="annotation">: <a href="spectrumdevice/settings.html#channel.InputImpedance">spectrumdevice.settings.channel.InputImpedance</a></span>
    </div>

            <div class="docstring"><p>The current input impedance setting of the channel (50 Ohm or 1 MOhm)</p>
</div>


                            </div>
                            <div id="SpectrumDigitiserAnalogChannel.set_input_impedance" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SpectrumDigitiserAnalogChannel.set_input_impedance">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_input_impedance</span><span class="signature">(
    self,
    input_impedance: <a href="spectrumdevice/settings.html#channel.InputImpedance">spectrumdevice.settings.channel.InputImpedance</a>
) -&gt; None</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">set_input_impedance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">input_impedance</span><span class="p">:</span> <span class="n">InputImpedance</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_parent_device</span><span class="o">.</span><span class="n">write_to_spectrum_device_register</span><span class="p">(</span>
            <span class="n">INPUT_IMPEDANCE_COMMANDS</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_number</span><span class="p">],</span> <span class="n">input_impedance</span><span class="o">.</span><span class="n">value</span>
        <span class="p">)</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="SpectrumDigitiserAnalogChannel.input_coupling" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#SpectrumDigitiserAnalogChannel.input_coupling">#&nbsp;&nbsp</a>

        <span class="name">input_coupling</span><span class="annotation">: <a href="spectrumdevice/settings.html#channel.InputCoupling">spectrumdevice.settings.channel.InputCoupling</a></span>
    </div>

            <div class="docstring"><p>The coupling (AC or DC) setting of the channel. Only available on some hardware.</p>
</div>


                            </div>
                            <div id="SpectrumDigitiserAnalogChannel.set_input_coupling" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SpectrumDigitiserAnalogChannel.set_input_coupling">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_input_coupling</span><span class="signature">(
    self,
    input_coupling: <a href="spectrumdevice/settings.html#channel.InputCoupling">spectrumdevice.settings.channel.InputCoupling</a>
) -&gt; None</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">set_input_coupling</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">input_coupling</span><span class="p">:</span> <span class="n">InputCoupling</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_parent_device</span><span class="o">.</span><span class="n">write_to_spectrum_device_register</span><span class="p">(</span>
            <span class="n">INPUT_COUPLING_COMMANDS</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_number</span><span class="p">],</span> <span class="n">input_coupling</span><span class="o">.</span><span class="n">value</span>
        <span class="p">)</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="SpectrumDigitiserAnalogChannel.input_path" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#SpectrumDigitiserAnalogChannel.input_path">#&nbsp;&nbsp</a>

        <span class="name">input_path</span><span class="annotation">: <a href="spectrumdevice/settings.html#channel.InputPath">spectrumdevice.settings.channel.InputPath</a></span>
    </div>

            <div class="docstring"><p>The input path setting of the channel. Only available on some hardware.</p>
</div>


                            </div>
                            <div id="SpectrumDigitiserAnalogChannel.set_input_path" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SpectrumDigitiserAnalogChannel.set_input_path">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_input_path</span><span class="signature">(self, input_path: <a href="spectrumdevice/settings.html#channel.InputPath">spectrumdevice.settings.channel.InputPath</a>) -&gt; None</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">set_input_path</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">input_path</span><span class="p">:</span> <span class="n">InputPath</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_parent_device</span><span class="o">.</span><span class="n">write_to_spectrum_device_register</span><span class="p">(</span><span class="n">INPUT_PATH_COMMANDS</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_number</span><span class="p">],</span> <span class="n">input_path</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
</pre></div>

        </details>

    

                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt><a href="#AbstractSpectrumChannel">AbstractSpectrumChannel</a></dt>
                                <dd id="SpectrumDigitiserAnalogChannel.name" class="variable"><a href="#AbstractSpectrumChannel.name">name</a></dd>
                <dd id="SpectrumDigitiserAnalogChannel.write_to_parent_device_register" class="function"><a href="#AbstractSpectrumChannel.write_to_parent_device_register">write_to_parent_device_register</a></dd>
                <dd id="SpectrumDigitiserAnalogChannel.read_parent_device_register" class="function"><a href="#AbstractSpectrumChannel.read_parent_device_register">read_parent_device_register</a></dd>

            </div>
            <div><dt>spectrumdevice.devices.abstract_device.channel_interfaces.SpectrumAnalogChannelInterface</dt>
                                <dd id="SpectrumDigitiserAnalogChannel.copy_settings_from_other_channel" class="function">copy_settings_from_other_channel</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="SpectrumDigitiserIOLine">
                                <div class="attr class">
        <a class="headerlink" href="#SpectrumDigitiserIOLine">#&nbsp;&nbsp</a>

        
        <span class="def">class</span>
        <span class="name">SpectrumDigitiserIOLine</span><wbr>(<span class="base">spectrumdevice.devices.abstract_device.channel_interfaces.SpectrumIOLineInterface</span>, <span class="base"><a href="#AbstractSpectrumChannel">spectrumdevice.AbstractSpectrumChannel[spectrumdevice.settings.io_lines.SpectrumIOLineName]</a></span>, <span class="base">abc.ABC</span>):
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span><span class="k">class</span> <span class="nc">SpectrumDigitiserIOLine</span><span class="p">(</span><span class="n">AbstractSpectrumIOLine</span><span class="p">,</span> <span class="n">SpectrumDigitiserIOLineInterface</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Class for controlling multipurpose IO lines of a digitiser, e.g. X0, X1, X2 and X3.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent_device</span><span class="p">:</span> <span class="n">AbstractSpectrumCard</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">parent_device</span><span class="o">.</span><span class="n">type</span> <span class="o">!=</span> <span class="n">CardType</span><span class="o">.</span><span class="n">SPCM_TYPE_AI</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SpectrumCardIsNotADigitiser</span><span class="p">(</span><span class="n">parent_device</span><span class="o">.</span><span class="n">type</span><span class="p">)</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">parent_device</span><span class="o">=</span><span class="n">parent_device</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>  <span class="c1"># pass unused args up the inheritance hierarchy</span>

    <span class="k">def</span> <span class="nf">_get_io_line_mode_settings_mask</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mode</span><span class="p">:</span> <span class="n">IOLineMode</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="k">return</span> <span class="mi">0</span>  <span class="c1"># no settings required for DigOut</span>
</pre></div>

        </details>

            <div class="docstring"><p>Class for controlling multipurpose IO lines of a digitiser, e.g. X0, X1, X2 and X3.</p>
</div>


                            <div id="SpectrumDigitiserIOLine.__init__" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SpectrumDigitiserIOLine.__init__">#&nbsp;&nbsp</a>

        
            <span class="name">SpectrumDigitiserIOLine</span><span class="signature">(
    parent_device: <a href="#devices.abstract_device.abstract_spectrum_card.AbstractSpectrumCard">spectrumdevice.devices.abstract_device.abstract_spectrum_card.AbstractSpectrumCard</a>,
    **kwargs: Any
)</span>
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent_device</span><span class="p">:</span> <span class="n">AbstractSpectrumCard</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">parent_device</span><span class="o">.</span><span class="n">type</span> <span class="o">!=</span> <span class="n">CardType</span><span class="o">.</span><span class="n">SPCM_TYPE_AI</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SpectrumCardIsNotADigitiser</span><span class="p">(</span><span class="n">parent_device</span><span class="o">.</span><span class="n">type</span><span class="p">)</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">parent_device</span><span class="o">=</span><span class="n">parent_device</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>  <span class="c1"># pass unused args up the inheritance hierarchy</span>
</pre></div>

        </details>

    

                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>spectrumdevice.devices.abstract_device.abstract_spectrum_io_line.AbstractSpectrumIOLine</dt>
                                <dd id="SpectrumDigitiserIOLine.mode" class="variable">mode</dd>
                <dd id="SpectrumDigitiserIOLine.set_mode" class="function">set_mode</dd>
                <dd id="SpectrumDigitiserIOLine.pulse_generator" class="variable">pulse_generator</dd>

            </div>
            <div><dt><a href="#AbstractSpectrumChannel">AbstractSpectrumChannel</a></dt>
                                <dd id="SpectrumDigitiserIOLine.name" class="variable"><a href="#AbstractSpectrumChannel.name">name</a></dd>
                <dd id="SpectrumDigitiserIOLine.write_to_parent_device_register" class="function"><a href="#AbstractSpectrumChannel.write_to_parent_device_register">write_to_parent_device_register</a></dd>
                <dd id="SpectrumDigitiserIOLine.read_parent_device_register" class="function"><a href="#AbstractSpectrumChannel.read_parent_device_register">read_parent_device_register</a></dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="SpectrumDigitiserCard">
                                <div class="attr class">
        <a class="headerlink" href="#SpectrumDigitiserCard">#&nbsp;&nbsp</a>

        
        <span class="def">class</span>
        <span class="name">SpectrumDigitiserCard</span><wbr>(<span class="base"><a href="#AbstractSpectrumCard">spectrumdevice.AbstractSpectrumCard[spectrumdevice.devices.digitiser.digitiser_interface.SpectrumDigitiserAnalogChannelInterface, spectrumdevice.devices.digitiser.digitiser_interface.SpectrumDigitiserIOLineInterface]</a></span>, <span class="base"><a href="#AbstractSpectrumDigitiser">spectrumdevice.AbstractSpectrumDigitiser</a></span>):
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span><span class="k">class</span> <span class="nc">SpectrumDigitiserCard</span><span class="p">(</span>
    <span class="n">AbstractSpectrumCard</span><span class="p">[</span><span class="n">SpectrumDigitiserAnalogChannelInterface</span><span class="p">,</span> <span class="n">SpectrumDigitiserIOLineInterface</span><span class="p">],</span>
    <span class="n">AbstractSpectrumDigitiser</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Class for controlling individual Spectrum digitiser cards.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">device_number</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">ip_address</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Args:</span>
<span class="sd">            device_number (int): Index of the card to control. If only one card is present, set to 0.</span>
<span class="sd">            ip_address (Optional[str]): If connecting to a networked card, provide the IP address here as a string.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># pass unused args up the inheritance hierarchy</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">device_number</span><span class="o">=</span><span class="n">device_number</span><span class="p">,</span> <span class="n">ip_address</span><span class="o">=</span><span class="n">ip_address</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">!=</span> <span class="n">CardType</span><span class="o">.</span><span class="n">SPCM_TYPE_AI</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SpectrumCardIsNotADigitiser</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">type</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_acquisition_mode</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">acquisition_mode</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_timestamper</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Timestamper</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_batch_size</span> <span class="o">=</span> <span class="mi">1</span>

    <span class="k">def</span> <span class="nf">_init_analog_channels</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">SpectrumDigitiserAnalogChannelInterface</span><span class="p">]:</span>
        <span class="n">num_modules</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">read_spectrum_device_register</span><span class="p">(</span><span class="n">SPC_MIINST_MODULES</span><span class="p">)</span>
        <span class="n">num_channels_per_module</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">read_spectrum_device_register</span><span class="p">(</span><span class="n">SPC_MIINST_CHPERMODULE</span><span class="p">)</span>
        <span class="n">total_channels</span> <span class="o">=</span> <span class="n">num_modules</span> <span class="o">*</span> <span class="n">num_channels_per_module</span>
        <span class="k">return</span> <span class="nb">tuple</span><span class="p">(</span>
            <span class="p">[</span><span class="n">SpectrumDigitiserAnalogChannel</span><span class="p">(</span><span class="n">channel_number</span><span class="o">=</span><span class="n">n</span><span class="p">,</span> <span class="n">parent_device</span><span class="o">=</span><span class="bp">self</span><span class="p">)</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">total_channels</span><span class="p">)]</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_init_io_lines</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">SpectrumDigitiserIOLineInterface</span><span class="p">]:</span>
        <span class="k">if</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">model_number</span><span class="o">.</span><span class="n">value</span> <span class="o">&amp;</span> <span class="n">TYP_SERIESMASK</span><span class="p">)</span> <span class="o">==</span> <span class="n">TYP_M2PEXPSERIES</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">tuple</span><span class="p">([</span><span class="n">SpectrumDigitiserIOLine</span><span class="p">(</span><span class="n">channel_number</span><span class="o">=</span><span class="n">n</span><span class="p">,</span> <span class="n">parent_device</span><span class="o">=</span><span class="bp">self</span><span class="p">)</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">)])</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s2">&quot;Don&#39;t know how many IO lines other types of card have. Only M2P series.&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">enable_timestamping</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_timestamper</span> <span class="o">=</span> <span class="n">Timestamper</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">wait_for_acquisition_to_complete</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Blocks until the current acquisition has finished, or the timeout is reached.</span>

<span class="sd">        In Standard Single mode (SPC_REC_STD_SINGLE), this should be called after `start()`. Once the call</span>
<span class="sd">            to `wait_for_acquisition_to_complete()` returns, the newly acquired samples are in the on_device buffer and</span>
<span class="sd">            ready for transfer to the `TransferBuffer` using `start_transfer()`.</span>

<span class="sd">        In FIFO mode (SPC_REC_FIFO_MULTI), the card will continue to acquire samples until</span>
<span class="sd">            `stop()` is called, so `wait_for_acquisition_to_complete()` should not be used.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_to_spectrum_device_register</span><span class="p">(</span><span class="n">SPC_M2CMD</span><span class="p">,</span> <span class="n">M2CMD_CARD_WAITREADY</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_waveforms</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">NDArray</span><span class="p">[</span><span class="n">float_</span><span class="p">]]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a list of the most recently transferred waveforms, in channel order.</span>

<span class="sd">        This method copies and reshapes the samples in the `TransferBuffer` into a list of lists of 1D NumPy arrays</span>
<span class="sd">        (waveforms) and returns the list.</span>

<span class="sd">        In Standard Single mode (SPC_REC_STD_SINGLE), `get_waveforms()` should be called after</span>
<span class="sd">        `wait_for_transfer_to_complete()` has returned.</span>

<span class="sd">        In FIFO mode (SPC_REC_FIFO_MULTI), while the card is continuously acquiring samples and transferring them to the</span>
<span class="sd">        `TransferBuffer`, this method should be called in a loop . The method will block until each new transfer is</span>
<span class="sd">        received, so the loop will run at the same rate as the acquisition (in SPC_REC_FIFO_MULTI mode, for example,</span>
<span class="sd">        this would the rate at which your trigger source was running).</span>

<span class="sd">        Returns:</span>
<span class="sd">             waveforms (List[List[NDArray[float_]]]): A list of lists of 1D numpy arrays, one inner list per acquisition</span>
<span class="sd">             and one array per enabled channel, in channel order. To average the acquisitions:</span>
<span class="sd">                `np.array(waveforms).mean(axis=0)`</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_transfer_buffer</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SpectrumNoTransferBufferDefined</span><span class="p">(</span><span class="s2">&quot;Cannot find a samples transfer buffer&quot;</span><span class="p">)</span>

        <span class="n">num_read_bytes</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">num_samples_per_frame</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">acquisition_length_in_samples</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">enabled_analog_channel_nums</span><span class="p">)</span>
        <span class="n">num_expected_bytes_per_frame</span> <span class="o">=</span> <span class="n">num_samples_per_frame</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">_transfer_buffer</span><span class="o">.</span><span class="n">data_array</span><span class="o">.</span><span class="n">itemsize</span>
        <span class="n">raw_samples</span> <span class="o">=</span> <span class="n">zeros</span><span class="p">(</span><span class="n">num_samples_per_frame</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">_batch_size</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_transfer_buffer</span><span class="o">.</span><span class="n">data_array</span><span class="o">.</span><span class="n">dtype</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">acquisition_mode</span> <span class="ow">in</span> <span class="p">(</span><span class="n">AcquisitionMode</span><span class="o">.</span><span class="n">SPC_REC_STD_SINGLE</span><span class="p">,</span> <span class="n">AcquisitionMode</span><span class="o">.</span><span class="n">SPC_REC_STD_AVERAGE</span><span class="p">):</span>
            <span class="n">raw_samples</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_transfer_buffer</span><span class="o">.</span><span class="n">copy_contents</span><span class="p">()</span>

        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">acquisition_mode</span> <span class="ow">in</span> <span class="p">(</span><span class="n">AcquisitionMode</span><span class="o">.</span><span class="n">SPC_REC_FIFO_MULTI</span><span class="p">,</span> <span class="n">AcquisitionMode</span><span class="o">.</span><span class="n">SPC_REC_FIFO_AVERAGE</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_transfer_chunk_to_complete</span><span class="p">()</span>

            <span class="k">while</span> <span class="n">num_read_bytes</span> <span class="o">&lt;</span> <span class="p">(</span><span class="n">num_expected_bytes_per_frame</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">_batch_size</span><span class="p">):</span>
                <span class="n">num_available_bytes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">read_spectrum_device_register</span><span class="p">(</span><span class="n">SPC_DATA_AVAIL_USER_LEN</span><span class="p">)</span>
                <span class="n">position_of_available_bytes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">read_spectrum_device_register</span><span class="p">(</span><span class="n">SPC_DATA_AVAIL_USER_POS</span><span class="p">)</span>

                <span class="c1"># Don&#39;t allow reading over the end of the transfer buffer</span>
                <span class="k">if</span> <span class="p">(</span>
                    <span class="n">position_of_available_bytes</span> <span class="o">+</span> <span class="n">num_available_bytes</span>
                <span class="p">)</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">_transfer_buffer</span><span class="o">.</span><span class="n">data_array_length_in_bytes</span><span class="p">:</span>
                    <span class="n">num_available_bytes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_transfer_buffer</span><span class="o">.</span><span class="n">data_array_length_in_bytes</span> <span class="o">-</span> <span class="n">position_of_available_bytes</span>

                <span class="c1"># Don&#39;t allow reading over the end of the current acquisition:</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">num_read_bytes</span> <span class="o">+</span> <span class="n">num_available_bytes</span><span class="p">)</span> <span class="o">&gt;</span> <span class="p">(</span><span class="n">num_expected_bytes_per_frame</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">_batch_size</span><span class="p">):</span>
                    <span class="n">num_available_bytes</span> <span class="o">=</span> <span class="p">(</span><span class="n">num_expected_bytes_per_frame</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">_batch_size</span><span class="p">)</span> <span class="o">-</span> <span class="n">num_read_bytes</span>

                <span class="n">num_available_samples</span> <span class="o">=</span> <span class="n">num_available_bytes</span> <span class="o">//</span> <span class="bp">self</span><span class="o">.</span><span class="n">_transfer_buffer</span><span class="o">.</span><span class="n">data_array</span><span class="o">.</span><span class="n">itemsize</span>
                <span class="n">num_read_samples</span> <span class="o">=</span> <span class="n">num_read_bytes</span> <span class="o">//</span> <span class="bp">self</span><span class="o">.</span><span class="n">_transfer_buffer</span><span class="o">.</span><span class="n">data_array</span><span class="o">.</span><span class="n">itemsize</span>

                <span class="n">raw_samples</span><span class="p">[</span>
                    <span class="n">num_read_samples</span> <span class="p">:</span> <span class="n">num_read_samples</span> <span class="o">+</span> <span class="n">num_available_samples</span>
                <span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_transfer_buffer</span><span class="o">.</span><span class="n">read_chunk</span><span class="p">(</span><span class="n">position_of_available_bytes</span><span class="p">,</span> <span class="n">num_available_bytes</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">write_to_spectrum_device_register</span><span class="p">(</span><span class="n">SPC_DATA_AVAIL_CARD_LEN</span><span class="p">,</span> <span class="n">num_available_bytes</span><span class="p">)</span>

                <span class="n">num_read_bytes</span> <span class="o">+=</span> <span class="n">num_available_bytes</span>

        <span class="n">waveforms_in_columns</span> <span class="o">=</span> <span class="n">raw_samples</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span>
            <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_batch_size</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">acquisition_length_in_samples</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">enabled_analog_channel_nums</span><span class="p">))</span>
        <span class="p">)</span>

        <span class="n">repeat_acquisitions</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_batch_size</span><span class="p">):</span>
            <span class="n">repeat_acquisitions</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                <span class="p">[</span>
                    <span class="n">cast</span><span class="p">(</span>
                        <span class="n">SpectrumDigitiserAnalogChannel</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">analog_channels</span><span class="p">[</span><span class="n">ch_num</span><span class="p">]</span>
                    <span class="p">)</span><span class="o">.</span><span class="n">convert_raw_waveform_to_voltage_waveform</span><span class="p">(</span><span class="n">squeeze</span><span class="p">(</span><span class="n">waveform</span><span class="p">))</span>
                    <span class="k">for</span> <span class="n">ch_num</span><span class="p">,</span> <span class="n">waveform</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">enabled_analog_channel_nums</span><span class="p">,</span> <span class="n">waveforms_in_columns</span><span class="p">[</span><span class="n">n</span><span class="p">,</span> <span class="p">:,</span> <span class="p">:]</span><span class="o">.</span><span class="n">T</span><span class="p">)</span>
                <span class="p">]</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="n">repeat_acquisitions</span>

    <span class="k">def</span> <span class="nf">get_timestamp</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get timestamp for the last acquisition&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_timestamper</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_timestamper</span><span class="o">.</span><span class="n">get_timestamp</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">acquisition_length_in_samples</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The current recording length (per channel) in samples.</span>

<span class="sd">        Returns:</span>
<span class="sd">            length_in_samples (int): The current recording length (&#39;acquisition length&#39;) in samples.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">read_spectrum_device_register</span><span class="p">(</span><span class="n">SPC_MEMSIZE</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">set_acquisition_length_in_samples</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">length_in_samples</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Change the recording length (per channel). In FIFO mode, it will be quantised according to the step size</span>
<span class="sd">          allowed by the connected card type.</span>

<span class="sd">        Args:</span>
<span class="sd">            length_in_samples (int): The desired recording length (&#39;acquisition length&#39;), in samples.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">length_in_samples</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_coerce_num_samples_if_fifo</span><span class="p">(</span><span class="n">length_in_samples</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_to_spectrum_device_register</span><span class="p">(</span><span class="n">SPC_SEGMENTSIZE</span><span class="p">,</span> <span class="n">length_in_samples</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_to_spectrum_device_register</span><span class="p">(</span><span class="n">SPC_MEMSIZE</span><span class="p">,</span> <span class="n">length_in_samples</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">post_trigger_length_in_samples</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The number of samples of the recording that will contain data received after the trigger event.</span>

<span class="sd">        Returns:</span>
<span class="sd">            length_in_samples (int): The currently set post trigger length in samples.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">read_spectrum_device_register</span><span class="p">(</span><span class="n">SPC_POSTTRIGGER</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">set_post_trigger_length_in_samples</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">length_in_samples</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Change the number of samples of the recording that will contain data received after the trigger event.</span>
<span class="sd">        In FIFO mode, this will be quantised according to the minimum step size allowed by the connected card.</span>

<span class="sd">        Args:</span>
<span class="sd">            length_in_samples (int): The desired post trigger length in samples.&quot;&quot;&quot;</span>
        <span class="n">length_in_samples</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_coerce_num_samples_if_fifo</span><span class="p">(</span><span class="n">length_in_samples</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">acquisition_mode</span> <span class="o">==</span> <span class="n">AcquisitionMode</span><span class="o">.</span><span class="n">SPC_REC_FIFO_MULTI</span><span class="p">:</span>
            <span class="k">if</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">acquisition_length_in_samples</span> <span class="o">-</span> <span class="n">length_in_samples</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">get_memsize_step_size</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_model_number</span><span class="p">):</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                    <span class="s2">&quot;FIFO mode: coercing post trigger length to maximum allowed value (step-size samples less than &quot;</span>
                    <span class="s2">&quot;the acquisition length).&quot;</span>
                <span class="p">)</span>
                <span class="n">length_in_samples</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">acquisition_length_in_samples</span> <span class="o">-</span> <span class="n">get_memsize_step_size</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_model_number</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_to_spectrum_device_register</span><span class="p">(</span><span class="n">SPC_POSTTRIGGER</span><span class="p">,</span> <span class="n">length_in_samples</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_coerce_num_samples_if_fifo</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">acquisition_mode</span> <span class="o">==</span> <span class="n">AcquisitionMode</span><span class="o">.</span><span class="n">SPC_REC_FIFO_MULTI</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">value</span> <span class="o">!=</span> <span class="n">mod</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">get_memsize_step_size</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_model_number</span><span class="p">)):</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;FIFO mode: coercing length to nearest </span><span class="si">{</span><span class="n">get_memsize_step_size</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_model_number</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span> <span class="sa">f</span><span class="s2">&quot; samples&quot;</span>
                <span class="p">)</span>
                <span class="n">value</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">value</span> <span class="o">-</span> <span class="n">mod</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">get_memsize_step_size</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_model_number</span><span class="p">)))</span>
        <span class="k">return</span> <span class="n">value</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">number_of_averages</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">read_spectrum_device_register</span><span class="p">(</span><span class="n">SPC_AVERAGES</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">set_number_of_averages</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">num_averages</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">num_averages</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">write_to_spectrum_device_register</span><span class="p">(</span><span class="n">SPC_AVERAGES</span><span class="p">,</span> <span class="n">num_averages</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Number of averages must be greater than 0.&quot;</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">acquisition_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AcquisitionMode</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The currently enabled card mode. Will raise an exception if the current mode is not supported by</span>
<span class="sd">        `spectrumdevice`.</span>

<span class="sd">        Returns:</span>
<span class="sd">            mode (`AcquisitionMode`): The currently enabled card acquisition mode.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">AcquisitionMode</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">read_spectrum_device_register</span><span class="p">(</span><span class="n">SPC_CARDMODE</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">set_acquisition_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mode</span><span class="p">:</span> <span class="n">AcquisitionMode</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Change the currently enabled card mode. See `AcquisitionMode` and the Spectrum documentation</span>
<span class="sd">        for the available modes.</span>

<span class="sd">        Args:</span>
<span class="sd">            mode (`AcquisitionMode`): The desired acquisition mode.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_to_spectrum_device_register</span><span class="p">(</span><span class="n">SPC_CARDMODE</span><span class="p">,</span> <span class="n">mode</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">batch_size</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_batch_size</span>

    <span class="k">def</span> <span class="nf">set_batch_size</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">batch_size</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_batch_size</span> <span class="o">=</span> <span class="n">batch_size</span>

    <span class="k">def</span> <span class="nf">define_transfer_buffer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">buffer</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Sequence</span><span class="p">[</span><span class="n">TransferBuffer</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create or provide a `TransferBuffer` object for receiving acquired samples from the device.</span>

<span class="sd">        If no buffer is provided, and no buffer has previously been defined, then one will be created: in FIFO mode,</span>
<span class="sd">         with a notify size of 10 pages or the size of the acquisition, whichever is smaller; in Standard Single mode,</span>
<span class="sd">         one with the correct length and no notify size. A separate buffer for transferring Timestamps will also be</span>
<span class="sd">         created using the Timestamper class.</span>

<span class="sd">        Args:</span>
<span class="sd">            buffer (Optional[List[`TransferBuffer`]]): A length-1 list containing a pre-constructed</span>
<span class="sd">                `TransferBuffer` set up for card-to-PC transfer of samples (&quot;data&quot;). The size of the buffer should be</span>
<span class="sd">                chosen according to the current number of active channels, the acquisition length and the number</span>
<span class="sd">                of acquisitions which you intend to download at a time using get_waveforms().</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_set_or_update_transfer_buffer_attribute</span><span class="p">(</span><span class="n">buffer</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_transfer_buffer</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">set_transfer_buffer</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_handle</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_transfer_buffer</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_set_or_update_transfer_buffer_attribute</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">buffer</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Sequence</span><span class="p">[</span><span class="n">TransferBuffer</span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">buffer</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_transfer_buffer</span> <span class="o">=</span> <span class="n">buffer</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_transfer_buffer</span><span class="o">.</span><span class="n">direction</span> <span class="o">!=</span> <span class="n">BufferDirection</span><span class="o">.</span><span class="n">SPCM_DIR_CARDTOPC</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Digitisers need a transfer buffer with direction BufferDirection.SPCM_DIR_CARDTOPC&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_transfer_buffer</span><span class="o">.</span><span class="n">type</span> <span class="o">!=</span> <span class="n">BufferType</span><span class="o">.</span><span class="n">SPCM_BUF_DATA</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Digitisers need a transfer buffer with type BufferDirection.SPCM_BUF_DATA&quot;</span><span class="p">)</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">_transfer_buffer</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">acquisition_mode</span> <span class="ow">in</span> <span class="p">(</span><span class="n">AcquisitionMode</span><span class="o">.</span><span class="n">SPC_REC_FIFO_MULTI</span><span class="p">,</span> <span class="n">AcquisitionMode</span><span class="o">.</span><span class="n">SPC_REC_FIFO_AVERAGE</span><span class="p">):</span>
                <span class="n">samples_per_batch</span> <span class="o">=</span> <span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">acquisition_length_in_samples</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">enabled_analog_channel_nums</span><span class="p">)</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">_batch_size</span>
                <span class="p">)</span>
                <span class="n">pages_per_batch</span> <span class="o">=</span> <span class="n">samples_per_batch</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">bytes_per_sample</span> <span class="o">/</span> <span class="n">PAGE_SIZE_IN_BYTES</span>

                <span class="k">if</span> <span class="n">pages_per_batch</span> <span class="o">&lt;</span> <span class="n">DEFAULT_NOTIFY_SIZE_IN_PAGES</span><span class="p">:</span>
                    <span class="n">notify_size</span> <span class="o">=</span> <span class="n">pages_per_batch</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">notify_size</span> <span class="o">=</span> <span class="n">DEFAULT_NOTIFY_SIZE_IN_PAGES</span>

                <span class="c1"># Make transfer buffer big enough to hold all samples in the batch</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_transfer_buffer</span> <span class="o">=</span> <span class="n">create_samples_acquisition_transfer_buffer</span><span class="p">(</span>
                    <span class="n">size_in_samples</span><span class="o">=</span><span class="n">samples_per_batch</span><span class="p">,</span>
                    <span class="n">notify_size_in_pages</span><span class="o">=</span><span class="n">notify_size</span><span class="p">,</span>
                    <span class="n">bytes_per_sample</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">bytes_per_sample</span><span class="p">,</span>
                <span class="p">)</span>
            <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">acquisition_mode</span> <span class="ow">in</span> <span class="p">(</span><span class="n">AcquisitionMode</span><span class="o">.</span><span class="n">SPC_REC_STD_SINGLE</span><span class="p">,</span> <span class="n">AcquisitionMode</span><span class="o">.</span><span class="n">SPC_REC_STD_AVERAGE</span><span class="p">):</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_transfer_buffer</span> <span class="o">=</span> <span class="n">create_samples_acquisition_transfer_buffer</span><span class="p">(</span>
                    <span class="n">size_in_samples</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">acquisition_length_in_samples</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">enabled_analog_channel_nums</span><span class="p">),</span>
                    <span class="n">notify_size_in_pages</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                    <span class="n">bytes_per_sample</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">bytes_per_sample</span><span class="p">,</span>
                <span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;AcquisitionMode not recognised&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;Card </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_visa_string</span><span class="si">}</span><span class="s2">&quot;</span>
</pre></div>

        </details>

            <div class="docstring"><p>Class for controlling individual Spectrum digitiser cards.</p>
</div>


                            <div id="SpectrumDigitiserCard.__init__" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SpectrumDigitiserCard.__init__">#&nbsp;&nbsp</a>

        
            <span class="name">SpectrumDigitiserCard</span><span class="signature">(device_number: int, ip_address: Optional[str] = None)</span>
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">device_number</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">ip_address</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Args:</span>
<span class="sd">            device_number (int): Index of the card to control. If only one card is present, set to 0.</span>
<span class="sd">            ip_address (Optional[str]): If connecting to a networked card, provide the IP address here as a string.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># pass unused args up the inheritance hierarchy</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">device_number</span><span class="o">=</span><span class="n">device_number</span><span class="p">,</span> <span class="n">ip_address</span><span class="o">=</span><span class="n">ip_address</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">type</span> <span class="o">!=</span> <span class="n">CardType</span><span class="o">.</span><span class="n">SPCM_TYPE_AI</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SpectrumCardIsNotADigitiser</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">type</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_acquisition_mode</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">acquisition_mode</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_timestamper</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Timestamper</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_batch_size</span> <span class="o">=</span> <span class="mi">1</span>
</pre></div>

        </details>

            <div class="docstring"><h6 id="args">Args</h6>

<ul>
<li><strong>device_number (int):</strong>  Index of the card to control. If only one card is present, set to 0.</li>
<li><strong>ip_address (Optional[str]):</strong>  If connecting to a networked card, provide the IP address here as a string.</li>
</ul>
</div>


                            </div>
                            <div id="SpectrumDigitiserCard.enable_timestamping" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SpectrumDigitiserCard.enable_timestamping">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">enable_timestamping</span><span class="signature">(self) -&gt; None</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">enable_timestamping</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_timestamper</span> <span class="o">=</span> <span class="n">Timestamper</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle</span><span class="p">)</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="SpectrumDigitiserCard.wait_for_acquisition_to_complete" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SpectrumDigitiserCard.wait_for_acquisition_to_complete">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">wait_for_acquisition_to_complete</span><span class="signature">(self) -&gt; None</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">wait_for_acquisition_to_complete</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Blocks until the current acquisition has finished, or the timeout is reached.</span>

<span class="sd">        In Standard Single mode (SPC_REC_STD_SINGLE), this should be called after `start()`. Once the call</span>
<span class="sd">            to `wait_for_acquisition_to_complete()` returns, the newly acquired samples are in the on_device buffer and</span>
<span class="sd">            ready for transfer to the `TransferBuffer` using `start_transfer()`.</span>

<span class="sd">        In FIFO mode (SPC_REC_FIFO_MULTI), the card will continue to acquire samples until</span>
<span class="sd">            `stop()` is called, so `wait_for_acquisition_to_complete()` should not be used.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_to_spectrum_device_register</span><span class="p">(</span><span class="n">SPC_M2CMD</span><span class="p">,</span> <span class="n">M2CMD_CARD_WAITREADY</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Blocks until the current acquisition has finished, or the timeout is reached.</p>

<p>In Standard Single mode (SPC_REC_STD_SINGLE), this should be called after <code><a href="#SpectrumDigitiserCard.start">start()</a></code>. Once the call
    to <code><a href="#SpectrumDigitiserCard.wait_for_acquisition_to_complete">wait_for_acquisition_to_complete()</a></code> returns, the newly acquired samples are in the on_device buffer and
    ready for transfer to the <code>TransferBuffer</code> using <code><a href="#SpectrumDigitiserCard.start_transfer">start_transfer()</a></code>.</p>

<p>In FIFO mode (SPC_REC_FIFO_MULTI), the card will continue to acquire samples until
    <code><a href="#SpectrumDigitiserCard.stop">stop()</a></code> is called, so <code><a href="#SpectrumDigitiserCard.wait_for_acquisition_to_complete">wait_for_acquisition_to_complete()</a></code> should not be used.</p>
</div>


                            </div>
                            <div id="SpectrumDigitiserCard.get_waveforms" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SpectrumDigitiserCard.get_waveforms">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">get_waveforms</span><span class="signature">(self) -&gt; List[List[numpy.ndarray[Any, numpy.dtype[numpy.float64]]]]</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">get_waveforms</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">NDArray</span><span class="p">[</span><span class="n">float_</span><span class="p">]]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a list of the most recently transferred waveforms, in channel order.</span>

<span class="sd">        This method copies and reshapes the samples in the `TransferBuffer` into a list of lists of 1D NumPy arrays</span>
<span class="sd">        (waveforms) and returns the list.</span>

<span class="sd">        In Standard Single mode (SPC_REC_STD_SINGLE), `get_waveforms()` should be called after</span>
<span class="sd">        `wait_for_transfer_to_complete()` has returned.</span>

<span class="sd">        In FIFO mode (SPC_REC_FIFO_MULTI), while the card is continuously acquiring samples and transferring them to the</span>
<span class="sd">        `TransferBuffer`, this method should be called in a loop . The method will block until each new transfer is</span>
<span class="sd">        received, so the loop will run at the same rate as the acquisition (in SPC_REC_FIFO_MULTI mode, for example,</span>
<span class="sd">        this would the rate at which your trigger source was running).</span>

<span class="sd">        Returns:</span>
<span class="sd">             waveforms (List[List[NDArray[float_]]]): A list of lists of 1D numpy arrays, one inner list per acquisition</span>
<span class="sd">             and one array per enabled channel, in channel order. To average the acquisitions:</span>
<span class="sd">                `np.array(waveforms).mean(axis=0)`</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_transfer_buffer</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SpectrumNoTransferBufferDefined</span><span class="p">(</span><span class="s2">&quot;Cannot find a samples transfer buffer&quot;</span><span class="p">)</span>

        <span class="n">num_read_bytes</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">num_samples_per_frame</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">acquisition_length_in_samples</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">enabled_analog_channel_nums</span><span class="p">)</span>
        <span class="n">num_expected_bytes_per_frame</span> <span class="o">=</span> <span class="n">num_samples_per_frame</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">_transfer_buffer</span><span class="o">.</span><span class="n">data_array</span><span class="o">.</span><span class="n">itemsize</span>
        <span class="n">raw_samples</span> <span class="o">=</span> <span class="n">zeros</span><span class="p">(</span><span class="n">num_samples_per_frame</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">_batch_size</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">_transfer_buffer</span><span class="o">.</span><span class="n">data_array</span><span class="o">.</span><span class="n">dtype</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">acquisition_mode</span> <span class="ow">in</span> <span class="p">(</span><span class="n">AcquisitionMode</span><span class="o">.</span><span class="n">SPC_REC_STD_SINGLE</span><span class="p">,</span> <span class="n">AcquisitionMode</span><span class="o">.</span><span class="n">SPC_REC_STD_AVERAGE</span><span class="p">):</span>
            <span class="n">raw_samples</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_transfer_buffer</span><span class="o">.</span><span class="n">copy_contents</span><span class="p">()</span>

        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">acquisition_mode</span> <span class="ow">in</span> <span class="p">(</span><span class="n">AcquisitionMode</span><span class="o">.</span><span class="n">SPC_REC_FIFO_MULTI</span><span class="p">,</span> <span class="n">AcquisitionMode</span><span class="o">.</span><span class="n">SPC_REC_FIFO_AVERAGE</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_transfer_chunk_to_complete</span><span class="p">()</span>

            <span class="k">while</span> <span class="n">num_read_bytes</span> <span class="o">&lt;</span> <span class="p">(</span><span class="n">num_expected_bytes_per_frame</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">_batch_size</span><span class="p">):</span>
                <span class="n">num_available_bytes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">read_spectrum_device_register</span><span class="p">(</span><span class="n">SPC_DATA_AVAIL_USER_LEN</span><span class="p">)</span>
                <span class="n">position_of_available_bytes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">read_spectrum_device_register</span><span class="p">(</span><span class="n">SPC_DATA_AVAIL_USER_POS</span><span class="p">)</span>

                <span class="c1"># Don&#39;t allow reading over the end of the transfer buffer</span>
                <span class="k">if</span> <span class="p">(</span>
                    <span class="n">position_of_available_bytes</span> <span class="o">+</span> <span class="n">num_available_bytes</span>
                <span class="p">)</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">_transfer_buffer</span><span class="o">.</span><span class="n">data_array_length_in_bytes</span><span class="p">:</span>
                    <span class="n">num_available_bytes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_transfer_buffer</span><span class="o">.</span><span class="n">data_array_length_in_bytes</span> <span class="o">-</span> <span class="n">position_of_available_bytes</span>

                <span class="c1"># Don&#39;t allow reading over the end of the current acquisition:</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">num_read_bytes</span> <span class="o">+</span> <span class="n">num_available_bytes</span><span class="p">)</span> <span class="o">&gt;</span> <span class="p">(</span><span class="n">num_expected_bytes_per_frame</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">_batch_size</span><span class="p">):</span>
                    <span class="n">num_available_bytes</span> <span class="o">=</span> <span class="p">(</span><span class="n">num_expected_bytes_per_frame</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">_batch_size</span><span class="p">)</span> <span class="o">-</span> <span class="n">num_read_bytes</span>

                <span class="n">num_available_samples</span> <span class="o">=</span> <span class="n">num_available_bytes</span> <span class="o">//</span> <span class="bp">self</span><span class="o">.</span><span class="n">_transfer_buffer</span><span class="o">.</span><span class="n">data_array</span><span class="o">.</span><span class="n">itemsize</span>
                <span class="n">num_read_samples</span> <span class="o">=</span> <span class="n">num_read_bytes</span> <span class="o">//</span> <span class="bp">self</span><span class="o">.</span><span class="n">_transfer_buffer</span><span class="o">.</span><span class="n">data_array</span><span class="o">.</span><span class="n">itemsize</span>

                <span class="n">raw_samples</span><span class="p">[</span>
                    <span class="n">num_read_samples</span> <span class="p">:</span> <span class="n">num_read_samples</span> <span class="o">+</span> <span class="n">num_available_samples</span>
                <span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_transfer_buffer</span><span class="o">.</span><span class="n">read_chunk</span><span class="p">(</span><span class="n">position_of_available_bytes</span><span class="p">,</span> <span class="n">num_available_bytes</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">write_to_spectrum_device_register</span><span class="p">(</span><span class="n">SPC_DATA_AVAIL_CARD_LEN</span><span class="p">,</span> <span class="n">num_available_bytes</span><span class="p">)</span>

                <span class="n">num_read_bytes</span> <span class="o">+=</span> <span class="n">num_available_bytes</span>

        <span class="n">waveforms_in_columns</span> <span class="o">=</span> <span class="n">raw_samples</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span>
            <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_batch_size</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">acquisition_length_in_samples</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">enabled_analog_channel_nums</span><span class="p">))</span>
        <span class="p">)</span>

        <span class="n">repeat_acquisitions</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_batch_size</span><span class="p">):</span>
            <span class="n">repeat_acquisitions</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                <span class="p">[</span>
                    <span class="n">cast</span><span class="p">(</span>
                        <span class="n">SpectrumDigitiserAnalogChannel</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">analog_channels</span><span class="p">[</span><span class="n">ch_num</span><span class="p">]</span>
                    <span class="p">)</span><span class="o">.</span><span class="n">convert_raw_waveform_to_voltage_waveform</span><span class="p">(</span><span class="n">squeeze</span><span class="p">(</span><span class="n">waveform</span><span class="p">))</span>
                    <span class="k">for</span> <span class="n">ch_num</span><span class="p">,</span> <span class="n">waveform</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">enabled_analog_channel_nums</span><span class="p">,</span> <span class="n">waveforms_in_columns</span><span class="p">[</span><span class="n">n</span><span class="p">,</span> <span class="p">:,</span> <span class="p">:]</span><span class="o">.</span><span class="n">T</span><span class="p">)</span>
                <span class="p">]</span>
            <span class="p">)</span>

        <span class="k">return</span> <span class="n">repeat_acquisitions</span>
</pre></div>

        </details>

            <div class="docstring"><p>Get a list of the most recently transferred waveforms, in channel order.</p>

<p>This method copies and reshapes the samples in the <code>TransferBuffer</code> into a list of lists of 1D NumPy arrays
(waveforms) and returns the list.</p>

<p>In Standard Single mode (SPC_REC_STD_SINGLE), <code><a href="#SpectrumDigitiserCard.get_waveforms">get_waveforms()</a></code> should be called after
<code>wait_for_transfer_to_complete()</code> has returned.</p>

<p>In FIFO mode (SPC_REC_FIFO_MULTI), while the card is continuously acquiring samples and transferring them to the
<code>TransferBuffer</code>, this method should be called in a loop . The method will block until each new transfer is
received, so the loop will run at the same rate as the acquisition (in SPC_REC_FIFO_MULTI mode, for example,
this would the rate at which your trigger source was running).</p>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>waveforms (List[List[NDArray[float_]]]): A list of lists of 1D numpy arrays, one inner list per acquisition
  and one array per enabled channel, in channel order. To average the acquisitions:
     <code>np.array(waveforms).mean(axis=0)</code></p>
</blockquote>
</div>


                            </div>
                            <div id="SpectrumDigitiserCard.get_timestamp" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SpectrumDigitiserCard.get_timestamp">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">get_timestamp</span><span class="signature">(self) -&gt; Optional[datetime.datetime]</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">get_timestamp</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get timestamp for the last acquisition&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_timestamper</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_timestamper</span><span class="o">.</span><span class="n">get_timestamp</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
</pre></div>

        </details>

            <div class="docstring"><p>Get timestamp for the last acquisition</p>
</div>


                            </div>
                            <div id="SpectrumDigitiserCard.acquisition_length_in_samples" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#SpectrumDigitiserCard.acquisition_length_in_samples">#&nbsp;&nbsp</a>

        <span class="name">acquisition_length_in_samples</span><span class="annotation">: int</span>
    </div>

            <div class="docstring"><p>The current recording length (per channel) in samples.</p>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>length_in_samples (int): The current recording length ('acquisition length') in samples.</p>
</blockquote>
</div>


                            </div>
                            <div id="SpectrumDigitiserCard.set_acquisition_length_in_samples" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SpectrumDigitiserCard.set_acquisition_length_in_samples">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_acquisition_length_in_samples</span><span class="signature">(self, length_in_samples: int) -&gt; None</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">set_acquisition_length_in_samples</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">length_in_samples</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Change the recording length (per channel). In FIFO mode, it will be quantised according to the step size</span>
<span class="sd">          allowed by the connected card type.</span>

<span class="sd">        Args:</span>
<span class="sd">            length_in_samples (int): The desired recording length (&#39;acquisition length&#39;), in samples.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">length_in_samples</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_coerce_num_samples_if_fifo</span><span class="p">(</span><span class="n">length_in_samples</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_to_spectrum_device_register</span><span class="p">(</span><span class="n">SPC_SEGMENTSIZE</span><span class="p">,</span> <span class="n">length_in_samples</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_to_spectrum_device_register</span><span class="p">(</span><span class="n">SPC_MEMSIZE</span><span class="p">,</span> <span class="n">length_in_samples</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Change the recording length (per channel). In FIFO mode, it will be quantised according to the step size
  allowed by the connected card type.</p>

<h6 id="args">Args</h6>

<ul>
<li><strong>length_in_samples (int):</strong>  The desired recording length ('acquisition length'), in samples.</li>
</ul>
</div>


                            </div>
                            <div id="SpectrumDigitiserCard.post_trigger_length_in_samples" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#SpectrumDigitiserCard.post_trigger_length_in_samples">#&nbsp;&nbsp</a>

        <span class="name">post_trigger_length_in_samples</span><span class="annotation">: int</span>
    </div>

            <div class="docstring"><p>The number of samples of the recording that will contain data received after the trigger event.</p>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>length_in_samples (int): The currently set post trigger length in samples.</p>
</blockquote>
</div>


                            </div>
                            <div id="SpectrumDigitiserCard.set_post_trigger_length_in_samples" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SpectrumDigitiserCard.set_post_trigger_length_in_samples">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_post_trigger_length_in_samples</span><span class="signature">(self, length_in_samples: int) -&gt; None</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">set_post_trigger_length_in_samples</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">length_in_samples</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Change the number of samples of the recording that will contain data received after the trigger event.</span>
<span class="sd">        In FIFO mode, this will be quantised according to the minimum step size allowed by the connected card.</span>

<span class="sd">        Args:</span>
<span class="sd">            length_in_samples (int): The desired post trigger length in samples.&quot;&quot;&quot;</span>
        <span class="n">length_in_samples</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_coerce_num_samples_if_fifo</span><span class="p">(</span><span class="n">length_in_samples</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">acquisition_mode</span> <span class="o">==</span> <span class="n">AcquisitionMode</span><span class="o">.</span><span class="n">SPC_REC_FIFO_MULTI</span><span class="p">:</span>
            <span class="k">if</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">acquisition_length_in_samples</span> <span class="o">-</span> <span class="n">length_in_samples</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">get_memsize_step_size</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_model_number</span><span class="p">):</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                    <span class="s2">&quot;FIFO mode: coercing post trigger length to maximum allowed value (step-size samples less than &quot;</span>
                    <span class="s2">&quot;the acquisition length).&quot;</span>
                <span class="p">)</span>
                <span class="n">length_in_samples</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">acquisition_length_in_samples</span> <span class="o">-</span> <span class="n">get_memsize_step_size</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_model_number</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_to_spectrum_device_register</span><span class="p">(</span><span class="n">SPC_POSTTRIGGER</span><span class="p">,</span> <span class="n">length_in_samples</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Change the number of samples of the recording that will contain data received after the trigger event.
In FIFO mode, this will be quantised according to the minimum step size allowed by the connected card.</p>

<h6 id="args">Args</h6>

<ul>
<li><strong>length_in_samples (int):</strong>  The desired post trigger length in samples.</li>
</ul>
</div>


                            </div>
                            <div id="SpectrumDigitiserCard.number_of_averages" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#SpectrumDigitiserCard.number_of_averages">#&nbsp;&nbsp</a>

        <span class="name">number_of_averages</span><span class="annotation">: int</span>
    </div>

    

                            </div>
                            <div id="SpectrumDigitiserCard.set_number_of_averages" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SpectrumDigitiserCard.set_number_of_averages">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_number_of_averages</span><span class="signature">(self, num_averages: int) -&gt; None</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">set_number_of_averages</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">num_averages</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">num_averages</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">write_to_spectrum_device_register</span><span class="p">(</span><span class="n">SPC_AVERAGES</span><span class="p">,</span> <span class="n">num_averages</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Number of averages must be greater than 0.&quot;</span><span class="p">)</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="SpectrumDigitiserCard.acquisition_mode" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#SpectrumDigitiserCard.acquisition_mode">#&nbsp;&nbsp</a>

        <span class="name">acquisition_mode</span><span class="annotation">: <a href="spectrumdevice/settings.html#device_modes.AcquisitionMode">spectrumdevice.settings.device_modes.AcquisitionMode</a></span>
    </div>

            <div class="docstring"><p>The currently enabled card mode. Will raise an exception if the current mode is not supported by
<code><a href="">spectrumdevice</a></code>.</p>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>mode (<code>AcquisitionMode</code>): The currently enabled card acquisition mode.</p>
</blockquote>
</div>


                            </div>
                            <div id="SpectrumDigitiserCard.set_acquisition_mode" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SpectrumDigitiserCard.set_acquisition_mode">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_acquisition_mode</span><span class="signature">(
    self,
    mode: <a href="spectrumdevice/settings.html#device_modes.AcquisitionMode">spectrumdevice.settings.device_modes.AcquisitionMode</a>
) -&gt; None</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">set_acquisition_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mode</span><span class="p">:</span> <span class="n">AcquisitionMode</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Change the currently enabled card mode. See `AcquisitionMode` and the Spectrum documentation</span>
<span class="sd">        for the available modes.</span>

<span class="sd">        Args:</span>
<span class="sd">            mode (`AcquisitionMode`): The desired acquisition mode.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_to_spectrum_device_register</span><span class="p">(</span><span class="n">SPC_CARDMODE</span><span class="p">,</span> <span class="n">mode</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Change the currently enabled card mode. See <code>AcquisitionMode</code> and the Spectrum documentation
for the available modes.</p>

<h6 id="args">Args</h6>

<ul>
<li><strong>mode (<code>AcquisitionMode</code>):</strong>  The desired acquisition mode.</li>
</ul>
</div>


                            </div>
                            <div id="SpectrumDigitiserCard.batch_size" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#SpectrumDigitiserCard.batch_size">#&nbsp;&nbsp</a>

        <span class="name">batch_size</span><span class="annotation">: int</span>
    </div>

    

                            </div>
                            <div id="SpectrumDigitiserCard.set_batch_size" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SpectrumDigitiserCard.set_batch_size">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_batch_size</span><span class="signature">(self, batch_size: int) -&gt; None</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">set_batch_size</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">batch_size</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_batch_size</span> <span class="o">=</span> <span class="n">batch_size</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="SpectrumDigitiserCard.define_transfer_buffer" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SpectrumDigitiserCard.define_transfer_buffer">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">define_transfer_buffer</span><span class="signature">(
    self,
    buffer: Optional[Sequence[<a href="spectrumdevice/settings.html#transfer_buffer.TransferBuffer">spectrumdevice.settings.transfer_buffer.TransferBuffer</a>]] = None
) -&gt; None</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">define_transfer_buffer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">buffer</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Sequence</span><span class="p">[</span><span class="n">TransferBuffer</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create or provide a `TransferBuffer` object for receiving acquired samples from the device.</span>

<span class="sd">        If no buffer is provided, and no buffer has previously been defined, then one will be created: in FIFO mode,</span>
<span class="sd">         with a notify size of 10 pages or the size of the acquisition, whichever is smaller; in Standard Single mode,</span>
<span class="sd">         one with the correct length and no notify size. A separate buffer for transferring Timestamps will also be</span>
<span class="sd">         created using the Timestamper class.</span>

<span class="sd">        Args:</span>
<span class="sd">            buffer (Optional[List[`TransferBuffer`]]): A length-1 list containing a pre-constructed</span>
<span class="sd">                `TransferBuffer` set up for card-to-PC transfer of samples (&quot;data&quot;). The size of the buffer should be</span>
<span class="sd">                chosen according to the current number of active channels, the acquisition length and the number</span>
<span class="sd">                of acquisitions which you intend to download at a time using get_waveforms().</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_set_or_update_transfer_buffer_attribute</span><span class="p">(</span><span class="n">buffer</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_transfer_buffer</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">set_transfer_buffer</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_handle</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_transfer_buffer</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Create or provide a <code>TransferBuffer</code> object for receiving acquired samples from the device.</p>

<p>If no buffer is provided, and no buffer has previously been defined, then one will be created: in FIFO mode,
 with a notify size of 10 pages or the size of the acquisition, whichever is smaller; in Standard Single mode,
 one with the correct length and no notify size. A separate buffer for transferring Timestamps will also be
 created using the Timestamper class.</p>

<h6 id="args">Args</h6>

<ul>
<li><strong>buffer (Optional[List[<code>TransferBuffer</code>]]):</strong>  A length-1 list containing a pre-constructed
<code>TransferBuffer</code> set up for card-to-PC transfer of samples ("data"). The size of the buffer should be
chosen according to the current number of active channels, the acquisition length and the number
of acquisitions which you intend to download at a time using get_waveforms().</li>
</ul>
</div>


                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt><a href="#AbstractSpectrumCard">AbstractSpectrumCard</a></dt>
                                <dd id="SpectrumDigitiserCard.model_number" class="variable"><a href="#AbstractSpectrumCard.model_number">model_number</a></dd>
                <dd id="SpectrumDigitiserCard.reconnect" class="function"><a href="#AbstractSpectrumCard.reconnect">reconnect</a></dd>
                <dd id="SpectrumDigitiserCard.status" class="variable"><a href="#AbstractSpectrumCard.status">status</a></dd>
                <dd id="SpectrumDigitiserCard.start_transfer" class="function"><a href="#AbstractSpectrumCard.start_transfer">start_transfer</a></dd>
                <dd id="SpectrumDigitiserCard.stop_transfer" class="function"><a href="#AbstractSpectrumCard.stop_transfer">stop_transfer</a></dd>
                <dd id="SpectrumDigitiserCard.wait_for_transfer_chunk_to_complete" class="function"><a href="#AbstractSpectrumCard.wait_for_transfer_chunk_to_complete">wait_for_transfer_chunk_to_complete</a></dd>
                <dd id="SpectrumDigitiserCard.transfer_buffers" class="variable"><a href="#AbstractSpectrumCard.transfer_buffers">transfer_buffers</a></dd>
                <dd id="SpectrumDigitiserCard.disconnect" class="function"><a href="#AbstractSpectrumCard.disconnect">disconnect</a></dd>
                <dd id="SpectrumDigitiserCard.connected" class="variable"><a href="#AbstractSpectrumCard.connected">connected</a></dd>
                <dd id="SpectrumDigitiserCard.analog_channels" class="variable"><a href="#AbstractSpectrumCard.analog_channels">analog_channels</a></dd>
                <dd id="SpectrumDigitiserCard.io_lines" class="variable"><a href="#AbstractSpectrumCard.io_lines">io_lines</a></dd>
                <dd id="SpectrumDigitiserCard.enabled_analog_channel_nums" class="variable"><a href="#AbstractSpectrumCard.enabled_analog_channel_nums">enabled_analog_channel_nums</a></dd>
                <dd id="SpectrumDigitiserCard.set_enabled_analog_channels" class="function"><a href="#AbstractSpectrumCard.set_enabled_analog_channels">set_enabled_analog_channels</a></dd>
                <dd id="SpectrumDigitiserCard.trigger_sources" class="variable"><a href="#AbstractSpectrumCard.trigger_sources">trigger_sources</a></dd>
                <dd id="SpectrumDigitiserCard.set_trigger_sources" class="function"><a href="#AbstractSpectrumCard.set_trigger_sources">set_trigger_sources</a></dd>
                <dd id="SpectrumDigitiserCard.external_trigger_mode" class="variable"><a href="#AbstractSpectrumCard.external_trigger_mode">external_trigger_mode</a></dd>
                <dd id="SpectrumDigitiserCard.set_external_trigger_mode" class="function"><a href="#AbstractSpectrumCard.set_external_trigger_mode">set_external_trigger_mode</a></dd>
                <dd id="SpectrumDigitiserCard.external_trigger_level_in_mv" class="variable"><a href="#AbstractSpectrumCard.external_trigger_level_in_mv">external_trigger_level_in_mv</a></dd>
                <dd id="SpectrumDigitiserCard.set_external_trigger_level_in_mv" class="function"><a href="#AbstractSpectrumCard.set_external_trigger_level_in_mv">set_external_trigger_level_in_mv</a></dd>
                <dd id="SpectrumDigitiserCard.external_trigger_pulse_width_in_samples" class="variable"><a href="#AbstractSpectrumCard.external_trigger_pulse_width_in_samples">external_trigger_pulse_width_in_samples</a></dd>
                <dd id="SpectrumDigitiserCard.set_external_trigger_pulse_width_in_samples" class="function"><a href="#AbstractSpectrumCard.set_external_trigger_pulse_width_in_samples">set_external_trigger_pulse_width_in_samples</a></dd>
                <dd id="SpectrumDigitiserCard.apply_channel_enabling" class="function"><a href="#AbstractSpectrumCard.apply_channel_enabling">apply_channel_enabling</a></dd>
                <dd id="SpectrumDigitiserCard.timeout_in_ms" class="variable"><a href="#AbstractSpectrumCard.timeout_in_ms">timeout_in_ms</a></dd>
                <dd id="SpectrumDigitiserCard.set_timeout_in_ms" class="function"><a href="#AbstractSpectrumCard.set_timeout_in_ms">set_timeout_in_ms</a></dd>
                <dd id="SpectrumDigitiserCard.clock_mode" class="variable"><a href="#AbstractSpectrumCard.clock_mode">clock_mode</a></dd>
                <dd id="SpectrumDigitiserCard.set_clock_mode" class="function"><a href="#AbstractSpectrumCard.set_clock_mode">set_clock_mode</a></dd>
                <dd id="SpectrumDigitiserCard.available_io_modes" class="variable"><a href="#AbstractSpectrumCard.available_io_modes">available_io_modes</a></dd>
                <dd id="SpectrumDigitiserCard.feature_list" class="variable"><a href="#AbstractSpectrumCard.feature_list">feature_list</a></dd>
                <dd id="SpectrumDigitiserCard.sample_rate_in_hz" class="variable"><a href="#AbstractSpectrumCard.sample_rate_in_hz">sample_rate_in_hz</a></dd>
                <dd id="SpectrumDigitiserCard.set_sample_rate_in_hz" class="function"><a href="#AbstractSpectrumCard.set_sample_rate_in_hz">set_sample_rate_in_hz</a></dd>
                <dd id="SpectrumDigitiserCard.type" class="variable"><a href="#AbstractSpectrumCard.type">type</a></dd>
                <dd id="SpectrumDigitiserCard.force_trigger" class="function"><a href="#AbstractSpectrumCard.force_trigger">force_trigger</a></dd>
                <dd id="SpectrumDigitiserCard.bytes_per_sample" class="variable"><a href="#AbstractSpectrumCard.bytes_per_sample">bytes_per_sample</a></dd>

            </div>
            <div><dt><a href="#AbstractSpectrumDigitiser">AbstractSpectrumDigitiser</a></dt>
                                <dd id="SpectrumDigitiserCard.configure_acquisition" class="function"><a href="#AbstractSpectrumDigitiser.configure_acquisition">configure_acquisition</a></dd>
                <dd id="SpectrumDigitiserCard.execute_standard_single_acquisition" class="function"><a href="#AbstractSpectrumDigitiser.execute_standard_single_acquisition">execute_standard_single_acquisition</a></dd>
                <dd id="SpectrumDigitiserCard.execute_finite_fifo_acquisition" class="function"><a href="#AbstractSpectrumDigitiser.execute_finite_fifo_acquisition">execute_finite_fifo_acquisition</a></dd>
                <dd id="SpectrumDigitiserCard.execute_continuous_fifo_acquisition" class="function"><a href="#AbstractSpectrumDigitiser.execute_continuous_fifo_acquisition">execute_continuous_fifo_acquisition</a></dd>

            </div>
            <div><dt><a href="#AbstractSpectrumDevice">AbstractSpectrumDevice</a></dt>
                                <dd id="SpectrumDigitiserCard.reset" class="function"><a href="#AbstractSpectrumDevice.reset">reset</a></dd>
                <dd id="SpectrumDigitiserCard.start" class="function"><a href="#AbstractSpectrumDevice.start">start</a></dd>
                <dd id="SpectrumDigitiserCard.stop" class="function"><a href="#AbstractSpectrumDevice.stop">stop</a></dd>
                <dd id="SpectrumDigitiserCard.configure_trigger" class="function"><a href="#AbstractSpectrumDevice.configure_trigger">configure_trigger</a></dd>
                <dd id="SpectrumDigitiserCard.configure_channel_pairing" class="function"><a href="#AbstractSpectrumDevice.configure_channel_pairing">configure_channel_pairing</a></dd>
                <dd id="SpectrumDigitiserCard.write_to_spectrum_device_register" class="function"><a href="#AbstractSpectrumDevice.write_to_spectrum_device_register">write_to_spectrum_device_register</a></dd>
                <dd id="SpectrumDigitiserCard.read_spectrum_device_register" class="function"><a href="#AbstractSpectrumDevice.read_spectrum_device_register">read_spectrum_device_register</a></dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="SpectrumDigitiserStarHub">
                                <div class="attr class">
        <a class="headerlink" href="#SpectrumDigitiserStarHub">#&nbsp;&nbsp</a>

        
        <span class="def">class</span>
        <span class="name">SpectrumDigitiserStarHub</span><wbr>(<span class="base"><a href="#AbstractSpectrumStarHub">spectrumdevice.AbstractSpectrumStarHub[spectrumdevice.devices.digitiser.digitiser_card.SpectrumDigitiserCard, spectrumdevice.devices.digitiser.digitiser_interface.SpectrumDigitiserAnalogChannelInterface, spectrumdevice.devices.digitiser.digitiser_interface.SpectrumDigitiserIOLineInterface]</a></span>, <span class="base"><a href="#AbstractSpectrumDigitiser">spectrumdevice.AbstractSpectrumDigitiser</a></span>):
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span><span class="k">class</span> <span class="nc">SpectrumDigitiserStarHub</span><span class="p">(</span>
    <span class="n">AbstractSpectrumStarHub</span><span class="p">[</span>
        <span class="n">SpectrumDigitiserCard</span><span class="p">,</span> <span class="n">SpectrumDigitiserAnalogChannelInterface</span><span class="p">,</span> <span class="n">SpectrumDigitiserIOLineInterface</span>
    <span class="p">],</span>
    <span class="n">AbstractSpectrumDigitiser</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Composite class of `SpectrumDigitiserCard` for controlling a StarHub digitiser device, for example the Spectrum</span>
<span class="sd">    NetBox. StarHub digitiser devices are composites of more than one Spectrum digitiser card. Acquisition from the</span>
<span class="sd">    child cards of a StarHub is synchronised, aggregating the channels of all child cards. This class enables the</span>
<span class="sd">    control of a StarHub device as if it were a single Spectrum card.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">device_number</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">child_cards</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="n">SpectrumDigitiserCard</span><span class="p">,</span> <span class="o">...</span><span class="p">],</span> <span class="n">master_card_index</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Args:</span>
<span class="sd">            device_number (int): The index of the StarHub to connect to. If only one StarHub is present, set to 0.</span>
<span class="sd">            child_cards (Sequence[`SpectrumDigitiserCard`]): A list of `SpectrumCard` objects defining the child cards</span>
<span class="sd">                located within the StarHub, correctly constructed with their IP addresses and/or device numbers.</span>
<span class="sd">            master_card_index (int): The position within child_cards where the master card (the card which controls the</span>
<span class="sd">                clock) is located.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">device_number</span><span class="o">=</span><span class="n">device_number</span><span class="p">,</span> <span class="n">child_cards</span><span class="o">=</span><span class="n">child_cards</span><span class="p">,</span> <span class="n">master_card_index</span><span class="o">=</span><span class="n">master_card_index</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_acquisition_mode</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">acquisition_mode</span>

    <span class="k">def</span> <span class="nf">define_transfer_buffer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">buffer</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Sequence</span><span class="p">[</span><span class="n">TransferBuffer</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create or provide `CardToPCDataTransferBuffer` objects for receiving acquired samples from the child cards.</span>
<span class="sd">        If no buffers are provided, they will be created with the correct size and a board_memory_offset_bytes of 0. See</span>
<span class="sd">        `SpectrumDigitiserCard.define_transfer_buffer()` for more information</span>

<span class="sd">        Args:</span>
<span class="sd">            buffer (Optional[`CardToPCDataTransferBuffer`]): A list containing pre-constructed</span>
<span class="sd">            `CardToPCDataTransferBuffer` objects, one for each child card. The size of the buffers should be chosen</span>
<span class="sd">            according to the current number of active channels in each card and the acquisition length.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">buffer</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">card</span><span class="p">,</span> <span class="n">buff</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_child_cards</span><span class="p">,</span> <span class="n">buffer</span><span class="p">):</span>
                <span class="n">card</span><span class="o">.</span><span class="n">define_transfer_buffer</span><span class="p">([</span><span class="n">buff</span><span class="p">])</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">card</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_child_cards</span><span class="p">:</span>
                <span class="n">card</span><span class="o">.</span><span class="n">define_transfer_buffer</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">wait_for_acquisition_to_complete</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Wait for each card to finish its acquisition. See `SpectrumDigitiserCard.wait_for_acquisition_to_complete()`</span>
<span class="sd">        for more information.&quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">card</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_child_cards</span><span class="p">:</span>
            <span class="n">card</span><span class="o">.</span><span class="n">wait_for_acquisition_to_complete</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">get_waveforms</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">NDArray</span><span class="p">[</span><span class="n">float_</span><span class="p">]]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a list of the most recently transferred waveforms.</span>

<span class="sd">        This method gets the waveforms from each child card and joins them into a new list, ordered by channel number.</span>
<span class="sd">        See `SpectrumDigitiserCard.get_waveforms()` for more information.</span>

<span class="sd">        Args:</span>
<span class="sd">            num_acquisitions (int): For FIFO mode:  the number of acquisitions (i.e. trigger events) to wait for and</span>
<span class="sd">            copy. Acquiring in batches (num_acquisitions &gt; 1) can improve performance.</span>

<span class="sd">        Returns:</span>
<span class="sd">            waveforms (List[List[NDArray[float_]]]): A list lists of 1D numpy arrays, one inner list per acquisition,</span>
<span class="sd">              and one array per enabled channel, in channel order.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">card_ids_and_waveform_sets</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="nb">list</span><span class="p">[</span><span class="n">NDArray</span><span class="p">[</span><span class="n">float_</span><span class="p">]]]]</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="k">def</span> <span class="nf">_get_waveforms</span><span class="p">(</span><span class="n">digitiser_card</span><span class="p">:</span> <span class="n">SpectrumDigitiserCard</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">this_cards_waveforms</span> <span class="o">=</span> <span class="n">digitiser_card</span><span class="o">.</span><span class="n">get_waveforms</span><span class="p">()</span>
            <span class="n">card_ids_and_waveform_sets</span><span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">digitiser_card</span><span class="p">)]</span> <span class="o">=</span> <span class="n">this_cards_waveforms</span>

        <span class="n">threads</span> <span class="o">=</span> <span class="p">[</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">_get_waveforms</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="p">(</span><span class="n">card</span><span class="p">,))</span> <span class="k">for</span> <span class="n">card</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_child_cards</span><span class="p">]</span>

        <span class="k">for</span> <span class="n">thread</span> <span class="ow">in</span> <span class="n">threads</span><span class="p">:</span>
            <span class="n">thread</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">thread</span> <span class="ow">in</span> <span class="n">threads</span><span class="p">:</span>
            <span class="n">thread</span><span class="o">.</span><span class="n">join</span><span class="p">()</span>

        <span class="n">waveform_sets_all_cards_ordered</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">batch_size</span><span class="p">):</span>
            <span class="n">waveforms_in_this_batch</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">card</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_child_cards</span><span class="p">:</span>
                <span class="n">waveforms_in_this_batch</span> <span class="o">+=</span> <span class="n">card_ids_and_waveform_sets</span><span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">card</span><span class="p">)][</span><span class="n">n</span><span class="p">]</span>
            <span class="n">waveform_sets_all_cards_ordered</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">waveforms_in_this_batch</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">waveform_sets_all_cards_ordered</span>

    <span class="k">def</span> <span class="nf">get_timestamp</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get timestamp for the last acquisition&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_triggering_card</span><span class="o">.</span><span class="n">get_timestamp</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">enable_timestamping</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_triggering_card</span><span class="o">.</span><span class="n">enable_timestamping</span><span class="p">()</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">acquisition_length_in_samples</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The currently set recording length, which should be the same for all child cards. If different recording</span>
<span class="sd">        lengths are set, an exception is raised. See `SpectrumDigitiserCard.acquisition_length_in_samples` for more</span>
<span class="sd">        information.</span>

<span class="sd">        Returns:</span>
<span class="sd">            length_in_samples: The currently set acquisition length in samples.&quot;&quot;&quot;</span>
        <span class="n">lengths</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_child_cards</span><span class="p">:</span>
            <span class="n">lengths</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">acquisition_length_in_samples</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">check_settings_constant_across_devices</span><span class="p">(</span><span class="n">lengths</span><span class="p">,</span> <span class="vm">__name__</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">set_acquisition_length_in_samples</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">length_in_samples</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Set a new recording length for all child cards. See `SpectrumDigitiserCard.set_acquisition_length_in_samples()`</span>
<span class="sd">        for more information.</span>

<span class="sd">        Args:</span>
<span class="sd">            length_in_samples (int): The desired acquisition length in samples.&quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_child_cards</span><span class="p">:</span>
            <span class="n">d</span><span class="o">.</span><span class="n">set_acquisition_length_in_samples</span><span class="p">(</span><span class="n">length_in_samples</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">post_trigger_length_in_samples</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The number of samples recorded after a trigger is received. This should be consistent across all child</span>
<span class="sd">        cards. If different values are found across the child cards, an exception is raised. See</span>
<span class="sd">        `SpectrumDigitiserCard.post_trigger_length_in_samples` for more information.</span>

<span class="sd">        Returns:</span>
<span class="sd">            length_in_samples (int): The current post trigger length in samples.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">lengths</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_child_cards</span><span class="p">:</span>
            <span class="n">lengths</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">post_trigger_length_in_samples</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">check_settings_constant_across_devices</span><span class="p">(</span><span class="n">lengths</span><span class="p">,</span> <span class="vm">__name__</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">set_post_trigger_length_in_samples</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">length_in_samples</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Set a new post trigger length for all child cards. See `SpectrumDigitiserCard.set_post_trigger_length_in_samples()`</span>
<span class="sd">        for more information.</span>

<span class="sd">        Args:</span>
<span class="sd">            length_in_samples (int): The desired post trigger length in samples.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_child_cards</span><span class="p">:</span>
            <span class="n">d</span><span class="o">.</span><span class="n">set_post_trigger_length_in_samples</span><span class="p">(</span><span class="n">length_in_samples</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">acquisition_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AcquisitionMode</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The acquisition mode, which should be the same for all child cards. If it&#39;s not, an exception is raised.</span>
<span class="sd">        See `SpectrumDigitiserCard.acquisition_mode` for more information.</span>

<span class="sd">        Returns:</span>
<span class="sd">            mode (`AcquisitionMode`): The currently enabled acquisition mode.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">modes</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_child_cards</span><span class="p">:</span>
            <span class="n">modes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">acquisition_mode</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">AcquisitionMode</span><span class="p">(</span><span class="n">check_settings_constant_across_devices</span><span class="p">([</span><span class="n">m</span><span class="o">.</span><span class="n">value</span> <span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="n">modes</span><span class="p">],</span> <span class="vm">__name__</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">set_acquisition_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mode</span><span class="p">:</span> <span class="n">AcquisitionMode</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Change the acquisition mode for all child cards. See `SpectrumDigitiserCard.set_acquisition_mode()` for more</span>
<span class="sd">        information.</span>

<span class="sd">        Args:</span>
<span class="sd">            mode (`AcquisitionMode`): The desired acquisition mode.&quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_child_cards</span><span class="p">:</span>
            <span class="n">d</span><span class="o">.</span><span class="n">set_acquisition_mode</span><span class="p">(</span><span class="n">mode</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">batch_size</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="n">batch_sizes</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_child_cards</span><span class="p">:</span>
            <span class="n">batch_sizes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">batch_size</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">check_settings_constant_across_devices</span><span class="p">(</span><span class="n">batch_sizes</span><span class="p">,</span> <span class="vm">__name__</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">set_batch_size</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">batch_size</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_child_cards</span><span class="p">:</span>
            <span class="n">d</span><span class="o">.</span><span class="n">set_batch_size</span><span class="p">(</span><span class="n">batch_size</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">force_trigger</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_child_cards</span><span class="p">:</span>
            <span class="n">d</span><span class="o">.</span><span class="n">force_trigger</span><span class="p">()</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">CardType</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_child_cards</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">type</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">model_number</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ModelNumber</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_child_cards</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">model_number</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">analog_channels</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">SpectrumDigitiserAnalogChannelInterface</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;A tuple containing of all the channels of the child cards of the hub. See `AbstractSpectrumCard.channels` for</span>
<span class="sd">        more information.</span>

<span class="sd">        Returns:</span>
<span class="sd">            channels (Sequence[`SpectrumDigitiserAnalogChannelInterface`]):</span>
<span class="sd">            A tuple of `SpectrumDigitiserAnalogChannelInterface` objects.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">analog_channels</span>
</pre></div>

        </details>

            <div class="docstring"><p>Composite class of <code><a href="#SpectrumDigitiserCard">SpectrumDigitiserCard</a></code> for controlling a StarHub digitiser device, for example the Spectrum
NetBox. StarHub digitiser devices are composites of more than one Spectrum digitiser card. Acquisition from the
child cards of a StarHub is synchronised, aggregating the channels of all child cards. This class enables the
control of a StarHub device as if it were a single Spectrum card.</p>
</div>


                            <div id="SpectrumDigitiserStarHub.__init__" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SpectrumDigitiserStarHub.__init__">#&nbsp;&nbsp</a>

        
            <span class="name">SpectrumDigitiserStarHub</span><span class="signature">(
    device_number: int,
    child_cards: tuple[<a href="#devices.digitiser.digitiser_card.SpectrumDigitiserCard">spectrumdevice.devices.digitiser.digitiser_card.SpectrumDigitiserCard</a>, ...],
    master_card_index: int
)</span>
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">device_number</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">child_cards</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="n">SpectrumDigitiserCard</span><span class="p">,</span> <span class="o">...</span><span class="p">],</span> <span class="n">master_card_index</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Args:</span>
<span class="sd">            device_number (int): The index of the StarHub to connect to. If only one StarHub is present, set to 0.</span>
<span class="sd">            child_cards (Sequence[`SpectrumDigitiserCard`]): A list of `SpectrumCard` objects defining the child cards</span>
<span class="sd">                located within the StarHub, correctly constructed with their IP addresses and/or device numbers.</span>
<span class="sd">            master_card_index (int): The position within child_cards where the master card (the card which controls the</span>
<span class="sd">                clock) is located.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">device_number</span><span class="o">=</span><span class="n">device_number</span><span class="p">,</span> <span class="n">child_cards</span><span class="o">=</span><span class="n">child_cards</span><span class="p">,</span> <span class="n">master_card_index</span><span class="o">=</span><span class="n">master_card_index</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_acquisition_mode</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">acquisition_mode</span>
</pre></div>

        </details>

            <div class="docstring"><h6 id="args">Args</h6>

<ul>
<li><strong>device_number (int):</strong>  The index of the StarHub to connect to. If only one StarHub is present, set to 0.</li>
<li><strong>child_cards (Sequence[<code><a href="#SpectrumDigitiserCard">SpectrumDigitiserCard</a></code>]):</strong>  A list of <code>SpectrumCard</code> objects defining the child cards
located within the StarHub, correctly constructed with their IP addresses and/or device numbers.</li>
<li><strong>master_card_index (int):</strong>  The position within child_cards where the master card (the card which controls the
clock) is located.</li>
</ul>
</div>


                            </div>
                            <div id="SpectrumDigitiserStarHub.define_transfer_buffer" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SpectrumDigitiserStarHub.define_transfer_buffer">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">define_transfer_buffer</span><span class="signature">(
    self,
    buffer: Optional[Sequence[<a href="spectrumdevice/settings.html#transfer_buffer.TransferBuffer">spectrumdevice.settings.transfer_buffer.TransferBuffer</a>]] = None
) -&gt; None</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">define_transfer_buffer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">buffer</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Sequence</span><span class="p">[</span><span class="n">TransferBuffer</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create or provide `CardToPCDataTransferBuffer` objects for receiving acquired samples from the child cards.</span>
<span class="sd">        If no buffers are provided, they will be created with the correct size and a board_memory_offset_bytes of 0. See</span>
<span class="sd">        `SpectrumDigitiserCard.define_transfer_buffer()` for more information</span>

<span class="sd">        Args:</span>
<span class="sd">            buffer (Optional[`CardToPCDataTransferBuffer`]): A list containing pre-constructed</span>
<span class="sd">            `CardToPCDataTransferBuffer` objects, one for each child card. The size of the buffers should be chosen</span>
<span class="sd">            according to the current number of active channels in each card and the acquisition length.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">buffer</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">card</span><span class="p">,</span> <span class="n">buff</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_child_cards</span><span class="p">,</span> <span class="n">buffer</span><span class="p">):</span>
                <span class="n">card</span><span class="o">.</span><span class="n">define_transfer_buffer</span><span class="p">([</span><span class="n">buff</span><span class="p">])</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">card</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_child_cards</span><span class="p">:</span>
                <span class="n">card</span><span class="o">.</span><span class="n">define_transfer_buffer</span><span class="p">()</span>
</pre></div>

        </details>

            <div class="docstring"><p>Create or provide <code>CardToPCDataTransferBuffer</code> objects for receiving acquired samples from the child cards.
If no buffers are provided, they will be created with the correct size and a board_memory_offset_bytes of 0. See
<code><a href="#SpectrumDigitiserCard.define_transfer_buffer">SpectrumDigitiserCard.define_transfer_buffer()</a></code> for more information</p>

<h6 id="args">Args</h6>

<ul>
<li><strong>buffer (Optional[<code>CardToPCDataTransferBuffer</code>]):</strong>  A list containing pre-constructed</li>
<li><code>CardToPCDataTransferBuffer</code> objects, one for each child card. The size of the buffers should be chosen</li>
<li>according to the current number of active channels in each card and the acquisition length.</li>
</ul>
</div>


                            </div>
                            <div id="SpectrumDigitiserStarHub.wait_for_acquisition_to_complete" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SpectrumDigitiserStarHub.wait_for_acquisition_to_complete">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">wait_for_acquisition_to_complete</span><span class="signature">(self) -&gt; None</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">wait_for_acquisition_to_complete</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Wait for each card to finish its acquisition. See `SpectrumDigitiserCard.wait_for_acquisition_to_complete()`</span>
<span class="sd">        for more information.&quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">card</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_child_cards</span><span class="p">:</span>
            <span class="n">card</span><span class="o">.</span><span class="n">wait_for_acquisition_to_complete</span><span class="p">()</span>
</pre></div>

        </details>

            <div class="docstring"><p>Wait for each card to finish its acquisition. See <code><a href="#SpectrumDigitiserCard.wait_for_acquisition_to_complete">SpectrumDigitiserCard.wait_for_acquisition_to_complete()</a></code>
for more information.</p>
</div>


                            </div>
                            <div id="SpectrumDigitiserStarHub.get_waveforms" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SpectrumDigitiserStarHub.get_waveforms">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">get_waveforms</span><span class="signature">(self) -&gt; List[List[numpy.ndarray[Any, numpy.dtype[numpy.float64]]]]</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">get_waveforms</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">NDArray</span><span class="p">[</span><span class="n">float_</span><span class="p">]]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a list of the most recently transferred waveforms.</span>

<span class="sd">        This method gets the waveforms from each child card and joins them into a new list, ordered by channel number.</span>
<span class="sd">        See `SpectrumDigitiserCard.get_waveforms()` for more information.</span>

<span class="sd">        Args:</span>
<span class="sd">            num_acquisitions (int): For FIFO mode:  the number of acquisitions (i.e. trigger events) to wait for and</span>
<span class="sd">            copy. Acquiring in batches (num_acquisitions &gt; 1) can improve performance.</span>

<span class="sd">        Returns:</span>
<span class="sd">            waveforms (List[List[NDArray[float_]]]): A list lists of 1D numpy arrays, one inner list per acquisition,</span>
<span class="sd">              and one array per enabled channel, in channel order.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">card_ids_and_waveform_sets</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="nb">list</span><span class="p">[</span><span class="n">NDArray</span><span class="p">[</span><span class="n">float_</span><span class="p">]]]]</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="k">def</span> <span class="nf">_get_waveforms</span><span class="p">(</span><span class="n">digitiser_card</span><span class="p">:</span> <span class="n">SpectrumDigitiserCard</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">this_cards_waveforms</span> <span class="o">=</span> <span class="n">digitiser_card</span><span class="o">.</span><span class="n">get_waveforms</span><span class="p">()</span>
            <span class="n">card_ids_and_waveform_sets</span><span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">digitiser_card</span><span class="p">)]</span> <span class="o">=</span> <span class="n">this_cards_waveforms</span>

        <span class="n">threads</span> <span class="o">=</span> <span class="p">[</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">_get_waveforms</span><span class="p">,</span> <span class="n">args</span><span class="o">=</span><span class="p">(</span><span class="n">card</span><span class="p">,))</span> <span class="k">for</span> <span class="n">card</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_child_cards</span><span class="p">]</span>

        <span class="k">for</span> <span class="n">thread</span> <span class="ow">in</span> <span class="n">threads</span><span class="p">:</span>
            <span class="n">thread</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">thread</span> <span class="ow">in</span> <span class="n">threads</span><span class="p">:</span>
            <span class="n">thread</span><span class="o">.</span><span class="n">join</span><span class="p">()</span>

        <span class="n">waveform_sets_all_cards_ordered</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">batch_size</span><span class="p">):</span>
            <span class="n">waveforms_in_this_batch</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">card</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_child_cards</span><span class="p">:</span>
                <span class="n">waveforms_in_this_batch</span> <span class="o">+=</span> <span class="n">card_ids_and_waveform_sets</span><span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">card</span><span class="p">)][</span><span class="n">n</span><span class="p">]</span>
            <span class="n">waveform_sets_all_cards_ordered</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">waveforms_in_this_batch</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">waveform_sets_all_cards_ordered</span>
</pre></div>

        </details>

            <div class="docstring"><p>Get a list of the most recently transferred waveforms.</p>

<p>This method gets the waveforms from each child card and joins them into a new list, ordered by channel number.
See <code><a href="#SpectrumDigitiserCard.get_waveforms">SpectrumDigitiserCard.get_waveforms()</a></code> for more information.</p>

<h6 id="args">Args</h6>

<ul>
<li><strong>num_acquisitions (int):</strong>  For FIFO mode:  the number of acquisitions (i.e. trigger events) to wait for and</li>
<li>copy. Acquiring in batches (num_acquisitions &gt; 1) can improve performance.</li>
</ul>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>waveforms (List[List[NDArray[float_]]]): A list lists of 1D numpy arrays, one inner list per acquisition,
    and one array per enabled channel, in channel order.</p>
</blockquote>
</div>


                            </div>
                            <div id="SpectrumDigitiserStarHub.get_timestamp" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SpectrumDigitiserStarHub.get_timestamp">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">get_timestamp</span><span class="signature">(self) -&gt; Optional[datetime.datetime]</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">get_timestamp</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get timestamp for the last acquisition&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_triggering_card</span><span class="o">.</span><span class="n">get_timestamp</span><span class="p">()</span>
</pre></div>

        </details>

            <div class="docstring"><p>Get timestamp for the last acquisition</p>
</div>


                            </div>
                            <div id="SpectrumDigitiserStarHub.enable_timestamping" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SpectrumDigitiserStarHub.enable_timestamping">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">enable_timestamping</span><span class="signature">(self) -&gt; None</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">enable_timestamping</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_triggering_card</span><span class="o">.</span><span class="n">enable_timestamping</span><span class="p">()</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="SpectrumDigitiserStarHub.acquisition_length_in_samples" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#SpectrumDigitiserStarHub.acquisition_length_in_samples">#&nbsp;&nbsp</a>

        <span class="name">acquisition_length_in_samples</span><span class="annotation">: int</span>
    </div>

            <div class="docstring"><p>The currently set recording length, which should be the same for all child cards. If different recording
lengths are set, an exception is raised. See <code><a href="#SpectrumDigitiserCard.acquisition_length_in_samples">SpectrumDigitiserCard.acquisition_length_in_samples</a></code> for more
information.</p>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>length_in_samples: The currently set acquisition length in samples.</p>
</blockquote>
</div>


                            </div>
                            <div id="SpectrumDigitiserStarHub.set_acquisition_length_in_samples" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SpectrumDigitiserStarHub.set_acquisition_length_in_samples">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_acquisition_length_in_samples</span><span class="signature">(self, length_in_samples: int) -&gt; None</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">set_acquisition_length_in_samples</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">length_in_samples</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Set a new recording length for all child cards. See `SpectrumDigitiserCard.set_acquisition_length_in_samples()`</span>
<span class="sd">        for more information.</span>

<span class="sd">        Args:</span>
<span class="sd">            length_in_samples (int): The desired acquisition length in samples.&quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_child_cards</span><span class="p">:</span>
            <span class="n">d</span><span class="o">.</span><span class="n">set_acquisition_length_in_samples</span><span class="p">(</span><span class="n">length_in_samples</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Set a new recording length for all child cards. See <code><a href="#SpectrumDigitiserCard.set_acquisition_length_in_samples">SpectrumDigitiserCard.set_acquisition_length_in_samples()</a></code>
for more information.</p>

<h6 id="args">Args</h6>

<ul>
<li><strong>length_in_samples (int):</strong>  The desired acquisition length in samples.</li>
</ul>
</div>


                            </div>
                            <div id="SpectrumDigitiserStarHub.post_trigger_length_in_samples" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#SpectrumDigitiserStarHub.post_trigger_length_in_samples">#&nbsp;&nbsp</a>

        <span class="name">post_trigger_length_in_samples</span><span class="annotation">: int</span>
    </div>

            <div class="docstring"><p>The number of samples recorded after a trigger is received. This should be consistent across all child
cards. If different values are found across the child cards, an exception is raised. See
<code><a href="#SpectrumDigitiserCard.post_trigger_length_in_samples">SpectrumDigitiserCard.post_trigger_length_in_samples</a></code> for more information.</p>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>length_in_samples (int): The current post trigger length in samples.</p>
</blockquote>
</div>


                            </div>
                            <div id="SpectrumDigitiserStarHub.set_post_trigger_length_in_samples" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SpectrumDigitiserStarHub.set_post_trigger_length_in_samples">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_post_trigger_length_in_samples</span><span class="signature">(self, length_in_samples: int) -&gt; None</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">set_post_trigger_length_in_samples</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">length_in_samples</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Set a new post trigger length for all child cards. See `SpectrumDigitiserCard.set_post_trigger_length_in_samples()`</span>
<span class="sd">        for more information.</span>

<span class="sd">        Args:</span>
<span class="sd">            length_in_samples (int): The desired post trigger length in samples.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_child_cards</span><span class="p">:</span>
            <span class="n">d</span><span class="o">.</span><span class="n">set_post_trigger_length_in_samples</span><span class="p">(</span><span class="n">length_in_samples</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Set a new post trigger length for all child cards. See <code><a href="#SpectrumDigitiserCard.set_post_trigger_length_in_samples">SpectrumDigitiserCard.set_post_trigger_length_in_samples()</a></code>
for more information.</p>

<h6 id="args">Args</h6>

<ul>
<li><strong>length_in_samples (int):</strong>  The desired post trigger length in samples.</li>
</ul>
</div>


                            </div>
                            <div id="SpectrumDigitiserStarHub.acquisition_mode" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#SpectrumDigitiserStarHub.acquisition_mode">#&nbsp;&nbsp</a>

        <span class="name">acquisition_mode</span><span class="annotation">: <a href="spectrumdevice/settings.html#device_modes.AcquisitionMode">spectrumdevice.settings.device_modes.AcquisitionMode</a></span>
    </div>

            <div class="docstring"><p>The acquisition mode, which should be the same for all child cards. If it's not, an exception is raised.
See <code><a href="#SpectrumDigitiserCard.acquisition_mode">SpectrumDigitiserCard.acquisition_mode</a></code> for more information.</p>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>mode (<code>AcquisitionMode</code>): The currently enabled acquisition mode.</p>
</blockquote>
</div>


                            </div>
                            <div id="SpectrumDigitiserStarHub.set_acquisition_mode" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SpectrumDigitiserStarHub.set_acquisition_mode">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_acquisition_mode</span><span class="signature">(
    self,
    mode: <a href="spectrumdevice/settings.html#device_modes.AcquisitionMode">spectrumdevice.settings.device_modes.AcquisitionMode</a>
) -&gt; None</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">set_acquisition_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mode</span><span class="p">:</span> <span class="n">AcquisitionMode</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Change the acquisition mode for all child cards. See `SpectrumDigitiserCard.set_acquisition_mode()` for more</span>
<span class="sd">        information.</span>

<span class="sd">        Args:</span>
<span class="sd">            mode (`AcquisitionMode`): The desired acquisition mode.&quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_child_cards</span><span class="p">:</span>
            <span class="n">d</span><span class="o">.</span><span class="n">set_acquisition_mode</span><span class="p">(</span><span class="n">mode</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Change the acquisition mode for all child cards. See <code><a href="#SpectrumDigitiserCard.set_acquisition_mode">SpectrumDigitiserCard.set_acquisition_mode()</a></code> for more
information.</p>

<h6 id="args">Args</h6>

<ul>
<li><strong>mode (<code>AcquisitionMode</code>):</strong>  The desired acquisition mode.</li>
</ul>
</div>


                            </div>
                            <div id="SpectrumDigitiserStarHub.batch_size" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#SpectrumDigitiserStarHub.batch_size">#&nbsp;&nbsp</a>

        <span class="name">batch_size</span><span class="annotation">: int</span>
    </div>

    

                            </div>
                            <div id="SpectrumDigitiserStarHub.set_batch_size" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SpectrumDigitiserStarHub.set_batch_size">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_batch_size</span><span class="signature">(self, batch_size: int) -&gt; None</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">set_batch_size</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">batch_size</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_child_cards</span><span class="p">:</span>
            <span class="n">d</span><span class="o">.</span><span class="n">set_batch_size</span><span class="p">(</span><span class="n">batch_size</span><span class="p">)</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="SpectrumDigitiserStarHub.force_trigger" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SpectrumDigitiserStarHub.force_trigger">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">force_trigger</span><span class="signature">(self) -&gt; None</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">force_trigger</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_child_cards</span><span class="p">:</span>
            <span class="n">d</span><span class="o">.</span><span class="n">force_trigger</span><span class="p">()</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="SpectrumDigitiserStarHub.type" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#SpectrumDigitiserStarHub.type">#&nbsp;&nbsp</a>

        <span class="name">type</span><span class="annotation">: <a href="spectrumdevice/settings.html#card_dependent_properties.CardType">spectrumdevice.settings.card_dependent_properties.CardType</a></span>
    </div>

    

                            </div>
                            <div id="SpectrumDigitiserStarHub.model_number" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#SpectrumDigitiserStarHub.model_number">#&nbsp;&nbsp</a>

        <span class="name">model_number</span><span class="annotation">: <a href="spectrumdevice/settings.html#card_dependent_properties.ModelNumber">spectrumdevice.settings.card_dependent_properties.ModelNumber</a></span>
    </div>

    

                            </div>
                            <div id="SpectrumDigitiserStarHub.analog_channels" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#SpectrumDigitiserStarHub.analog_channels">#&nbsp;&nbsp</a>

        <span class="name">analog_channels</span><span class="annotation">: Sequence[<a href="#devices.digitiser.digitiser_interface.SpectrumDigitiserAnalogChannelInterface">spectrumdevice.devices.digitiser.digitiser_interface.SpectrumDigitiserAnalogChannelInterface</a>]</span>
    </div>

            <div class="docstring"><p>A tuple containing of all the channels of the child cards of the hub. See <code>AbstractSpectrumCard.channels</code> for
more information.</p>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>channels (Sequence[<code>SpectrumDigitiserAnalogChannelInterface</code>]):
  A tuple of <code>SpectrumDigitiserAnalogChannelInterface</code> objects.</p>
</blockquote>
</div>


                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt><a href="#AbstractSpectrumStarHub">AbstractSpectrumStarHub</a></dt>
                                <dd id="SpectrumDigitiserStarHub.disconnect" class="function"><a href="#AbstractSpectrumStarHub.disconnect">disconnect</a></dd>
                <dd id="SpectrumDigitiserStarHub.reconnect" class="function"><a href="#AbstractSpectrumStarHub.reconnect">reconnect</a></dd>
                <dd id="SpectrumDigitiserStarHub.status" class="variable"><a href="#AbstractSpectrumStarHub.status">status</a></dd>
                <dd id="SpectrumDigitiserStarHub.start_transfer" class="function"><a href="#AbstractSpectrumStarHub.start_transfer">start_transfer</a></dd>
                <dd id="SpectrumDigitiserStarHub.stop_transfer" class="function"><a href="#AbstractSpectrumStarHub.stop_transfer">stop_transfer</a></dd>
                <dd id="SpectrumDigitiserStarHub.wait_for_transfer_chunk_to_complete" class="function"><a href="#AbstractSpectrumStarHub.wait_for_transfer_chunk_to_complete">wait_for_transfer_chunk_to_complete</a></dd>
                <dd id="SpectrumDigitiserStarHub.connected" class="variable"><a href="#AbstractSpectrumStarHub.connected">connected</a></dd>
                <dd id="SpectrumDigitiserStarHub.set_triggering_card" class="function"><a href="#AbstractSpectrumStarHub.set_triggering_card">set_triggering_card</a></dd>
                <dd id="SpectrumDigitiserStarHub.clock_mode" class="variable"><a href="#AbstractSpectrumStarHub.clock_mode">clock_mode</a></dd>
                <dd id="SpectrumDigitiserStarHub.set_clock_mode" class="function"><a href="#AbstractSpectrumStarHub.set_clock_mode">set_clock_mode</a></dd>
                <dd id="SpectrumDigitiserStarHub.sample_rate_in_hz" class="variable"><a href="#AbstractSpectrumStarHub.sample_rate_in_hz">sample_rate_in_hz</a></dd>
                <dd id="SpectrumDigitiserStarHub.set_sample_rate_in_hz" class="function"><a href="#AbstractSpectrumStarHub.set_sample_rate_in_hz">set_sample_rate_in_hz</a></dd>
                <dd id="SpectrumDigitiserStarHub.trigger_sources" class="variable"><a href="#AbstractSpectrumStarHub.trigger_sources">trigger_sources</a></dd>
                <dd id="SpectrumDigitiserStarHub.set_trigger_sources" class="function"><a href="#AbstractSpectrumStarHub.set_trigger_sources">set_trigger_sources</a></dd>
                <dd id="SpectrumDigitiserStarHub.external_trigger_mode" class="variable"><a href="#AbstractSpectrumStarHub.external_trigger_mode">external_trigger_mode</a></dd>
                <dd id="SpectrumDigitiserStarHub.set_external_trigger_mode" class="function"><a href="#AbstractSpectrumStarHub.set_external_trigger_mode">set_external_trigger_mode</a></dd>
                <dd id="SpectrumDigitiserStarHub.external_trigger_level_in_mv" class="variable"><a href="#AbstractSpectrumStarHub.external_trigger_level_in_mv">external_trigger_level_in_mv</a></dd>
                <dd id="SpectrumDigitiserStarHub.set_external_trigger_level_in_mv" class="function"><a href="#AbstractSpectrumStarHub.set_external_trigger_level_in_mv">set_external_trigger_level_in_mv</a></dd>
                <dd id="SpectrumDigitiserStarHub.external_trigger_pulse_width_in_samples" class="variable"><a href="#AbstractSpectrumStarHub.external_trigger_pulse_width_in_samples">external_trigger_pulse_width_in_samples</a></dd>
                <dd id="SpectrumDigitiserStarHub.set_external_trigger_pulse_width_in_samples" class="function"><a href="#AbstractSpectrumStarHub.set_external_trigger_pulse_width_in_samples">set_external_trigger_pulse_width_in_samples</a></dd>
                <dd id="SpectrumDigitiserStarHub.apply_channel_enabling" class="function"><a href="#AbstractSpectrumStarHub.apply_channel_enabling">apply_channel_enabling</a></dd>
                <dd id="SpectrumDigitiserStarHub.enabled_analog_channel_nums" class="variable"><a href="#AbstractSpectrumStarHub.enabled_analog_channel_nums">enabled_analog_channel_nums</a></dd>
                <dd id="SpectrumDigitiserStarHub.set_enabled_analog_channels" class="function"><a href="#AbstractSpectrumStarHub.set_enabled_analog_channels">set_enabled_analog_channels</a></dd>
                <dd id="SpectrumDigitiserStarHub.transfer_buffers" class="variable"><a href="#AbstractSpectrumStarHub.transfer_buffers">transfer_buffers</a></dd>
                <dd id="SpectrumDigitiserStarHub.io_lines" class="variable"><a href="#AbstractSpectrumStarHub.io_lines">io_lines</a></dd>
                <dd id="SpectrumDigitiserStarHub.timeout_in_ms" class="variable"><a href="#AbstractSpectrumStarHub.timeout_in_ms">timeout_in_ms</a></dd>
                <dd id="SpectrumDigitiserStarHub.set_timeout_in_ms" class="function"><a href="#AbstractSpectrumStarHub.set_timeout_in_ms">set_timeout_in_ms</a></dd>
                <dd id="SpectrumDigitiserStarHub.feature_list" class="variable"><a href="#AbstractSpectrumStarHub.feature_list">feature_list</a></dd>
                <dd id="SpectrumDigitiserStarHub.available_io_modes" class="variable"><a href="#AbstractSpectrumStarHub.available_io_modes">available_io_modes</a></dd>
                <dd id="SpectrumDigitiserStarHub.bytes_per_sample" class="variable"><a href="#AbstractSpectrumStarHub.bytes_per_sample">bytes_per_sample</a></dd>

            </div>
            <div><dt><a href="#AbstractSpectrumDigitiser">AbstractSpectrumDigitiser</a></dt>
                                <dd id="SpectrumDigitiserStarHub.configure_acquisition" class="function"><a href="#AbstractSpectrumDigitiser.configure_acquisition">configure_acquisition</a></dd>
                <dd id="SpectrumDigitiserStarHub.execute_standard_single_acquisition" class="function"><a href="#AbstractSpectrumDigitiser.execute_standard_single_acquisition">execute_standard_single_acquisition</a></dd>
                <dd id="SpectrumDigitiserStarHub.execute_finite_fifo_acquisition" class="function"><a href="#AbstractSpectrumDigitiser.execute_finite_fifo_acquisition">execute_finite_fifo_acquisition</a></dd>
                <dd id="SpectrumDigitiserStarHub.execute_continuous_fifo_acquisition" class="function"><a href="#AbstractSpectrumDigitiser.execute_continuous_fifo_acquisition">execute_continuous_fifo_acquisition</a></dd>

            </div>
            <div><dt><a href="#AbstractSpectrumDevice">AbstractSpectrumDevice</a></dt>
                                <dd id="SpectrumDigitiserStarHub.reset" class="function"><a href="#AbstractSpectrumDevice.reset">reset</a></dd>
                <dd id="SpectrumDigitiserStarHub.start" class="function"><a href="#AbstractSpectrumDevice.start">start</a></dd>
                <dd id="SpectrumDigitiserStarHub.stop" class="function"><a href="#AbstractSpectrumDevice.stop">stop</a></dd>
                <dd id="SpectrumDigitiserStarHub.configure_trigger" class="function"><a href="#AbstractSpectrumDevice.configure_trigger">configure_trigger</a></dd>
                <dd id="SpectrumDigitiserStarHub.configure_channel_pairing" class="function"><a href="#AbstractSpectrumDevice.configure_channel_pairing">configure_channel_pairing</a></dd>
                <dd id="SpectrumDigitiserStarHub.write_to_spectrum_device_register" class="function"><a href="#AbstractSpectrumDevice.write_to_spectrum_device_register">write_to_spectrum_device_register</a></dd>
                <dd id="SpectrumDigitiserStarHub.read_spectrum_device_register" class="function"><a href="#AbstractSpectrumDevice.read_spectrum_device_register">read_spectrum_device_register</a></dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="MockSpectrumDigitiserCard">
                                <div class="attr class">
        <a class="headerlink" href="#MockSpectrumDigitiserCard">#&nbsp;&nbsp</a>

        
        <span class="def">class</span>
        <span class="name">MockSpectrumDigitiserCard</span><wbr>(<span class="base"><a href="#AbstractSpectrumCard">spectrumdevice.AbstractSpectrumCard[spectrumdevice.devices.digitiser.digitiser_interface.SpectrumDigitiserAnalogChannelInterface, spectrumdevice.devices.digitiser.digitiser_interface.SpectrumDigitiserIOLineInterface]</a></span>, <span class="base"><a href="#AbstractSpectrumDigitiser">spectrumdevice.AbstractSpectrumDigitiser</a></span>):
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span><span class="k">class</span> <span class="nc">MockSpectrumDigitiserCard</span><span class="p">(</span><span class="n">MockAbstractSpectrumDigitiser</span><span class="p">,</span> <span class="n">MockAbstractSpectrumCard</span><span class="p">,</span> <span class="n">SpectrumDigitiserCard</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A mock spectrum card, for testing software written to use the `SpectrumDigitiserCard` class.</span>

<span class="sd">    This class overrides methods of `SpectrumDigitiserCard` that communicate with hardware with mocked implementations,</span>
<span class="sd">    allowing software to be tested without Spectrum hardware connected or drivers installed, e.g. during CI. It overrides</span>
<span class="sd">    methods to use to set up a mock &#39;on-device buffer&#39; attribute into which a mock waveform source will write</span>
<span class="sd">    samples. It also uses a MockTimestamper to generated timestamps for mock waveforms.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">device_number</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">model</span><span class="p">:</span> <span class="n">ModelNumber</span><span class="p">,</span>
        <span class="n">mock_source_frame_rate_hz</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
        <span class="n">num_modules</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">num_channels_per_module</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">card_features</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">list</span><span class="p">[</span><span class="n">CardFeature</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">advanced_card_features</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">list</span><span class="p">[</span><span class="n">AdvancedCardFeature</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Args:</span>
<span class="sd">            device_number (int): The index of the mock device to create. Used to create a name for the device which is</span>
<span class="sd">                used internally.</span>
<span class="sd">            model (ModelNumber): The model of card to mock. Affects the allowed acquisition and post-trigger lengths.</span>
<span class="sd">            mock_source_frame_rate_hz (float): Rate at which waveforms will be generated by the mock source providing</span>
<span class="sd">                data to the mock spectrum card.</span>
<span class="sd">            num_modules (int): The number of internal modules to assign the mock card. Default 2. On real hardware, this</span>
<span class="sd">                is read from the device so does not need to be set. See the Spectrum documentation to work out how many</span>
<span class="sd">                modules your hardware has.</span>
<span class="sd">            num_channels_per_module (int): The number of channels per module. Default 4 (so 8 channels in total). On</span>
<span class="sd">                real hardware, this is read from the device so does not need to be set.</span>
<span class="sd">            card_features (list[CardFeature]): List of available features of the mock device</span>
<span class="sd">            advanced_card_features (list[AdvancedCardFeature]): List of available advanced features of the mock device</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">device_number</span><span class="o">=</span><span class="n">device_number</span><span class="p">,</span>
            <span class="n">model</span><span class="o">=</span><span class="n">model</span><span class="p">,</span>
            <span class="n">mock_source_frame_rate_hz</span><span class="o">=</span><span class="n">mock_source_frame_rate_hz</span><span class="p">,</span>
            <span class="n">num_modules</span><span class="o">=</span><span class="n">num_modules</span><span class="p">,</span>
            <span class="n">num_channels_per_module</span><span class="o">=</span><span class="n">num_channels_per_module</span><span class="p">,</span>
            <span class="n">card_type</span><span class="o">=</span><span class="n">CardType</span><span class="o">.</span><span class="n">SPCM_TYPE_AI</span><span class="p">,</span>
            <span class="n">card_features</span><span class="o">=</span><span class="n">card_features</span> <span class="k">if</span> <span class="n">card_features</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="p">[],</span>
            <span class="n">advanced_card_features</span><span class="o">=</span><span class="n">advanced_card_features</span> <span class="k">if</span> <span class="n">advanced_card_features</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="p">[],</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_visa_string</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_acquisition_mode</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">acquisition_mode</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_previous_transfer_chunk_count</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_param_dict</span><span class="p">[</span><span class="n">TRANSFER_CHUNK_COUNTER</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="k">def</span> <span class="nf">enable_timestamping</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_timestamper</span><span class="p">:</span> <span class="n">MockTimestamper</span> <span class="o">=</span> <span class="n">MockTimestamper</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">set_acquisition_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mode</span><span class="p">:</span> <span class="n">AcquisitionMode</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Mock timestamper needs to be recreated if the acquisition mode is changed.&quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">set_acquisition_mode</span><span class="p">(</span><span class="n">mode</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_timestamper</span> <span class="o">=</span> <span class="n">MockTimestamper</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">set_sample_rate_in_hz</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rate</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Mock timestamper needs to be recreated if the sample rate is changed.&quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">set_sample_rate_in_hz</span><span class="p">(</span><span class="n">rate</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_timestamper</span> <span class="o">=</span> <span class="n">MockTimestamper</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">set_acquisition_length_in_samples</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">length_in_samples</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Set length of mock recording (per channel). In FIFO mode, this will be quantised to the nearest 8 samples.</span>
<span class="sd">        See `SpectrumDigitiserCard` for more information. This method is overridden here only so that the internal</span>
<span class="sd">        attributes related to the mock on-device buffer can be set.</span>

<span class="sd">        Args:</span>
<span class="sd">            length_in_samples (int): Number of samples in each generated mock waveform</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">set_acquisition_length_in_samples</span><span class="p">(</span><span class="n">length_in_samples</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">set_enabled_analog_channels</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channels_nums</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Set the channels to enable for the mock acquisition. See `SpectrumDigitiserCard` for more information. This</span>
<span class="sd">        method is overridden here only so that the internal attributes related to the mock on-device buffer</span>
<span class="sd">        can be set.</span>

<span class="sd">        Args:</span>
<span class="sd">            channels_nums (List[int]): List of mock channel indices to enable, e.g. [0, 1, 2].</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="mi">0</span> <span class="o">&lt;=</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">analog_channels</span><span class="p">),</span> <span class="n">channels_nums</span><span class="p">)))</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">channels_nums</span><span class="p">):</span>
            <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">set_enabled_analog_channels</span><span class="p">(</span><span class="n">channels_nums</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SpectrumSettingsMismatchError</span><span class="p">(</span><span class="s2">&quot;Not enough channels in mock device configuration.&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">define_transfer_buffer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">buffer</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Sequence</span><span class="p">[</span><span class="n">TransferBuffer</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create or provide a `TransferBuffer` object for receiving acquired samples from the device.</span>

<span class="sd">        See SpectrumDigitiserCard.define_transfer_buffer(). This mock implementation is identical apart from that it</span>
<span class="sd">        does not write to any hardware device.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_set_or_update_transfer_buffer_attribute</span><span class="p">(</span><span class="n">buffer</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">start_transfer</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;See `SpectrumDigitiserCard.start_transfer()`.&quot;&quot;&quot;</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">stop_transfer</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;See `SpectrumDigitiserCard.stop_transfer()`.&quot;&quot;&quot;</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">wait_for_transfer_chunk_to_complete</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;See `SpectrumDigitiserCard.wait_for_transfer_chunk_to_complete()`. This mock implementation blocks until a</span>
<span class="sd">        new mock transfer has been completed by waiting for a change to TRANSFER_CHUNK_COUNTER.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_transfer_buffer</span><span class="p">:</span>
            <span class="n">t0</span> <span class="o">=</span> <span class="n">perf_counter</span><span class="p">()</span>
            <span class="n">t_elapsed</span> <span class="o">=</span> <span class="mf">0.0</span>
            <span class="k">while</span> <span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_previous_transfer_chunk_count</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">_param_dict</span><span class="p">[</span><span class="n">TRANSFER_CHUNK_COUNTER</span><span class="p">]</span>
            <span class="p">)</span> <span class="ow">and</span> <span class="n">t_elapsed</span> <span class="o">&lt;</span> <span class="n">MOCK_TRANSFER_TIMEOUT_IN_S</span><span class="p">:</span>
                <span class="n">sleep</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span>
                <span class="n">t_elapsed</span> <span class="o">=</span> <span class="n">perf_counter</span><span class="p">()</span> <span class="o">-</span> <span class="n">t0</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_previous_transfer_chunk_count</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_param_dict</span><span class="p">[</span><span class="n">TRANSFER_CHUNK_COUNTER</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SpectrumNoTransferBufferDefined</span><span class="p">(</span><span class="s2">&quot;No transfer in progress.&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">wait_for_acquisition_to_complete</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;See `SpectrumDigitiserCard.wait_for_acquisition_to_complete()`. This mock implementation blocks until a mock</span>
<span class="sd">        acquisition has been completed (i.e. the acquisition thread has shut down) or the request has timed out</span>
<span class="sd">        according to the `self.timeout_ms attribute`.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_acquisition_thread</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_acquisition_thread</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">timeout</span><span class="o">=</span><span class="mf">1e-3</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">timeout_in_ms</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_acquisition_thread</span><span class="o">.</span><span class="n">is_alive</span><span class="p">():</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;A timeout occurred while waiting for mock acquisition to complete.&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;No acquisition in progress. Wait for acquisition to complete has no effect&quot;</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>A mock spectrum card, for testing software written to use the <code><a href="#SpectrumDigitiserCard">SpectrumDigitiserCard</a></code> class.</p>

<p>This class overrides methods of <code><a href="#SpectrumDigitiserCard">SpectrumDigitiserCard</a></code> that communicate with hardware with mocked implementations,
allowing software to be tested without Spectrum hardware connected or drivers installed, e.g. during CI. It overrides
methods to use to set up a mock 'on-device buffer' attribute into which a mock waveform source will write
samples. It also uses a MockTimestamper to generated timestamps for mock waveforms.</p>
</div>


                            <div id="MockSpectrumDigitiserCard.__init__" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#MockSpectrumDigitiserCard.__init__">#&nbsp;&nbsp</a>

        
            <span class="name">MockSpectrumDigitiserCard</span><span class="signature">(
    device_number: int,
    model: <a href="spectrumdevice/settings.html#card_dependent_properties.ModelNumber">spectrumdevice.settings.card_dependent_properties.ModelNumber</a>,
    mock_source_frame_rate_hz: float,
    num_modules: int,
    num_channels_per_module: int,
    card_features: Optional[list[<a href="spectrumdevice/settings.html#card_features.CardFeature">spectrumdevice.settings.card_features.CardFeature</a>]] = None,
    advanced_card_features: Optional[list[<a href="spectrumdevice/settings.html#card_features.AdvancedCardFeature">spectrumdevice.settings.card_features.AdvancedCardFeature</a>]] = None
)</span>
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">device_number</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">model</span><span class="p">:</span> <span class="n">ModelNumber</span><span class="p">,</span>
        <span class="n">mock_source_frame_rate_hz</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
        <span class="n">num_modules</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">num_channels_per_module</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">card_features</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">list</span><span class="p">[</span><span class="n">CardFeature</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">advanced_card_features</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">list</span><span class="p">[</span><span class="n">AdvancedCardFeature</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Args:</span>
<span class="sd">            device_number (int): The index of the mock device to create. Used to create a name for the device which is</span>
<span class="sd">                used internally.</span>
<span class="sd">            model (ModelNumber): The model of card to mock. Affects the allowed acquisition and post-trigger lengths.</span>
<span class="sd">            mock_source_frame_rate_hz (float): Rate at which waveforms will be generated by the mock source providing</span>
<span class="sd">                data to the mock spectrum card.</span>
<span class="sd">            num_modules (int): The number of internal modules to assign the mock card. Default 2. On real hardware, this</span>
<span class="sd">                is read from the device so does not need to be set. See the Spectrum documentation to work out how many</span>
<span class="sd">                modules your hardware has.</span>
<span class="sd">            num_channels_per_module (int): The number of channels per module. Default 4 (so 8 channels in total). On</span>
<span class="sd">                real hardware, this is read from the device so does not need to be set.</span>
<span class="sd">            card_features (list[CardFeature]): List of available features of the mock device</span>
<span class="sd">            advanced_card_features (list[AdvancedCardFeature]): List of available advanced features of the mock device</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">device_number</span><span class="o">=</span><span class="n">device_number</span><span class="p">,</span>
            <span class="n">model</span><span class="o">=</span><span class="n">model</span><span class="p">,</span>
            <span class="n">mock_source_frame_rate_hz</span><span class="o">=</span><span class="n">mock_source_frame_rate_hz</span><span class="p">,</span>
            <span class="n">num_modules</span><span class="o">=</span><span class="n">num_modules</span><span class="p">,</span>
            <span class="n">num_channels_per_module</span><span class="o">=</span><span class="n">num_channels_per_module</span><span class="p">,</span>
            <span class="n">card_type</span><span class="o">=</span><span class="n">CardType</span><span class="o">.</span><span class="n">SPCM_TYPE_AI</span><span class="p">,</span>
            <span class="n">card_features</span><span class="o">=</span><span class="n">card_features</span> <span class="k">if</span> <span class="n">card_features</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="p">[],</span>
            <span class="n">advanced_card_features</span><span class="o">=</span><span class="n">advanced_card_features</span> <span class="k">if</span> <span class="n">advanced_card_features</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="p">[],</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_visa_string</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_acquisition_mode</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">acquisition_mode</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_previous_transfer_chunk_count</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_param_dict</span><span class="p">[</span><span class="n">TRANSFER_CHUNK_COUNTER</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
</pre></div>

        </details>

            <div class="docstring"><h6 id="args">Args</h6>

<ul>
<li><strong>device_number (int):</strong>  The index of the mock device to create. Used to create a name for the device which is
used internally.</li>
<li><strong>model (ModelNumber):</strong>  The model of card to mock. Affects the allowed acquisition and post-trigger lengths.</li>
<li><strong>mock_source_frame_rate_hz (float):</strong>  Rate at which waveforms will be generated by the mock source providing
data to the mock spectrum card.</li>
<li><strong>num_modules (int):</strong>  The number of internal modules to assign the mock card. Default 2. On real hardware, this
is read from the device so does not need to be set. See the Spectrum documentation to work out how many
modules your hardware has.</li>
<li><strong>num_channels_per_module (int):</strong>  The number of channels per module. Default 4 (so 8 channels in total). On
real hardware, this is read from the device so does not need to be set.</li>
<li><strong>card_features (list[CardFeature]):</strong>  List of available features of the mock device</li>
<li><strong>advanced_card_features (list[AdvancedCardFeature]):</strong>  List of available advanced features of the mock device</li>
</ul>
</div>


                            </div>
                            <div id="MockSpectrumDigitiserCard.enable_timestamping" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#MockSpectrumDigitiserCard.enable_timestamping">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">enable_timestamping</span><span class="signature">(self) -&gt; None</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">enable_timestamping</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_timestamper</span><span class="p">:</span> <span class="n">MockTimestamper</span> <span class="o">=</span> <span class="n">MockTimestamper</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle</span><span class="p">)</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="MockSpectrumDigitiserCard.set_acquisition_mode" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#MockSpectrumDigitiserCard.set_acquisition_mode">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_acquisition_mode</span><span class="signature">(
    self,
    mode: <a href="spectrumdevice/settings.html#device_modes.AcquisitionMode">spectrumdevice.settings.device_modes.AcquisitionMode</a>
) -&gt; None</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">set_acquisition_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mode</span><span class="p">:</span> <span class="n">AcquisitionMode</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Mock timestamper needs to be recreated if the acquisition mode is changed.&quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">set_acquisition_mode</span><span class="p">(</span><span class="n">mode</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_timestamper</span> <span class="o">=</span> <span class="n">MockTimestamper</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Mock timestamper needs to be recreated if the acquisition mode is changed.</p>
</div>


                            </div>
                            <div id="MockSpectrumDigitiserCard.set_sample_rate_in_hz" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#MockSpectrumDigitiserCard.set_sample_rate_in_hz">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_sample_rate_in_hz</span><span class="signature">(self, rate: int) -&gt; None</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">set_sample_rate_in_hz</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rate</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Mock timestamper needs to be recreated if the sample rate is changed.&quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">set_sample_rate_in_hz</span><span class="p">(</span><span class="n">rate</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_timestamper</span> <span class="o">=</span> <span class="n">MockTimestamper</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Mock timestamper needs to be recreated if the sample rate is changed.</p>
</div>


                            </div>
                            <div id="MockSpectrumDigitiserCard.set_acquisition_length_in_samples" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#MockSpectrumDigitiserCard.set_acquisition_length_in_samples">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_acquisition_length_in_samples</span><span class="signature">(self, length_in_samples: int) -&gt; None</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">set_acquisition_length_in_samples</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">length_in_samples</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Set length of mock recording (per channel). In FIFO mode, this will be quantised to the nearest 8 samples.</span>
<span class="sd">        See `SpectrumDigitiserCard` for more information. This method is overridden here only so that the internal</span>
<span class="sd">        attributes related to the mock on-device buffer can be set.</span>

<span class="sd">        Args:</span>
<span class="sd">            length_in_samples (int): Number of samples in each generated mock waveform</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">set_acquisition_length_in_samples</span><span class="p">(</span><span class="n">length_in_samples</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Set length of mock recording (per channel). In FIFO mode, this will be quantised to the nearest 8 samples.
See <code><a href="#SpectrumDigitiserCard">SpectrumDigitiserCard</a></code> for more information. This method is overridden here only so that the internal
attributes related to the mock on-device buffer can be set.</p>

<h6 id="args">Args</h6>

<ul>
<li><strong>length_in_samples (int):</strong>  Number of samples in each generated mock waveform</li>
</ul>
</div>


                            </div>
                            <div id="MockSpectrumDigitiserCard.set_enabled_analog_channels" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#MockSpectrumDigitiserCard.set_enabled_analog_channels">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_enabled_analog_channels</span><span class="signature">(self, channels_nums: List[int]) -&gt; None</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">set_enabled_analog_channels</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channels_nums</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Set the channels to enable for the mock acquisition. See `SpectrumDigitiserCard` for more information. This</span>
<span class="sd">        method is overridden here only so that the internal attributes related to the mock on-device buffer</span>
<span class="sd">        can be set.</span>

<span class="sd">        Args:</span>
<span class="sd">            channels_nums (List[int]): List of mock channel indices to enable, e.g. [0, 1, 2].</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="mi">0</span> <span class="o">&lt;=</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">analog_channels</span><span class="p">),</span> <span class="n">channels_nums</span><span class="p">)))</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">channels_nums</span><span class="p">):</span>
            <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">set_enabled_analog_channels</span><span class="p">(</span><span class="n">channels_nums</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SpectrumSettingsMismatchError</span><span class="p">(</span><span class="s2">&quot;Not enough channels in mock device configuration.&quot;</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Set the channels to enable for the mock acquisition. See <code><a href="#SpectrumDigitiserCard">SpectrumDigitiserCard</a></code> for more information. This
method is overridden here only so that the internal attributes related to the mock on-device buffer
can be set.</p>

<h6 id="args">Args</h6>

<ul>
<li><strong>channels_nums (List[int]):</strong>  List of mock channel indices to enable, e.g. [0, 1, 2].</li>
</ul>
</div>


                            </div>
                            <div id="MockSpectrumDigitiserCard.define_transfer_buffer" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#MockSpectrumDigitiserCard.define_transfer_buffer">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">define_transfer_buffer</span><span class="signature">(
    self,
    buffer: Optional[Sequence[<a href="spectrumdevice/settings.html#transfer_buffer.TransferBuffer">spectrumdevice.settings.transfer_buffer.TransferBuffer</a>]] = None
) -&gt; None</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">define_transfer_buffer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">buffer</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Sequence</span><span class="p">[</span><span class="n">TransferBuffer</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create or provide a `TransferBuffer` object for receiving acquired samples from the device.</span>

<span class="sd">        See SpectrumDigitiserCard.define_transfer_buffer(). This mock implementation is identical apart from that it</span>
<span class="sd">        does not write to any hardware device.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_set_or_update_transfer_buffer_attribute</span><span class="p">(</span><span class="n">buffer</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Create or provide a <code>TransferBuffer</code> object for receiving acquired samples from the device.</p>

<p>See <a href="#SpectrumDigitiserCard.define_transfer_buffer">SpectrumDigitiserCard.define_transfer_buffer()</a>. This mock implementation is identical apart from that it
does not write to any hardware device.</p>
</div>


                            </div>
                            <div id="MockSpectrumDigitiserCard.start_transfer" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#MockSpectrumDigitiserCard.start_transfer">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">start_transfer</span><span class="signature">(self) -&gt; None</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">start_transfer</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;See `SpectrumDigitiserCard.start_transfer()`.&quot;&quot;&quot;</span>
        <span class="k">pass</span>
</pre></div>

        </details>

            <div class="docstring"><p>See <code><a href="#SpectrumDigitiserCard.start_transfer">SpectrumDigitiserCard.start_transfer()</a></code>.</p>
</div>


                            </div>
                            <div id="MockSpectrumDigitiserCard.stop_transfer" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#MockSpectrumDigitiserCard.stop_transfer">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">stop_transfer</span><span class="signature">(self) -&gt; None</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">stop_transfer</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;See `SpectrumDigitiserCard.stop_transfer()`.&quot;&quot;&quot;</span>
        <span class="k">pass</span>
</pre></div>

        </details>

            <div class="docstring"><p>See <code><a href="#SpectrumDigitiserCard.stop_transfer">SpectrumDigitiserCard.stop_transfer()</a></code>.</p>
</div>


                            </div>
                            <div id="MockSpectrumDigitiserCard.wait_for_transfer_chunk_to_complete" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#MockSpectrumDigitiserCard.wait_for_transfer_chunk_to_complete">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">wait_for_transfer_chunk_to_complete</span><span class="signature">(self) -&gt; None</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">wait_for_transfer_chunk_to_complete</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;See `SpectrumDigitiserCard.wait_for_transfer_chunk_to_complete()`. This mock implementation blocks until a</span>
<span class="sd">        new mock transfer has been completed by waiting for a change to TRANSFER_CHUNK_COUNTER.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_transfer_buffer</span><span class="p">:</span>
            <span class="n">t0</span> <span class="o">=</span> <span class="n">perf_counter</span><span class="p">()</span>
            <span class="n">t_elapsed</span> <span class="o">=</span> <span class="mf">0.0</span>
            <span class="k">while</span> <span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_previous_transfer_chunk_count</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">_param_dict</span><span class="p">[</span><span class="n">TRANSFER_CHUNK_COUNTER</span><span class="p">]</span>
            <span class="p">)</span> <span class="ow">and</span> <span class="n">t_elapsed</span> <span class="o">&lt;</span> <span class="n">MOCK_TRANSFER_TIMEOUT_IN_S</span><span class="p">:</span>
                <span class="n">sleep</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span>
                <span class="n">t_elapsed</span> <span class="o">=</span> <span class="n">perf_counter</span><span class="p">()</span> <span class="o">-</span> <span class="n">t0</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_previous_transfer_chunk_count</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_param_dict</span><span class="p">[</span><span class="n">TRANSFER_CHUNK_COUNTER</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SpectrumNoTransferBufferDefined</span><span class="p">(</span><span class="s2">&quot;No transfer in progress.&quot;</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>See <code><a href="#SpectrumDigitiserCard.wait_for_transfer_chunk_to_complete">SpectrumDigitiserCard.wait_for_transfer_chunk_to_complete()</a></code>. This mock implementation blocks until a
new mock transfer has been completed by waiting for a change to TRANSFER_CHUNK_COUNTER.</p>
</div>


                            </div>
                            <div id="MockSpectrumDigitiserCard.wait_for_acquisition_to_complete" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#MockSpectrumDigitiserCard.wait_for_acquisition_to_complete">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">wait_for_acquisition_to_complete</span><span class="signature">(self) -&gt; None</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">wait_for_acquisition_to_complete</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;See `SpectrumDigitiserCard.wait_for_acquisition_to_complete()`. This mock implementation blocks until a mock</span>
<span class="sd">        acquisition has been completed (i.e. the acquisition thread has shut down) or the request has timed out</span>
<span class="sd">        according to the `self.timeout_ms attribute`.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_acquisition_thread</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_acquisition_thread</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">timeout</span><span class="o">=</span><span class="mf">1e-3</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">timeout_in_ms</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_acquisition_thread</span><span class="o">.</span><span class="n">is_alive</span><span class="p">():</span>
                <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;A timeout occurred while waiting for mock acquisition to complete.&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s2">&quot;No acquisition in progress. Wait for acquisition to complete has no effect&quot;</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>See <code><a href="#SpectrumDigitiserCard.wait_for_acquisition_to_complete">SpectrumDigitiserCard.wait_for_acquisition_to_complete()</a></code>. This mock implementation blocks until a mock
acquisition has been completed (i.e. the acquisition thread has shut down) or the request has timed out
according to the <code>self.timeout_ms attribute</code>.</p>
</div>


                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>spectrumdevice.devices.mocks.mock_abstract_devices.MockAbstractSpectrumDigitiser</dt>
                                <dd id="MockSpectrumDigitiserCard.start" class="function">start</dd>
                <dd id="MockSpectrumDigitiserCard.stop" class="function">stop</dd>

            </div>
            <div><dt>spectrumdevice.devices.mocks.mock_abstract_devices.MockAbstractSpectrumDevice</dt>
                                <dd id="MockSpectrumDigitiserCard.write_to_spectrum_device_register" class="function">write_to_spectrum_device_register</dd>
                <dd id="MockSpectrumDigitiserCard.read_spectrum_device_register" class="function">read_spectrum_device_register</dd>

            </div>
            <div><dt><a href="#SpectrumDigitiserCard">SpectrumDigitiserCard</a></dt>
                                <dd id="MockSpectrumDigitiserCard.get_waveforms" class="function"><a href="#SpectrumDigitiserCard.get_waveforms">get_waveforms</a></dd>
                <dd id="MockSpectrumDigitiserCard.get_timestamp" class="function"><a href="#SpectrumDigitiserCard.get_timestamp">get_timestamp</a></dd>
                <dd id="MockSpectrumDigitiserCard.acquisition_length_in_samples" class="variable"><a href="#SpectrumDigitiserCard.acquisition_length_in_samples">acquisition_length_in_samples</a></dd>
                <dd id="MockSpectrumDigitiserCard.post_trigger_length_in_samples" class="variable"><a href="#SpectrumDigitiserCard.post_trigger_length_in_samples">post_trigger_length_in_samples</a></dd>
                <dd id="MockSpectrumDigitiserCard.set_post_trigger_length_in_samples" class="function"><a href="#SpectrumDigitiserCard.set_post_trigger_length_in_samples">set_post_trigger_length_in_samples</a></dd>
                <dd id="MockSpectrumDigitiserCard.number_of_averages" class="variable"><a href="#SpectrumDigitiserCard.number_of_averages">number_of_averages</a></dd>
                <dd id="MockSpectrumDigitiserCard.set_number_of_averages" class="function"><a href="#SpectrumDigitiserCard.set_number_of_averages">set_number_of_averages</a></dd>
                <dd id="MockSpectrumDigitiserCard.acquisition_mode" class="variable"><a href="#SpectrumDigitiserCard.acquisition_mode">acquisition_mode</a></dd>
                <dd id="MockSpectrumDigitiserCard.batch_size" class="variable"><a href="#SpectrumDigitiserCard.batch_size">batch_size</a></dd>
                <dd id="MockSpectrumDigitiserCard.set_batch_size" class="function"><a href="#SpectrumDigitiserCard.set_batch_size">set_batch_size</a></dd>

            </div>
            <div><dt><a href="#AbstractSpectrumCard">AbstractSpectrumCard</a></dt>
                                <dd id="MockSpectrumDigitiserCard.model_number" class="variable"><a href="#AbstractSpectrumCard.model_number">model_number</a></dd>
                <dd id="MockSpectrumDigitiserCard.reconnect" class="function"><a href="#AbstractSpectrumCard.reconnect">reconnect</a></dd>
                <dd id="MockSpectrumDigitiserCard.status" class="variable"><a href="#AbstractSpectrumCard.status">status</a></dd>
                <dd id="MockSpectrumDigitiserCard.transfer_buffers" class="variable"><a href="#AbstractSpectrumCard.transfer_buffers">transfer_buffers</a></dd>
                <dd id="MockSpectrumDigitiserCard.disconnect" class="function"><a href="#AbstractSpectrumCard.disconnect">disconnect</a></dd>
                <dd id="MockSpectrumDigitiserCard.connected" class="variable"><a href="#AbstractSpectrumCard.connected">connected</a></dd>
                <dd id="MockSpectrumDigitiserCard.analog_channels" class="variable"><a href="#AbstractSpectrumCard.analog_channels">analog_channels</a></dd>
                <dd id="MockSpectrumDigitiserCard.io_lines" class="variable"><a href="#AbstractSpectrumCard.io_lines">io_lines</a></dd>
                <dd id="MockSpectrumDigitiserCard.enabled_analog_channel_nums" class="variable"><a href="#AbstractSpectrumCard.enabled_analog_channel_nums">enabled_analog_channel_nums</a></dd>
                <dd id="MockSpectrumDigitiserCard.trigger_sources" class="variable"><a href="#AbstractSpectrumCard.trigger_sources">trigger_sources</a></dd>
                <dd id="MockSpectrumDigitiserCard.set_trigger_sources" class="function"><a href="#AbstractSpectrumCard.set_trigger_sources">set_trigger_sources</a></dd>
                <dd id="MockSpectrumDigitiserCard.external_trigger_mode" class="variable"><a href="#AbstractSpectrumCard.external_trigger_mode">external_trigger_mode</a></dd>
                <dd id="MockSpectrumDigitiserCard.set_external_trigger_mode" class="function"><a href="#AbstractSpectrumCard.set_external_trigger_mode">set_external_trigger_mode</a></dd>
                <dd id="MockSpectrumDigitiserCard.external_trigger_level_in_mv" class="variable"><a href="#AbstractSpectrumCard.external_trigger_level_in_mv">external_trigger_level_in_mv</a></dd>
                <dd id="MockSpectrumDigitiserCard.set_external_trigger_level_in_mv" class="function"><a href="#AbstractSpectrumCard.set_external_trigger_level_in_mv">set_external_trigger_level_in_mv</a></dd>
                <dd id="MockSpectrumDigitiserCard.external_trigger_pulse_width_in_samples" class="variable"><a href="#AbstractSpectrumCard.external_trigger_pulse_width_in_samples">external_trigger_pulse_width_in_samples</a></dd>
                <dd id="MockSpectrumDigitiserCard.set_external_trigger_pulse_width_in_samples" class="function"><a href="#AbstractSpectrumCard.set_external_trigger_pulse_width_in_samples">set_external_trigger_pulse_width_in_samples</a></dd>
                <dd id="MockSpectrumDigitiserCard.apply_channel_enabling" class="function"><a href="#AbstractSpectrumCard.apply_channel_enabling">apply_channel_enabling</a></dd>
                <dd id="MockSpectrumDigitiserCard.timeout_in_ms" class="variable"><a href="#AbstractSpectrumCard.timeout_in_ms">timeout_in_ms</a></dd>
                <dd id="MockSpectrumDigitiserCard.set_timeout_in_ms" class="function"><a href="#AbstractSpectrumCard.set_timeout_in_ms">set_timeout_in_ms</a></dd>
                <dd id="MockSpectrumDigitiserCard.clock_mode" class="variable"><a href="#AbstractSpectrumCard.clock_mode">clock_mode</a></dd>
                <dd id="MockSpectrumDigitiserCard.set_clock_mode" class="function"><a href="#AbstractSpectrumCard.set_clock_mode">set_clock_mode</a></dd>
                <dd id="MockSpectrumDigitiserCard.available_io_modes" class="variable"><a href="#AbstractSpectrumCard.available_io_modes">available_io_modes</a></dd>
                <dd id="MockSpectrumDigitiserCard.feature_list" class="variable"><a href="#AbstractSpectrumCard.feature_list">feature_list</a></dd>
                <dd id="MockSpectrumDigitiserCard.sample_rate_in_hz" class="variable"><a href="#AbstractSpectrumCard.sample_rate_in_hz">sample_rate_in_hz</a></dd>
                <dd id="MockSpectrumDigitiserCard.type" class="variable"><a href="#AbstractSpectrumCard.type">type</a></dd>
                <dd id="MockSpectrumDigitiserCard.force_trigger" class="function"><a href="#AbstractSpectrumCard.force_trigger">force_trigger</a></dd>
                <dd id="MockSpectrumDigitiserCard.bytes_per_sample" class="variable"><a href="#AbstractSpectrumCard.bytes_per_sample">bytes_per_sample</a></dd>

            </div>
            <div><dt><a href="#AbstractSpectrumDigitiser">AbstractSpectrumDigitiser</a></dt>
                                <dd id="MockSpectrumDigitiserCard.configure_acquisition" class="function"><a href="#AbstractSpectrumDigitiser.configure_acquisition">configure_acquisition</a></dd>
                <dd id="MockSpectrumDigitiserCard.execute_standard_single_acquisition" class="function"><a href="#AbstractSpectrumDigitiser.execute_standard_single_acquisition">execute_standard_single_acquisition</a></dd>
                <dd id="MockSpectrumDigitiserCard.execute_finite_fifo_acquisition" class="function"><a href="#AbstractSpectrumDigitiser.execute_finite_fifo_acquisition">execute_finite_fifo_acquisition</a></dd>
                <dd id="MockSpectrumDigitiserCard.execute_continuous_fifo_acquisition" class="function"><a href="#AbstractSpectrumDigitiser.execute_continuous_fifo_acquisition">execute_continuous_fifo_acquisition</a></dd>

            </div>
            <div><dt><a href="#AbstractSpectrumDevice">AbstractSpectrumDevice</a></dt>
                                <dd id="MockSpectrumDigitiserCard.reset" class="function"><a href="#AbstractSpectrumDevice.reset">reset</a></dd>
                <dd id="MockSpectrumDigitiserCard.configure_trigger" class="function"><a href="#AbstractSpectrumDevice.configure_trigger">configure_trigger</a></dd>
                <dd id="MockSpectrumDigitiserCard.configure_channel_pairing" class="function"><a href="#AbstractSpectrumDevice.configure_channel_pairing">configure_channel_pairing</a></dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="MockSpectrumDigitiserStarHub">
                                <div class="attr class">
        <a class="headerlink" href="#MockSpectrumDigitiserStarHub">#&nbsp;&nbsp</a>

        
        <span class="def">class</span>
        <span class="name">MockSpectrumDigitiserStarHub</span><wbr>(<span class="base"><a href="#AbstractSpectrumStarHub">spectrumdevice.AbstractSpectrumStarHub[spectrumdevice.devices.digitiser.digitiser_card.SpectrumDigitiserCard, spectrumdevice.devices.digitiser.digitiser_interface.SpectrumDigitiserAnalogChannelInterface, spectrumdevice.devices.digitiser.digitiser_interface.SpectrumDigitiserIOLineInterface]</a></span>, <span class="base"><a href="#AbstractSpectrumDigitiser">spectrumdevice.AbstractSpectrumDigitiser</a></span>):
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span><span class="k">class</span> <span class="nc">MockSpectrumDigitiserStarHub</span><span class="p">(</span><span class="n">MockAbstractSpectrumStarHub</span><span class="p">,</span> <span class="n">SpectrumDigitiserStarHub</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A mock spectrum StarHub, for testing software written to use the `SpectrumStarHub` class.</span>

<span class="sd">    Overrides methods of `SpectrumStarHub` and `AbstractSpectrumDigitiser` that communicate with hardware with mocked</span>
<span class="sd">    implementations allowing software to be tested without Spectrum hardware connected or drivers installed, e.g. during</span>
<span class="sd">    CI.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Args:</span>
<span class="sd">            child_cards (Sequence[`MockSpectrumDigitiserCard`]): A list of `MockSpectrumDigitiserCard` objects defining the</span>
<span class="sd">                properties of the child cards located within the mock hub.</span>
<span class="sd">            master_card_index (int): The position within child_cards where the master card (the card which controls the</span>
<span class="sd">                clock) is located.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">param_dict</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_visa_string</span> <span class="o">=</span> <span class="s2">&quot;/mock&quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">_visa_string</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_visa_string</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_acquisition_mode</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">acquisition_mode</span>

    <span class="k">def</span> <span class="nf">start</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Start a mock acquisition</span>

<span class="sd">        See `AbstractSpectrumDevice.start()`. With a hardware device, StarHub&#39;s only need to be sent a single</span>
<span class="sd">        instruction to start acquisition, which they automatically relay to their child cards - hence why</span>
<span class="sd">        `start` is implemented in `AbstractSpectrumDevice` (base class to both `SpectrumDigitiserCard` and</span>
<span class="sd">        `SpectrumStarHub`) rather than in `SpectrumStarHub`. In this mock `implementation`, each card&#39;s acquisition is</span>
<span class="sd">        started individually.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">card</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_child_cards</span><span class="p">:</span>
            <span class="n">card</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">stop</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Stop a mock acquisition</span>

<span class="sd">        See `AbstractSpectrumDevice.stop_acquisition`. With a hardware device, StarHub&#39;s only need to be sent a single</span>
<span class="sd">        instruction to stop acquisition, which they automatically relay to their child cards - hence why</span>
<span class="sd">        `stop_acquisition()` is implemented in `AbstractSpectrumDevice` (base class to both `SpectrumDigitiserCard` and</span>
<span class="sd">        `SpectrumStarHub`) rather than in `SpectrumStarHub`. In this mock implementation, each card&#39;s acquisition is</span>
<span class="sd">        stopped individually.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">card</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_child_cards</span><span class="p">:</span>
            <span class="n">card</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>
</pre></div>

        </details>

            <div class="docstring"><p>A mock spectrum StarHub, for testing software written to use the <code>SpectrumStarHub</code> class.</p>

<p>Overrides methods of <code>SpectrumStarHub</code> and <code><a href="#AbstractSpectrumDigitiser">AbstractSpectrumDigitiser</a></code> that communicate with hardware with mocked
implementations allowing software to be tested without Spectrum hardware connected or drivers installed, e.g. during
CI.</p>
</div>


                            <div id="MockSpectrumDigitiserStarHub.__init__" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#MockSpectrumDigitiserStarHub.__init__">#&nbsp;&nbsp</a>

        
            <span class="name">MockSpectrumDigitiserStarHub</span><span class="signature">(**kwargs: Any)</span>
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Args:</span>
<span class="sd">            child_cards (Sequence[`MockSpectrumDigitiserCard`]): A list of `MockSpectrumDigitiserCard` objects defining the</span>
<span class="sd">                properties of the child cards located within the mock hub.</span>
<span class="sd">            master_card_index (int): The position within child_cards where the master card (the card which controls the</span>
<span class="sd">                clock) is located.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">param_dict</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_visa_string</span> <span class="o">=</span> <span class="s2">&quot;/mock&quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">_visa_string</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_visa_string</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_acquisition_mode</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">acquisition_mode</span>
</pre></div>

        </details>

            <div class="docstring"><h6 id="args">Args</h6>

<ul>
<li><strong>child_cards (Sequence[<code><a href="#MockSpectrumDigitiserCard">MockSpectrumDigitiserCard</a></code>]):</strong>  A list of <code><a href="#MockSpectrumDigitiserCard">MockSpectrumDigitiserCard</a></code> objects defining the
properties of the child cards located within the mock hub.</li>
<li><strong>master_card_index (int):</strong>  The position within child_cards where the master card (the card which controls the
clock) is located.</li>
</ul>
</div>


                            </div>
                            <div id="MockSpectrumDigitiserStarHub.start" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#MockSpectrumDigitiserStarHub.start">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">start</span><span class="signature">(self) -&gt; None</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">start</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Start a mock acquisition</span>

<span class="sd">        See `AbstractSpectrumDevice.start()`. With a hardware device, StarHub&#39;s only need to be sent a single</span>
<span class="sd">        instruction to start acquisition, which they automatically relay to their child cards - hence why</span>
<span class="sd">        `start` is implemented in `AbstractSpectrumDevice` (base class to both `SpectrumDigitiserCard` and</span>
<span class="sd">        `SpectrumStarHub`) rather than in `SpectrumStarHub`. In this mock `implementation`, each card&#39;s acquisition is</span>
<span class="sd">        started individually.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">card</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_child_cards</span><span class="p">:</span>
            <span class="n">card</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
</pre></div>

        </details>

            <div class="docstring"><p>Start a mock acquisition</p>

<p>See <code><a href="#AbstractSpectrumDevice.start">AbstractSpectrumDevice.start()</a></code>. With a hardware device, StarHub's only need to be sent a single
instruction to start acquisition, which they automatically relay to their child cards - hence why
<code><a href="#MockSpectrumDigitiserStarHub.start">start</a></code> is implemented in <code><a href="#AbstractSpectrumDevice">AbstractSpectrumDevice</a></code> (base class to both <code><a href="#SpectrumDigitiserCard">SpectrumDigitiserCard</a></code> and
<code>SpectrumStarHub</code>) rather than in <code>SpectrumStarHub</code>. In this mock <code>implementation</code>, each card's acquisition is
started individually.</p>
</div>


                            </div>
                            <div id="MockSpectrumDigitiserStarHub.stop" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#MockSpectrumDigitiserStarHub.stop">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">stop</span><span class="signature">(self) -&gt; None</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">stop</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Stop a mock acquisition</span>

<span class="sd">        See `AbstractSpectrumDevice.stop_acquisition`. With a hardware device, StarHub&#39;s only need to be sent a single</span>
<span class="sd">        instruction to stop acquisition, which they automatically relay to their child cards - hence why</span>
<span class="sd">        `stop_acquisition()` is implemented in `AbstractSpectrumDevice` (base class to both `SpectrumDigitiserCard` and</span>
<span class="sd">        `SpectrumStarHub`) rather than in `SpectrumStarHub`. In this mock implementation, each card&#39;s acquisition is</span>
<span class="sd">        stopped individually.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">card</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_child_cards</span><span class="p">:</span>
            <span class="n">card</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>
</pre></div>

        </details>

            <div class="docstring"><p>Stop a mock acquisition</p>

<p>See <code>AbstractSpectrumDevice.stop_acquisition</code>. With a hardware device, StarHub's only need to be sent a single
instruction to stop acquisition, which they automatically relay to their child cards - hence why
<code>stop_acquisition()</code> is implemented in <code><a href="#AbstractSpectrumDevice">AbstractSpectrumDevice</a></code> (base class to both <code><a href="#SpectrumDigitiserCard">SpectrumDigitiserCard</a></code> and
<code>SpectrumStarHub</code>) rather than in <code>SpectrumStarHub</code>. In this mock implementation, each card's acquisition is
stopped individually.</p>
</div>


                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>spectrumdevice.devices.mocks.mock_abstract_devices.MockAbstractSpectrumDevice</dt>
                                <dd id="MockSpectrumDigitiserStarHub.write_to_spectrum_device_register" class="function">write_to_spectrum_device_register</dd>
                <dd id="MockSpectrumDigitiserStarHub.read_spectrum_device_register" class="function">read_spectrum_device_register</dd>

            </div>
            <div><dt><a href="#SpectrumDigitiserStarHub">SpectrumDigitiserStarHub</a></dt>
                                <dd id="MockSpectrumDigitiserStarHub.define_transfer_buffer" class="function"><a href="#SpectrumDigitiserStarHub.define_transfer_buffer">define_transfer_buffer</a></dd>
                <dd id="MockSpectrumDigitiserStarHub.wait_for_acquisition_to_complete" class="function"><a href="#SpectrumDigitiserStarHub.wait_for_acquisition_to_complete">wait_for_acquisition_to_complete</a></dd>
                <dd id="MockSpectrumDigitiserStarHub.get_waveforms" class="function"><a href="#SpectrumDigitiserStarHub.get_waveforms">get_waveforms</a></dd>
                <dd id="MockSpectrumDigitiserStarHub.get_timestamp" class="function"><a href="#SpectrumDigitiserStarHub.get_timestamp">get_timestamp</a></dd>
                <dd id="MockSpectrumDigitiserStarHub.enable_timestamping" class="function"><a href="#SpectrumDigitiserStarHub.enable_timestamping">enable_timestamping</a></dd>
                <dd id="MockSpectrumDigitiserStarHub.acquisition_length_in_samples" class="variable"><a href="#SpectrumDigitiserStarHub.acquisition_length_in_samples">acquisition_length_in_samples</a></dd>
                <dd id="MockSpectrumDigitiserStarHub.set_acquisition_length_in_samples" class="function"><a href="#SpectrumDigitiserStarHub.set_acquisition_length_in_samples">set_acquisition_length_in_samples</a></dd>
                <dd id="MockSpectrumDigitiserStarHub.post_trigger_length_in_samples" class="variable"><a href="#SpectrumDigitiserStarHub.post_trigger_length_in_samples">post_trigger_length_in_samples</a></dd>
                <dd id="MockSpectrumDigitiserStarHub.set_post_trigger_length_in_samples" class="function"><a href="#SpectrumDigitiserStarHub.set_post_trigger_length_in_samples">set_post_trigger_length_in_samples</a></dd>
                <dd id="MockSpectrumDigitiserStarHub.acquisition_mode" class="variable"><a href="#SpectrumDigitiserStarHub.acquisition_mode">acquisition_mode</a></dd>
                <dd id="MockSpectrumDigitiserStarHub.set_acquisition_mode" class="function"><a href="#SpectrumDigitiserStarHub.set_acquisition_mode">set_acquisition_mode</a></dd>
                <dd id="MockSpectrumDigitiserStarHub.batch_size" class="variable"><a href="#SpectrumDigitiserStarHub.batch_size">batch_size</a></dd>
                <dd id="MockSpectrumDigitiserStarHub.set_batch_size" class="function"><a href="#SpectrumDigitiserStarHub.set_batch_size">set_batch_size</a></dd>
                <dd id="MockSpectrumDigitiserStarHub.force_trigger" class="function"><a href="#SpectrumDigitiserStarHub.force_trigger">force_trigger</a></dd>
                <dd id="MockSpectrumDigitiserStarHub.type" class="variable"><a href="#SpectrumDigitiserStarHub.type">type</a></dd>
                <dd id="MockSpectrumDigitiserStarHub.model_number" class="variable"><a href="#SpectrumDigitiserStarHub.model_number">model_number</a></dd>
                <dd id="MockSpectrumDigitiserStarHub.analog_channels" class="variable"><a href="#SpectrumDigitiserStarHub.analog_channels">analog_channels</a></dd>

            </div>
            <div><dt><a href="#AbstractSpectrumStarHub">AbstractSpectrumStarHub</a></dt>
                                <dd id="MockSpectrumDigitiserStarHub.disconnect" class="function"><a href="#AbstractSpectrumStarHub.disconnect">disconnect</a></dd>
                <dd id="MockSpectrumDigitiserStarHub.reconnect" class="function"><a href="#AbstractSpectrumStarHub.reconnect">reconnect</a></dd>
                <dd id="MockSpectrumDigitiserStarHub.status" class="variable"><a href="#AbstractSpectrumStarHub.status">status</a></dd>
                <dd id="MockSpectrumDigitiserStarHub.start_transfer" class="function"><a href="#AbstractSpectrumStarHub.start_transfer">start_transfer</a></dd>
                <dd id="MockSpectrumDigitiserStarHub.stop_transfer" class="function"><a href="#AbstractSpectrumStarHub.stop_transfer">stop_transfer</a></dd>
                <dd id="MockSpectrumDigitiserStarHub.wait_for_transfer_chunk_to_complete" class="function"><a href="#AbstractSpectrumStarHub.wait_for_transfer_chunk_to_complete">wait_for_transfer_chunk_to_complete</a></dd>
                <dd id="MockSpectrumDigitiserStarHub.connected" class="variable"><a href="#AbstractSpectrumStarHub.connected">connected</a></dd>
                <dd id="MockSpectrumDigitiserStarHub.set_triggering_card" class="function"><a href="#AbstractSpectrumStarHub.set_triggering_card">set_triggering_card</a></dd>
                <dd id="MockSpectrumDigitiserStarHub.clock_mode" class="variable"><a href="#AbstractSpectrumStarHub.clock_mode">clock_mode</a></dd>
                <dd id="MockSpectrumDigitiserStarHub.set_clock_mode" class="function"><a href="#AbstractSpectrumStarHub.set_clock_mode">set_clock_mode</a></dd>
                <dd id="MockSpectrumDigitiserStarHub.sample_rate_in_hz" class="variable"><a href="#AbstractSpectrumStarHub.sample_rate_in_hz">sample_rate_in_hz</a></dd>
                <dd id="MockSpectrumDigitiserStarHub.set_sample_rate_in_hz" class="function"><a href="#AbstractSpectrumStarHub.set_sample_rate_in_hz">set_sample_rate_in_hz</a></dd>
                <dd id="MockSpectrumDigitiserStarHub.trigger_sources" class="variable"><a href="#AbstractSpectrumStarHub.trigger_sources">trigger_sources</a></dd>
                <dd id="MockSpectrumDigitiserStarHub.set_trigger_sources" class="function"><a href="#AbstractSpectrumStarHub.set_trigger_sources">set_trigger_sources</a></dd>
                <dd id="MockSpectrumDigitiserStarHub.external_trigger_mode" class="variable"><a href="#AbstractSpectrumStarHub.external_trigger_mode">external_trigger_mode</a></dd>
                <dd id="MockSpectrumDigitiserStarHub.set_external_trigger_mode" class="function"><a href="#AbstractSpectrumStarHub.set_external_trigger_mode">set_external_trigger_mode</a></dd>
                <dd id="MockSpectrumDigitiserStarHub.external_trigger_level_in_mv" class="variable"><a href="#AbstractSpectrumStarHub.external_trigger_level_in_mv">external_trigger_level_in_mv</a></dd>
                <dd id="MockSpectrumDigitiserStarHub.set_external_trigger_level_in_mv" class="function"><a href="#AbstractSpectrumStarHub.set_external_trigger_level_in_mv">set_external_trigger_level_in_mv</a></dd>
                <dd id="MockSpectrumDigitiserStarHub.external_trigger_pulse_width_in_samples" class="variable"><a href="#AbstractSpectrumStarHub.external_trigger_pulse_width_in_samples">external_trigger_pulse_width_in_samples</a></dd>
                <dd id="MockSpectrumDigitiserStarHub.set_external_trigger_pulse_width_in_samples" class="function"><a href="#AbstractSpectrumStarHub.set_external_trigger_pulse_width_in_samples">set_external_trigger_pulse_width_in_samples</a></dd>
                <dd id="MockSpectrumDigitiserStarHub.apply_channel_enabling" class="function"><a href="#AbstractSpectrumStarHub.apply_channel_enabling">apply_channel_enabling</a></dd>
                <dd id="MockSpectrumDigitiserStarHub.enabled_analog_channel_nums" class="variable"><a href="#AbstractSpectrumStarHub.enabled_analog_channel_nums">enabled_analog_channel_nums</a></dd>
                <dd id="MockSpectrumDigitiserStarHub.set_enabled_analog_channels" class="function"><a href="#AbstractSpectrumStarHub.set_enabled_analog_channels">set_enabled_analog_channels</a></dd>
                <dd id="MockSpectrumDigitiserStarHub.transfer_buffers" class="variable"><a href="#AbstractSpectrumStarHub.transfer_buffers">transfer_buffers</a></dd>
                <dd id="MockSpectrumDigitiserStarHub.io_lines" class="variable"><a href="#AbstractSpectrumStarHub.io_lines">io_lines</a></dd>
                <dd id="MockSpectrumDigitiserStarHub.timeout_in_ms" class="variable"><a href="#AbstractSpectrumStarHub.timeout_in_ms">timeout_in_ms</a></dd>
                <dd id="MockSpectrumDigitiserStarHub.set_timeout_in_ms" class="function"><a href="#AbstractSpectrumStarHub.set_timeout_in_ms">set_timeout_in_ms</a></dd>
                <dd id="MockSpectrumDigitiserStarHub.feature_list" class="variable"><a href="#AbstractSpectrumStarHub.feature_list">feature_list</a></dd>
                <dd id="MockSpectrumDigitiserStarHub.available_io_modes" class="variable"><a href="#AbstractSpectrumStarHub.available_io_modes">available_io_modes</a></dd>
                <dd id="MockSpectrumDigitiserStarHub.bytes_per_sample" class="variable"><a href="#AbstractSpectrumStarHub.bytes_per_sample">bytes_per_sample</a></dd>

            </div>
            <div><dt><a href="#AbstractSpectrumDigitiser">AbstractSpectrumDigitiser</a></dt>
                                <dd id="MockSpectrumDigitiserStarHub.configure_acquisition" class="function"><a href="#AbstractSpectrumDigitiser.configure_acquisition">configure_acquisition</a></dd>
                <dd id="MockSpectrumDigitiserStarHub.execute_standard_single_acquisition" class="function"><a href="#AbstractSpectrumDigitiser.execute_standard_single_acquisition">execute_standard_single_acquisition</a></dd>
                <dd id="MockSpectrumDigitiserStarHub.execute_finite_fifo_acquisition" class="function"><a href="#AbstractSpectrumDigitiser.execute_finite_fifo_acquisition">execute_finite_fifo_acquisition</a></dd>
                <dd id="MockSpectrumDigitiserStarHub.execute_continuous_fifo_acquisition" class="function"><a href="#AbstractSpectrumDigitiser.execute_continuous_fifo_acquisition">execute_continuous_fifo_acquisition</a></dd>

            </div>
            <div><dt><a href="#AbstractSpectrumDevice">AbstractSpectrumDevice</a></dt>
                                <dd id="MockSpectrumDigitiserStarHub.reset" class="function"><a href="#AbstractSpectrumDevice.reset">reset</a></dd>
                <dd id="MockSpectrumDigitiserStarHub.configure_trigger" class="function"><a href="#AbstractSpectrumDevice.configure_trigger">configure_trigger</a></dd>
                <dd id="MockSpectrumDigitiserStarHub.configure_channel_pairing" class="function"><a href="#AbstractSpectrumDevice.configure_channel_pairing">configure_channel_pairing</a></dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="AbstractSpectrumDigitiser">
                                <div class="attr class">
        <a class="headerlink" href="#AbstractSpectrumDigitiser">#&nbsp;&nbsp</a>

        
        <span class="def">class</span>
        <span class="name">AbstractSpectrumDigitiser</span><wbr>(<span class="base"><a href="#AbstractSpectrumDevice">spectrumdevice.AbstractSpectrumDevice[spectrumdevice.devices.digitiser.digitiser_interface.SpectrumDigitiserAnalogChannelInterface, spectrumdevice.devices.digitiser.digitiser_interface.SpectrumDigitiserIOLineInterface]</a></span>, <span class="base">spectrumdevice.devices.digitiser.digitiser_interface.SpectrumDigitiserInterface</span>, <span class="base">abc.ABC</span>):
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span><span class="k">class</span> <span class="nc">AbstractSpectrumDigitiser</span><span class="p">(</span>
    <span class="n">AbstractSpectrumDevice</span><span class="p">[</span><span class="n">SpectrumDigitiserAnalogChannelInterface</span><span class="p">,</span> <span class="n">SpectrumDigitiserIOLineInterface</span><span class="p">],</span>
    <span class="n">SpectrumDigitiserInterface</span><span class="p">,</span>
    <span class="n">ABC</span><span class="p">,</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Abstract superclass which implements methods common to all Spectrum digitiser devices. Instances of this class</span>
<span class="sd">    cannot be constructed directly. Instead, construct instances of the concrete classes (`SpectrumDigitiserCard`,</span>
<span class="sd">    `SpectrumDigitiserStarHub` or their mock equivalents) which inherit the methods defined here. Note that</span>
<span class="sd">    the mock devices override several of the methods defined here.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">configure_acquisition</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">settings</span><span class="p">:</span> <span class="n">AcquisitionSettings</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Apply all the settings contained in an `AcquisitionSettings` dataclass to the device.</span>

<span class="sd">        Args:</span>
<span class="sd">            settings (`AcquisitionSettings`): An `AcquisitionSettings` dataclass containing the setting values to apply.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">settings</span><span class="o">.</span><span class="n">batch_size</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="ow">and</span> <span class="n">settings</span><span class="o">.</span><span class="n">acquisition_mode</span> <span class="o">==</span> <span class="n">AcquisitionMode</span><span class="o">.</span><span class="n">SPC_REC_STD_SINGLE</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;In standard single mode, only 1 acquisition can be downloaded at a time.&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_acquisition_mode</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">acquisition_mode</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_batch_size</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">batch_size</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_acquisition_mode</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">acquisition_mode</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_sample_rate_in_hz</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">sample_rate_in_hz</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_acquisition_length_in_samples</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">acquisition_length_in_samples</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_post_trigger_length_in_samples</span><span class="p">(</span>
            <span class="n">settings</span><span class="o">.</span><span class="n">acquisition_length_in_samples</span> <span class="o">-</span> <span class="n">settings</span><span class="o">.</span><span class="n">pre_trigger_length_in_samples</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_timeout_in_ms</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">timeout_in_ms</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_enabled_analog_channels</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">enabled_channels</span><span class="p">)</span>

        <span class="c1"># Apply channel dependent settings</span>
        <span class="k">for</span> <span class="n">channel_num</span><span class="p">,</span> <span class="n">v_range</span><span class="p">,</span> <span class="n">v_offset</span><span class="p">,</span> <span class="n">impedance</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">enabled_analog_channel_nums</span><span class="p">,</span>
            <span class="n">settings</span><span class="o">.</span><span class="n">vertical_ranges_in_mv</span><span class="p">,</span>
            <span class="n">settings</span><span class="o">.</span><span class="n">vertical_offsets_in_percent</span><span class="p">,</span>
            <span class="n">settings</span><span class="o">.</span><span class="n">input_impedances</span><span class="p">,</span>
        <span class="p">):</span>
            <span class="n">channel</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">analog_channels</span><span class="p">[</span><span class="n">channel_num</span><span class="p">]</span>
            <span class="n">channel</span><span class="o">.</span><span class="n">set_vertical_range_in_mv</span><span class="p">(</span><span class="n">v_range</span><span class="p">)</span>
            <span class="n">channel</span><span class="o">.</span><span class="n">set_vertical_offset_in_percent</span><span class="p">(</span><span class="n">v_offset</span><span class="p">)</span>
            <span class="n">channel</span><span class="o">.</span><span class="n">set_input_impedance</span><span class="p">(</span><span class="n">impedance</span><span class="p">)</span>

        <span class="c1"># Only some hardware has software programmable input coupling, so coupling can be None</span>
        <span class="k">if</span> <span class="n">settings</span><span class="o">.</span><span class="n">input_couplings</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">channel</span><span class="p">,</span> <span class="n">coupling</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">analog_channels</span><span class="p">,</span> <span class="n">settings</span><span class="o">.</span><span class="n">input_couplings</span><span class="p">):</span>
                <span class="n">channel</span><span class="o">.</span><span class="n">set_input_coupling</span><span class="p">(</span><span class="n">coupling</span><span class="p">)</span>

        <span class="c1"># Only some hardware has software programmable input paths, so it can be None</span>
        <span class="k">if</span> <span class="n">settings</span><span class="o">.</span><span class="n">input_paths</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">channel</span><span class="p">,</span> <span class="n">path</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">analog_channels</span><span class="p">,</span> <span class="n">settings</span><span class="o">.</span><span class="n">input_paths</span><span class="p">):</span>
                <span class="n">channel</span><span class="o">.</span><span class="n">set_input_path</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>

        <span class="c1"># Write the configuration to the card</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_to_spectrum_device_register</span><span class="p">(</span><span class="n">SPC_M2CMD</span><span class="p">,</span> <span class="n">M2CMD_CARD_WRITESETUP</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">settings</span><span class="o">.</span><span class="n">timestamping_enabled</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">enable_timestamping</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">execute_standard_single_acquisition</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Measurement</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Carry out a single measurement in standard single mode and return the acquired waveforms.</span>

<span class="sd">        This method automatically carries out a standard single mode acquisition, including handling the creation</span>
<span class="sd">        of a `TransferBuffer` and the retrieval of the acquired waveforms. After being called, it will wait until a</span>
<span class="sd">        trigger event is received before carrying out the acquisition and then transferring and returning the acquired</span>
<span class="sd">        waveforms. The device must be configured in SPC_REC_STD_SINGLE acquisition mode.</span>

<span class="sd">        Returns:</span>
<span class="sd">            measurement (Measurement): A Measurement object. The `.waveforms` attribute of `measurement` will be a list</span>
<span class="sd">                of 1D NumPy arrays, each array containing the waveform data received on one channel, in channel order.</span>
<span class="sd">                The Waveform object also has a timestamp attribute, which (if timestamping was enabled in acquisition</span>
<span class="sd">                settings) contains the time at which the acquisition was triggered.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_acquisition_mode</span> <span class="o">!=</span> <span class="n">AcquisitionMode</span><span class="o">.</span><span class="n">SPC_REC_STD_SINGLE</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SpectrumWrongAcquisitionMode</span><span class="p">(</span>
                <span class="s2">&quot;Set the acquisition mode to SPC_REC_STD_SINGLE using &quot;</span>
                <span class="s2">&quot;configure_acquisition() or set_acquisition_mode() before executing &quot;</span>
                <span class="s2">&quot;a standard single mode acquisition.&quot;</span>
            <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_acquisition_to_complete</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">define_transfer_buffer</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">start_transfer</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_transfer_chunk_to_complete</span><span class="p">()</span>
        <span class="n">waveforms</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_waveforms</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>  <span class="c1"># Only strictly required for Mock devices. Should not affect hardware.</span>
        <span class="k">return</span> <span class="n">Measurement</span><span class="p">(</span><span class="n">waveforms</span><span class="o">=</span><span class="n">waveforms</span><span class="p">,</span> <span class="n">timestamp</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">get_timestamp</span><span class="p">())</span>

    <span class="k">def</span> <span class="nf">execute_finite_fifo_acquisition</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">num_measurements</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Measurement</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Carry out a finite number of FIFO mode measurements and then stop the acquisitions.</span>

<span class="sd">        This method automatically carries out a defined number of measurement in Multi FIFO mode, including handling the</span>
<span class="sd">        creation of a `TransferBuffer`, streaming the acquired waveforms to the PC, terminating the acquisition and</span>
<span class="sd">        returning the acquired waveforms. After being called, it will wait for the requested number of triggers to be</span>
<span class="sd">        received, generating the correct number of measurements. It retrieves each measurement&#39;s waveforms from the</span>
<span class="sd">        `TransferBuffer` as they arrive. Once the requested number of measurements have been received, the acquisition</span>
<span class="sd">        is terminated and the waveforms are returned. The device must be configured in SPC_REC_FIFO_MULTI or</span>
<span class="sd">        SPC_REC_FIFO_AVERAGE acquisition mode.</span>

<span class="sd">        Args:</span>
<span class="sd">            num_measurements (int): The number of measurements to carry out.</span>
<span class="sd">        Returns:</span>
<span class="sd">            measurements (List[Measurement]): A list of Measurement objects with length `num_measurements`. Each</span>
<span class="sd">                Measurement object has a `waveforms` attribute containing a list of 1D NumPy arrays. Each array is a</span>
<span class="sd">                waveform acquired from one channel. The arrays are in channel order. The Waveform objects also have a</span>
<span class="sd">                timestamp attribute, which (if timestamping was enabled in acquisition settings) contains the time at</span>
<span class="sd">                which the acquisition was triggered.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">num_measurements</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">batch_size</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">&quot;Number of measurements in a finite FIFO acquisition must be a multiple of the &quot;</span>
                <span class="s2">&quot; batch size configured using AbstractSpectrumDigitiser.configure_acquisition().&quot;</span>
            <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">execute_continuous_fifo_acquisition</span><span class="p">()</span>
        <span class="n">measurements</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_measurements</span> <span class="o">//</span> <span class="bp">self</span><span class="o">.</span><span class="n">batch_size</span><span class="p">):</span>
            <span class="n">measurements</span> <span class="o">+=</span> <span class="p">[</span>
                <span class="n">Measurement</span><span class="p">(</span><span class="n">waveforms</span><span class="o">=</span><span class="n">frame</span><span class="p">,</span> <span class="n">timestamp</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">get_timestamp</span><span class="p">())</span> <span class="k">for</span> <span class="n">frame</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_waveforms</span><span class="p">()</span>
            <span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">measurements</span>

    <span class="k">def</span> <span class="nf">execute_continuous_fifo_acquisition</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Start a continuous FIFO mode acquisition.</span>

<span class="sd">        This method automatically starts acquiring and streaming samples in FIFO mode, including handling the</span>
<span class="sd">        creation of a `TransferBuffer` and streaming the acquired waveforms to the PC. It will return almost</span>
<span class="sd">        instantaneously. The acquired waveforms must then be read out of the transfer buffer in a loop using the</span>
<span class="sd">        `get_waveforms()` method. Waveforms must be read at least as fast as they are being acquired.</span>
<span class="sd">        The FIFO acquisition and streaming will continue until `stop_acquisition()` is called. The device</span>
<span class="sd">        must be configured in SPC_REC_FIFO_MULTI or SPC_REC_FIFO_AVERAGE acquisition mode.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_acquisition_mode</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">(</span><span class="n">AcquisitionMode</span><span class="o">.</span><span class="n">SPC_REC_FIFO_MULTI</span><span class="p">,</span> <span class="n">AcquisitionMode</span><span class="o">.</span><span class="n">SPC_REC_FIFO_AVERAGE</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">SpectrumWrongAcquisitionMode</span><span class="p">(</span>
                <span class="s2">&quot;Set the acquisition mode to SPC_REC_FIFO_MULTI or SPC_REC_FIFO_AVERAGE using &quot;</span>
                <span class="s2">&quot;configure_acquisition() or set_acquisition_mode() before executing &quot;</span>
                <span class="s2">&quot;a fifo mode acquisition.&quot;</span>
            <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">define_transfer_buffer</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">start_transfer</span><span class="p">()</span>
</pre></div>

        </details>

            <div class="docstring"><p>Abstract superclass which implements methods common to all Spectrum digitiser devices. Instances of this class
cannot be constructed directly. Instead, construct instances of the concrete classes (<code><a href="#SpectrumDigitiserCard">SpectrumDigitiserCard</a></code>,
<code><a href="#SpectrumDigitiserStarHub">SpectrumDigitiserStarHub</a></code> or their mock equivalents) which inherit the methods defined here. Note that
the mock devices override several of the methods defined here.</p>
</div>


                            <div id="AbstractSpectrumDigitiser.configure_acquisition" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#AbstractSpectrumDigitiser.configure_acquisition">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">configure_acquisition</span><span class="signature">(self, settings: <a href="spectrumdevice/settings.html#AcquisitionSettings">spectrumdevice.settings.AcquisitionSettings</a>) -&gt; None</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">configure_acquisition</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">settings</span><span class="p">:</span> <span class="n">AcquisitionSettings</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Apply all the settings contained in an `AcquisitionSettings` dataclass to the device.</span>

<span class="sd">        Args:</span>
<span class="sd">            settings (`AcquisitionSettings`): An `AcquisitionSettings` dataclass containing the setting values to apply.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">settings</span><span class="o">.</span><span class="n">batch_size</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="ow">and</span> <span class="n">settings</span><span class="o">.</span><span class="n">acquisition_mode</span> <span class="o">==</span> <span class="n">AcquisitionMode</span><span class="o">.</span><span class="n">SPC_REC_STD_SINGLE</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;In standard single mode, only 1 acquisition can be downloaded at a time.&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_acquisition_mode</span> <span class="o">=</span> <span class="n">settings</span><span class="o">.</span><span class="n">acquisition_mode</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_batch_size</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">batch_size</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_acquisition_mode</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">acquisition_mode</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_sample_rate_in_hz</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">sample_rate_in_hz</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_acquisition_length_in_samples</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">acquisition_length_in_samples</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_post_trigger_length_in_samples</span><span class="p">(</span>
            <span class="n">settings</span><span class="o">.</span><span class="n">acquisition_length_in_samples</span> <span class="o">-</span> <span class="n">settings</span><span class="o">.</span><span class="n">pre_trigger_length_in_samples</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_timeout_in_ms</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">timeout_in_ms</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_enabled_analog_channels</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">enabled_channels</span><span class="p">)</span>

        <span class="c1"># Apply channel dependent settings</span>
        <span class="k">for</span> <span class="n">channel_num</span><span class="p">,</span> <span class="n">v_range</span><span class="p">,</span> <span class="n">v_offset</span><span class="p">,</span> <span class="n">impedance</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">enabled_analog_channel_nums</span><span class="p">,</span>
            <span class="n">settings</span><span class="o">.</span><span class="n">vertical_ranges_in_mv</span><span class="p">,</span>
            <span class="n">settings</span><span class="o">.</span><span class="n">vertical_offsets_in_percent</span><span class="p">,</span>
            <span class="n">settings</span><span class="o">.</span><span class="n">input_impedances</span><span class="p">,</span>
        <span class="p">):</span>
            <span class="n">channel</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">analog_channels</span><span class="p">[</span><span class="n">channel_num</span><span class="p">]</span>
            <span class="n">channel</span><span class="o">.</span><span class="n">set_vertical_range_in_mv</span><span class="p">(</span><span class="n">v_range</span><span class="p">)</span>
            <span class="n">channel</span><span class="o">.</span><span class="n">set_vertical_offset_in_percent</span><span class="p">(</span><span class="n">v_offset</span><span class="p">)</span>
            <span class="n">channel</span><span class="o">.</span><span class="n">set_input_impedance</span><span class="p">(</span><span class="n">impedance</span><span class="p">)</span>

        <span class="c1"># Only some hardware has software programmable input coupling, so coupling can be None</span>
        <span class="k">if</span> <span class="n">settings</span><span class="o">.</span><span class="n">input_couplings</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">channel</span><span class="p">,</span> <span class="n">coupling</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">analog_channels</span><span class="p">,</span> <span class="n">settings</span><span class="o">.</span><span class="n">input_couplings</span><span class="p">):</span>
                <span class="n">channel</span><span class="o">.</span><span class="n">set_input_coupling</span><span class="p">(</span><span class="n">coupling</span><span class="p">)</span>

        <span class="c1"># Only some hardware has software programmable input paths, so it can be None</span>
        <span class="k">if</span> <span class="n">settings</span><span class="o">.</span><span class="n">input_paths</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">channel</span><span class="p">,</span> <span class="n">path</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">analog_channels</span><span class="p">,</span> <span class="n">settings</span><span class="o">.</span><span class="n">input_paths</span><span class="p">):</span>
                <span class="n">channel</span><span class="o">.</span><span class="n">set_input_path</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>

        <span class="c1"># Write the configuration to the card</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_to_spectrum_device_register</span><span class="p">(</span><span class="n">SPC_M2CMD</span><span class="p">,</span> <span class="n">M2CMD_CARD_WRITESETUP</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">settings</span><span class="o">.</span><span class="n">timestamping_enabled</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">enable_timestamping</span><span class="p">()</span>
</pre></div>

        </details>

            <div class="docstring"><p>Apply all the settings contained in an <code>AcquisitionSettings</code> dataclass to the device.</p>

<h6 id="args">Args</h6>

<ul>
<li><strong>settings (<code>AcquisitionSettings</code>):</strong>  An <code>AcquisitionSettings</code> dataclass containing the setting values to apply.</li>
</ul>
</div>


                            </div>
                            <div id="AbstractSpectrumDigitiser.execute_standard_single_acquisition" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#AbstractSpectrumDigitiser.execute_standard_single_acquisition">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">execute_standard_single_acquisition</span><span class="signature">(self) -&gt; <a href="#measurement.Measurement">spectrumdevice.measurement.Measurement</a></span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">execute_standard_single_acquisition</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Measurement</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Carry out a single measurement in standard single mode and return the acquired waveforms.</span>

<span class="sd">        This method automatically carries out a standard single mode acquisition, including handling the creation</span>
<span class="sd">        of a `TransferBuffer` and the retrieval of the acquired waveforms. After being called, it will wait until a</span>
<span class="sd">        trigger event is received before carrying out the acquisition and then transferring and returning the acquired</span>
<span class="sd">        waveforms. The device must be configured in SPC_REC_STD_SINGLE acquisition mode.</span>

<span class="sd">        Returns:</span>
<span class="sd">            measurement (Measurement): A Measurement object. The `.waveforms` attribute of `measurement` will be a list</span>
<span class="sd">                of 1D NumPy arrays, each array containing the waveform data received on one channel, in channel order.</span>
<span class="sd">                The Waveform object also has a timestamp attribute, which (if timestamping was enabled in acquisition</span>
<span class="sd">                settings) contains the time at which the acquisition was triggered.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_acquisition_mode</span> <span class="o">!=</span> <span class="n">AcquisitionMode</span><span class="o">.</span><span class="n">SPC_REC_STD_SINGLE</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SpectrumWrongAcquisitionMode</span><span class="p">(</span>
                <span class="s2">&quot;Set the acquisition mode to SPC_REC_STD_SINGLE using &quot;</span>
                <span class="s2">&quot;configure_acquisition() or set_acquisition_mode() before executing &quot;</span>
                <span class="s2">&quot;a standard single mode acquisition.&quot;</span>
            <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_acquisition_to_complete</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">define_transfer_buffer</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">start_transfer</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_transfer_chunk_to_complete</span><span class="p">()</span>
        <span class="n">waveforms</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_waveforms</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>  <span class="c1"># Only strictly required for Mock devices. Should not affect hardware.</span>
        <span class="k">return</span> <span class="n">Measurement</span><span class="p">(</span><span class="n">waveforms</span><span class="o">=</span><span class="n">waveforms</span><span class="p">,</span> <span class="n">timestamp</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">get_timestamp</span><span class="p">())</span>
</pre></div>

        </details>

            <div class="docstring"><p>Carry out a single measurement in standard single mode and return the acquired waveforms.</p>

<p>This method automatically carries out a standard single mode acquisition, including handling the creation
of a <code>TransferBuffer</code> and the retrieval of the acquired waveforms. After being called, it will wait until a
trigger event is received before carrying out the acquisition and then transferring and returning the acquired
waveforms. The device must be configured in SPC_REC_STD_SINGLE acquisition mode.</p>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>measurement (Measurement): A Measurement object. The <code>.waveforms</code> attribute of <code>measurement</code> will be a list
      of 1D NumPy arrays, each array containing the waveform data received on one channel, in channel order.
      The Waveform object also has a timestamp attribute, which (if timestamping was enabled in acquisition
      settings) contains the time at which the acquisition was triggered.</p>
</blockquote>
</div>


                            </div>
                            <div id="AbstractSpectrumDigitiser.execute_finite_fifo_acquisition" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#AbstractSpectrumDigitiser.execute_finite_fifo_acquisition">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">execute_finite_fifo_acquisition</span><span class="signature">(
    self,
    num_measurements: int
) -&gt; List[<a href="#measurement.Measurement">spectrumdevice.measurement.Measurement</a>]</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">execute_finite_fifo_acquisition</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">num_measurements</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Measurement</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Carry out a finite number of FIFO mode measurements and then stop the acquisitions.</span>

<span class="sd">        This method automatically carries out a defined number of measurement in Multi FIFO mode, including handling the</span>
<span class="sd">        creation of a `TransferBuffer`, streaming the acquired waveforms to the PC, terminating the acquisition and</span>
<span class="sd">        returning the acquired waveforms. After being called, it will wait for the requested number of triggers to be</span>
<span class="sd">        received, generating the correct number of measurements. It retrieves each measurement&#39;s waveforms from the</span>
<span class="sd">        `TransferBuffer` as they arrive. Once the requested number of measurements have been received, the acquisition</span>
<span class="sd">        is terminated and the waveforms are returned. The device must be configured in SPC_REC_FIFO_MULTI or</span>
<span class="sd">        SPC_REC_FIFO_AVERAGE acquisition mode.</span>

<span class="sd">        Args:</span>
<span class="sd">            num_measurements (int): The number of measurements to carry out.</span>
<span class="sd">        Returns:</span>
<span class="sd">            measurements (List[Measurement]): A list of Measurement objects with length `num_measurements`. Each</span>
<span class="sd">                Measurement object has a `waveforms` attribute containing a list of 1D NumPy arrays. Each array is a</span>
<span class="sd">                waveform acquired from one channel. The arrays are in channel order. The Waveform objects also have a</span>
<span class="sd">                timestamp attribute, which (if timestamping was enabled in acquisition settings) contains the time at</span>
<span class="sd">                which the acquisition was triggered.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">num_measurements</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">batch_size</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">&quot;Number of measurements in a finite FIFO acquisition must be a multiple of the &quot;</span>
                <span class="s2">&quot; batch size configured using AbstractSpectrumDigitiser.configure_acquisition().&quot;</span>
            <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">execute_continuous_fifo_acquisition</span><span class="p">()</span>
        <span class="n">measurements</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_measurements</span> <span class="o">//</span> <span class="bp">self</span><span class="o">.</span><span class="n">batch_size</span><span class="p">):</span>
            <span class="n">measurements</span> <span class="o">+=</span> <span class="p">[</span>
                <span class="n">Measurement</span><span class="p">(</span><span class="n">waveforms</span><span class="o">=</span><span class="n">frame</span><span class="p">,</span> <span class="n">timestamp</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">get_timestamp</span><span class="p">())</span> <span class="k">for</span> <span class="n">frame</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_waveforms</span><span class="p">()</span>
            <span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">measurements</span>
</pre></div>

        </details>

            <div class="docstring"><p>Carry out a finite number of FIFO mode measurements and then stop the acquisitions.</p>

<p>This method automatically carries out a defined number of measurement in Multi FIFO mode, including handling the
creation of a <code>TransferBuffer</code>, streaming the acquired waveforms to the PC, terminating the acquisition and
returning the acquired waveforms. After being called, it will wait for the requested number of triggers to be
received, generating the correct number of measurements. It retrieves each measurement's waveforms from the
<code>TransferBuffer</code> as they arrive. Once the requested number of measurements have been received, the acquisition
is terminated and the waveforms are returned. The device must be configured in SPC_REC_FIFO_MULTI or
SPC_REC_FIFO_AVERAGE acquisition mode.</p>

<h6 id="args">Args</h6>

<ul>
<li><strong>num_measurements (int):</strong>  The number of measurements to carry out.</li>
</ul>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>measurements (List[Measurement]): A list of Measurement objects with length <code>num_measurements</code>. Each
      Measurement object has a <code>waveforms</code> attribute containing a list of 1D NumPy arrays. Each array is a
      waveform acquired from one channel. The arrays are in channel order. The Waveform objects also have a
      timestamp attribute, which (if timestamping was enabled in acquisition settings) contains the time at
      which the acquisition was triggered.</p>
</blockquote>
</div>


                            </div>
                            <div id="AbstractSpectrumDigitiser.execute_continuous_fifo_acquisition" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#AbstractSpectrumDigitiser.execute_continuous_fifo_acquisition">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">execute_continuous_fifo_acquisition</span><span class="signature">(self) -&gt; None</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">execute_continuous_fifo_acquisition</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Start a continuous FIFO mode acquisition.</span>

<span class="sd">        This method automatically starts acquiring and streaming samples in FIFO mode, including handling the</span>
<span class="sd">        creation of a `TransferBuffer` and streaming the acquired waveforms to the PC. It will return almost</span>
<span class="sd">        instantaneously. The acquired waveforms must then be read out of the transfer buffer in a loop using the</span>
<span class="sd">        `get_waveforms()` method. Waveforms must be read at least as fast as they are being acquired.</span>
<span class="sd">        The FIFO acquisition and streaming will continue until `stop_acquisition()` is called. The device</span>
<span class="sd">        must be configured in SPC_REC_FIFO_MULTI or SPC_REC_FIFO_AVERAGE acquisition mode.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_acquisition_mode</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">(</span><span class="n">AcquisitionMode</span><span class="o">.</span><span class="n">SPC_REC_FIFO_MULTI</span><span class="p">,</span> <span class="n">AcquisitionMode</span><span class="o">.</span><span class="n">SPC_REC_FIFO_AVERAGE</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">SpectrumWrongAcquisitionMode</span><span class="p">(</span>
                <span class="s2">&quot;Set the acquisition mode to SPC_REC_FIFO_MULTI or SPC_REC_FIFO_AVERAGE using &quot;</span>
                <span class="s2">&quot;configure_acquisition() or set_acquisition_mode() before executing &quot;</span>
                <span class="s2">&quot;a fifo mode acquisition.&quot;</span>
            <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">define_transfer_buffer</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">start_transfer</span><span class="p">()</span>
</pre></div>

        </details>

            <div class="docstring"><p>Start a continuous FIFO mode acquisition.</p>

<p>This method automatically starts acquiring and streaming samples in FIFO mode, including handling the
creation of a <code>TransferBuffer</code> and streaming the acquired waveforms to the PC. It will return almost
instantaneously. The acquired waveforms must then be read out of the transfer buffer in a loop using the
<code><a href="#AbstractSpectrumDigitiser.get_waveforms">get_waveforms()</a></code> method. Waveforms must be read at least as fast as they are being acquired.
The FIFO acquisition and streaming will continue until <code>stop_acquisition()</code> is called. The device
must be configured in SPC_REC_FIFO_MULTI or SPC_REC_FIFO_AVERAGE acquisition mode.</p>
</div>


                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt><a href="#AbstractSpectrumDevice">AbstractSpectrumDevice</a></dt>
                                <dd id="AbstractSpectrumDigitiser.reset" class="function"><a href="#AbstractSpectrumDevice.reset">reset</a></dd>
                <dd id="AbstractSpectrumDigitiser.start" class="function"><a href="#AbstractSpectrumDevice.start">start</a></dd>
                <dd id="AbstractSpectrumDigitiser.stop" class="function"><a href="#AbstractSpectrumDevice.stop">stop</a></dd>
                <dd id="AbstractSpectrumDigitiser.configure_trigger" class="function"><a href="#AbstractSpectrumDevice.configure_trigger">configure_trigger</a></dd>
                <dd id="AbstractSpectrumDigitiser.configure_channel_pairing" class="function"><a href="#AbstractSpectrumDevice.configure_channel_pairing">configure_channel_pairing</a></dd>
                <dd id="AbstractSpectrumDigitiser.write_to_spectrum_device_register" class="function"><a href="#AbstractSpectrumDevice.write_to_spectrum_device_register">write_to_spectrum_device_register</a></dd>
                <dd id="AbstractSpectrumDigitiser.read_spectrum_device_register" class="function"><a href="#AbstractSpectrumDevice.read_spectrum_device_register">read_spectrum_device_register</a></dd>

            </div>
            <div><dt>spectrumdevice.devices.digitiser.digitiser_interface.SpectrumDigitiserInterface</dt>
                                <dd id="AbstractSpectrumDigitiser.wait_for_acquisition_to_complete" class="function">wait_for_acquisition_to_complete</dd>
                <dd id="AbstractSpectrumDigitiser.get_waveforms" class="function">get_waveforms</dd>
                <dd id="AbstractSpectrumDigitiser.get_timestamp" class="function">get_timestamp</dd>
                <dd id="AbstractSpectrumDigitiser.enable_timestamping" class="function">enable_timestamping</dd>
                <dd id="AbstractSpectrumDigitiser.acquisition_length_in_samples" class="variable">acquisition_length_in_samples</dd>
                <dd id="AbstractSpectrumDigitiser.set_acquisition_length_in_samples" class="function">set_acquisition_length_in_samples</dd>
                <dd id="AbstractSpectrumDigitiser.post_trigger_length_in_samples" class="variable">post_trigger_length_in_samples</dd>
                <dd id="AbstractSpectrumDigitiser.set_post_trigger_length_in_samples" class="function">set_post_trigger_length_in_samples</dd>
                <dd id="AbstractSpectrumDigitiser.acquisition_mode" class="variable">acquisition_mode</dd>
                <dd id="AbstractSpectrumDigitiser.set_acquisition_mode" class="function">set_acquisition_mode</dd>
                <dd id="AbstractSpectrumDigitiser.batch_size" class="variable">batch_size</dd>
                <dd id="AbstractSpectrumDigitiser.set_batch_size" class="function">set_batch_size</dd>

            </div>
            <div><dt>spectrumdevice.devices.abstract_device.device_interface.SpectrumDeviceInterface</dt>
                                <dd id="AbstractSpectrumDigitiser.connected" class="variable">connected</dd>
                <dd id="AbstractSpectrumDigitiser.reconnect" class="function">reconnect</dd>
                <dd id="AbstractSpectrumDigitiser.status" class="variable">status</dd>
                <dd id="AbstractSpectrumDigitiser.start_transfer" class="function">start_transfer</dd>
                <dd id="AbstractSpectrumDigitiser.stop_transfer" class="function">stop_transfer</dd>
                <dd id="AbstractSpectrumDigitiser.wait_for_transfer_chunk_to_complete" class="function">wait_for_transfer_chunk_to_complete</dd>
                <dd id="AbstractSpectrumDigitiser.disconnect" class="function">disconnect</dd>
                <dd id="AbstractSpectrumDigitiser.transfer_buffers" class="variable">transfer_buffers</dd>
                <dd id="AbstractSpectrumDigitiser.define_transfer_buffer" class="function">define_transfer_buffer</dd>
                <dd id="AbstractSpectrumDigitiser.analog_channels" class="variable">analog_channels</dd>
                <dd id="AbstractSpectrumDigitiser.io_lines" class="variable">io_lines</dd>
                <dd id="AbstractSpectrumDigitiser.enabled_analog_channel_nums" class="variable">enabled_analog_channel_nums</dd>
                <dd id="AbstractSpectrumDigitiser.set_enabled_analog_channels" class="function">set_enabled_analog_channels</dd>
                <dd id="AbstractSpectrumDigitiser.trigger_sources" class="variable">trigger_sources</dd>
                <dd id="AbstractSpectrumDigitiser.set_trigger_sources" class="function">set_trigger_sources</dd>
                <dd id="AbstractSpectrumDigitiser.external_trigger_mode" class="variable">external_trigger_mode</dd>
                <dd id="AbstractSpectrumDigitiser.set_external_trigger_mode" class="function">set_external_trigger_mode</dd>
                <dd id="AbstractSpectrumDigitiser.external_trigger_level_in_mv" class="variable">external_trigger_level_in_mv</dd>
                <dd id="AbstractSpectrumDigitiser.set_external_trigger_level_in_mv" class="function">set_external_trigger_level_in_mv</dd>
                <dd id="AbstractSpectrumDigitiser.external_trigger_pulse_width_in_samples" class="variable">external_trigger_pulse_width_in_samples</dd>
                <dd id="AbstractSpectrumDigitiser.set_external_trigger_pulse_width_in_samples" class="function">set_external_trigger_pulse_width_in_samples</dd>
                <dd id="AbstractSpectrumDigitiser.apply_channel_enabling" class="function">apply_channel_enabling</dd>
                <dd id="AbstractSpectrumDigitiser.clock_mode" class="variable">clock_mode</dd>
                <dd id="AbstractSpectrumDigitiser.set_clock_mode" class="function">set_clock_mode</dd>
                <dd id="AbstractSpectrumDigitiser.sample_rate_in_hz" class="variable">sample_rate_in_hz</dd>
                <dd id="AbstractSpectrumDigitiser.set_sample_rate_in_hz" class="function">set_sample_rate_in_hz</dd>
                <dd id="AbstractSpectrumDigitiser.available_io_modes" class="variable">available_io_modes</dd>
                <dd id="AbstractSpectrumDigitiser.feature_list" class="variable">feature_list</dd>
                <dd id="AbstractSpectrumDigitiser.timeout_in_ms" class="variable">timeout_in_ms</dd>
                <dd id="AbstractSpectrumDigitiser.set_timeout_in_ms" class="function">set_timeout_in_ms</dd>
                <dd id="AbstractSpectrumDigitiser.force_trigger" class="function">force_trigger</dd>
                <dd id="AbstractSpectrumDigitiser.bytes_per_sample" class="variable">bytes_per_sample</dd>
                <dd id="AbstractSpectrumDigitiser.type" class="variable">type</dd>
                <dd id="AbstractSpectrumDigitiser.model_number" class="variable">model_number</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="AbstractSpectrumStarHub">
                                <div class="attr class">
        <a class="headerlink" href="#AbstractSpectrumStarHub">#&nbsp;&nbsp</a>

        
        <span class="def">class</span>
        <span class="name">AbstractSpectrumStarHub</span><wbr>(<span class="base"><a href="#AbstractSpectrumDevice">spectrumdevice.AbstractSpectrumDevice</a></span>, <span class="base">typing.Generic[~CardType, ~AnalogChannelInterfaceType, ~IOLineInterfaceType]</span>, <span class="base">abc.ABC</span>):
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span><span class="k">class</span> <span class="nc">AbstractSpectrumStarHub</span><span class="p">(</span>
    <span class="n">AbstractSpectrumDevice</span><span class="p">,</span> <span class="n">Generic</span><span class="p">[</span><span class="n">CardType</span><span class="p">,</span> <span class="n">AnalogChannelInterfaceType</span><span class="p">,</span> <span class="n">IOLineInterfaceType</span><span class="p">],</span> <span class="n">ABC</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Composite abstract class of `AbstractSpectrumCard` implementing methods common to all StarHubs. StarHubs are</span>
<span class="sd">    composites of more than one Spectrum card. Acquisition and generation from the child cards of a StarHub</span>
<span class="sd">    is synchronised, aggregating the channels of all child cards.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">device_number</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">child_cards</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">CardType</span><span class="p">],</span> <span class="n">master_card_index</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Args:</span>
<span class="sd">            device_number (int): The index of the StarHub to connect to. If only one StarHub is present, set to 0.</span>
<span class="sd">            child_cards (Sequence[`SpectrumDeviceInterface`]): A list of objects representing the child cards located</span>
<span class="sd">                within the StarHub, correctly constructed with their IP addresses and/or device numbers.</span>
<span class="sd">            master_card_index (int): The position within child_cards where the master card (the card which controls the</span>
<span class="sd">                clock) is located.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_child_cards</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">CardType</span><span class="p">]</span> <span class="o">=</span> <span class="n">child_cards</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_master_card</span> <span class="o">=</span> <span class="n">child_cards</span><span class="p">[</span><span class="n">master_card_index</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_triggering_card</span> <span class="o">=</span> <span class="n">child_cards</span><span class="p">[</span><span class="n">master_card_index</span><span class="p">]</span>
        <span class="n">child_card_logical_indices</span> <span class="o">=</span> <span class="p">(</span><span class="mi">2</span><span class="o">**</span><span class="n">n</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_child_cards</span><span class="p">)))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_visa_string</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;sync</span><span class="si">{</span><span class="n">device_number</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_visa_string</span><span class="p">)</span>
        <span class="n">all_cards_binary_mask</span> <span class="o">=</span> <span class="n">reduce</span><span class="p">(</span><span class="n">or_</span><span class="p">,</span> <span class="n">child_card_logical_indices</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_to_spectrum_device_register</span><span class="p">(</span><span class="n">SPC_SYNC_ENABLEMASK</span><span class="p">,</span> <span class="n">all_cards_binary_mask</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">disconnect</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Disconnects from each child card and terminates connection to the hub itself.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_connected</span><span class="p">:</span>
            <span class="n">destroy_handle</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_handle</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">card</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_child_cards</span><span class="p">:</span>
            <span class="n">card</span><span class="o">.</span><span class="n">disconnect</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_connected</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="k">def</span> <span class="nf">reconnect</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Reconnects to the hub after a `disconnect()`, and reconnects to each child card.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_visa_string</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">card</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_child_cards</span><span class="p">:</span>
            <span class="n">card</span><span class="o">.</span><span class="n">reconnect</span><span class="p">()</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">status</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DEVICE_STATUS_TYPE</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The statuses of each child card, in a list. See `SpectrumDigitiserCard.status` for more information.</span>
<span class="sd">        Returns:</span>
<span class="sd">            statuses (List[List[`CardStatus`]]): A list of lists of `CardStatus` (each card has a list of statuses).</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">DEVICE_STATUS_TYPE</span><span class="p">([</span><span class="n">card</span><span class="o">.</span><span class="n">status</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">card</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_child_cards</span><span class="p">])</span>

    <span class="k">def</span> <span class="nf">start_transfer</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Start the transfer of data between the on-device buffer of each child card and its `TransferBuffer`. See</span>
<span class="sd">        `AbstractSpectrumCard.start_transfer()` for more information.&quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">card</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_child_cards</span><span class="p">:</span>
            <span class="n">card</span><span class="o">.</span><span class="n">start_transfer</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">stop_transfer</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Stop the transfer of data between each card and its `TransferBuffer`. See</span>
<span class="sd">        `AbstractSpectrumCard.stop_transfer()` for more information.&quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">card</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_child_cards</span><span class="p">:</span>
            <span class="n">card</span><span class="o">.</span><span class="n">stop_transfer</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">wait_for_transfer_chunk_to_complete</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Wait for all cards to stop transferring data to/from their `TransferBuffers`. See</span>
<span class="sd">        `AbstractSpectrumCard.wait_for_transfer_to_complete()` for more information.&quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">card</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_child_cards</span><span class="p">:</span>
            <span class="n">card</span><span class="o">.</span><span class="n">wait_for_transfer_chunk_to_complete</span><span class="p">()</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">connected</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;True if the StarHub is connected, False if not.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_connected</span>

    <span class="k">def</span> <span class="nf">set_triggering_card</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">card_index</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Change the index of the child card responsible for receiving a trigger. During construction, this is set</span>
<span class="sd">        equal to the index of the master card but in some situations it may be necessary to change it.</span>

<span class="sd">        Args:</span>
<span class="sd">            card_index (int): The index of the StarHub&#39;s triggering card within the list of child cards provided on</span>
<span class="sd">                __init__().</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_triggering_card</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_child_cards</span><span class="p">[</span><span class="n">card_index</span><span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">clock_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ClockMode</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The clock mode currently configured on the master card.</span>

<span class="sd">        Returns:</span>
<span class="sd">            mode (`ClockMode`): The currently configured clock mode.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_master_card</span><span class="o">.</span><span class="n">clock_mode</span>

    <span class="k">def</span> <span class="nf">set_clock_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mode</span><span class="p">:</span> <span class="n">ClockMode</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Change the clock mode configured on the master card.</span>

<span class="sd">        Args:</span>
<span class="sd">            mode (`ClockMode`): The desired clock mode.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_master_card</span><span class="o">.</span><span class="n">set_clock_mode</span><span class="p">(</span><span class="n">mode</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">sample_rate_in_hz</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The sample rate configured on the master card.</span>

<span class="sd">        Returns:</span>
<span class="sd">            rate (int): The current sample rate of the master card in Hz.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_master_card</span><span class="o">.</span><span class="n">sample_rate_in_hz</span>

    <span class="k">def</span> <span class="nf">set_sample_rate_in_hz</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rate</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Change the sample rate of the child cards (including the master card).</span>
<span class="sd">        Args:</span>
<span class="sd">            rate (int): The desired sample rate of the child cards in Hz.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">card</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_child_cards</span><span class="p">:</span>
            <span class="n">card</span><span class="o">.</span><span class="n">set_sample_rate_in_hz</span><span class="p">(</span><span class="n">rate</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">trigger_sources</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">TriggerSource</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The trigger sources configured on the triggering card, which by default is the master card. See</span>
<span class="sd">        `AbstractSpectrumCard.trigger_sources()` for more information.</span>

<span class="sd">        Returns:</span>
<span class="sd">            sources (List[`TriggerSource`]): A list of the currently enabled trigger sources.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_triggering_card</span><span class="o">.</span><span class="n">trigger_sources</span>

    <span class="k">def</span> <span class="nf">set_trigger_sources</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sources</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">TriggerSource</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Change the trigger sources configured on the triggering card, which by default is the master card. See</span>
<span class="sd">        `AbstractSpectrumCard.trigger_sources()` for more information.</span>

<span class="sd">        Args:</span>
<span class="sd">            sources (List[`TriggerSource`]): The trigger sources to enable, in a list.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_triggering_card</span><span class="o">.</span><span class="n">set_trigger_sources</span><span class="p">(</span><span class="n">sources</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">card</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_child_cards</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">card</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_triggering_card</span><span class="p">:</span>
                <span class="n">card</span><span class="o">.</span><span class="n">set_trigger_sources</span><span class="p">([</span><span class="n">TriggerSource</span><span class="o">.</span><span class="n">SPC_TMASK_NONE</span><span class="p">])</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">external_trigger_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ExternalTriggerMode</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The trigger mode configured on the triggering card, which by default is the master card. See</span>
<span class="sd">        `AbstractSpectrumCard.external_trigger_mode()` for more information.</span>

<span class="sd">        Returns:</span>
<span class="sd">            mode (`ExternalTriggerMode`): The currently set external trigger mode.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_triggering_card</span><span class="o">.</span><span class="n">external_trigger_mode</span>

    <span class="k">def</span> <span class="nf">set_external_trigger_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mode</span><span class="p">:</span> <span class="n">ExternalTriggerMode</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Change the trigger mode configured on the triggering card, which by default is the master card. See</span>
<span class="sd">        `AbstractSpectrumCard.set_external_trigger_mode()` for more information.</span>

<span class="sd">        Args:</span>
<span class="sd">            mode (`ExternalTriggerMode`): The desired external trigger mode.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_triggering_card</span><span class="o">.</span><span class="n">set_external_trigger_mode</span><span class="p">(</span><span class="n">mode</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">external_trigger_level_in_mv</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The external trigger level configured on the triggering card, which by default is the master card. See</span>
<span class="sd">        `AbstractSpectrumCard.external_trigger_level_mv()` for more information.</span>

<span class="sd">        Returns:</span>
<span class="sd">            level (int): The external trigger level in mV.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_triggering_card</span><span class="o">.</span><span class="n">external_trigger_level_in_mv</span>

    <span class="k">def</span> <span class="nf">set_external_trigger_level_in_mv</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">level</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Change the external trigger level configured on the triggering card, which by default is the master card.</span>
<span class="sd">        See `AbstractSpectrumCard.set_external_trigger_level_mv()` for more information.</span>

<span class="sd">        Args:</span>
<span class="sd">            level (int): The desired external trigger level in mV.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_triggering_card</span><span class="o">.</span><span class="n">set_external_trigger_level_in_mv</span><span class="p">(</span><span class="n">level</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">external_trigger_pulse_width_in_samples</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The trigger pulse width (samples) configured on the triggering card, which by default is the master card.</span>
<span class="sd">        See `AbstractSpectrumCard.external_trigger_pulse_width_in_samples()` for more information.</span>

<span class="sd">        Returns:</span>
<span class="sd">            width (int): The current trigger pulse width in samples.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_triggering_card</span><span class="o">.</span><span class="n">external_trigger_pulse_width_in_samples</span>

    <span class="k">def</span> <span class="nf">set_external_trigger_pulse_width_in_samples</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">width</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Change the trigger pulse width (samples) configured on the triggering card, which by default is the master</span>
<span class="sd">        card. See `AbstractSpectrumCard.set_external_trigger_pulse_width_in_samples()` for more information.</span>

<span class="sd">        Args:</span>
<span class="sd">            width (int): The desired trigger pulse width in samples.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_triggering_card</span><span class="o">.</span><span class="n">set_external_trigger_pulse_width_in_samples</span><span class="p">(</span><span class="n">width</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">apply_channel_enabling</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Apply the enabled channels chosen using `set_enable_channels()`. This happens automatically and does not</span>
<span class="sd">        usually need to be called.&quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_child_cards</span><span class="p">:</span>
            <span class="n">d</span><span class="o">.</span><span class="n">apply_channel_enabling</span><span class="p">()</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">enabled_analog_channel_nums</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The currently enabled channel indices, indexed over the whole hub (from 0 to N-1, where N is the total</span>
<span class="sd">        number of channels available to the hub).</span>

<span class="sd">        Returns:</span>
<span class="sd">            channel_nums (List[int]): The currently enabled channel indices.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">enabled_channels</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">n_channels_in_previous_card</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">card</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_child_cards</span><span class="p">:</span>
            <span class="n">enabled_channels</span> <span class="o">+=</span> <span class="p">[</span>
                <span class="n">channel_num</span> <span class="o">+</span> <span class="n">n_channels_in_previous_card</span> <span class="k">for</span> <span class="n">channel_num</span> <span class="ow">in</span> <span class="n">card</span><span class="o">.</span><span class="n">enabled_analog_channel_nums</span>
            <span class="p">]</span>
            <span class="n">n_channels_in_previous_card</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">card</span><span class="o">.</span><span class="n">analog_channels</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">enabled_channels</span>

    <span class="k">def</span> <span class="nf">set_enabled_analog_channels</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channels_nums</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Change the currently enabled channel indices, indexed over the whole hub (from 0 to N-1, where N is the total</span>
<span class="sd">        number of channels available to the hub).</span>

<span class="sd">        Returns:</span>
<span class="sd">            channel_nums (List[int]): The indices to enable.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">channels_nums</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
        <span class="n">channels_to_enable_all_cards</span> <span class="o">=</span> <span class="n">channels_nums</span>

        <span class="k">for</span> <span class="n">child_card</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_child_cards</span><span class="p">:</span>
            <span class="n">n_channels_in_card</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">child_card</span><span class="o">.</span><span class="n">analog_channels</span><span class="p">)</span>
            <span class="n">channels_to_enable_this_card</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">arange</span><span class="p">(</span><span class="n">n_channels_in_card</span><span class="p">))</span> <span class="o">&amp;</span> <span class="nb">set</span><span class="p">(</span><span class="n">channels_to_enable_all_cards</span><span class="p">))</span>
            <span class="n">num_channels_to_enable_this_card</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">channels_to_enable_this_card</span><span class="p">)</span>
            <span class="n">child_card</span><span class="o">.</span><span class="n">set_enabled_analog_channels</span><span class="p">(</span><span class="n">channels_to_enable_this_card</span><span class="p">)</span>
            <span class="n">channels_to_enable_all_cards</span> <span class="o">=</span> <span class="p">[</span>
                <span class="n">num</span> <span class="o">-</span> <span class="n">n_channels_in_card</span> <span class="k">for</span> <span class="n">num</span> <span class="ow">in</span> <span class="n">channels_nums</span><span class="p">[</span><span class="n">num_channels_to_enable_this_card</span><span class="p">:]</span>
            <span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">transfer_buffers</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">TransferBuffer</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The `TransferBuffer`s of all the child cards of the hub. See `AbstractSpectrumCard.transfer_buffers` for more</span>
<span class="sd">        information.</span>

<span class="sd">        Returns:</span>
<span class="sd">            buffers (List[`TransferBuffer`]): A list of the transfer buffers for each child card.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">card</span><span class="o">.</span><span class="n">transfer_buffers</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">card</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_child_cards</span><span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">analog_channels</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">AnalogChannelInterfaceType</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;A tuple containing of all the channels of the child cards of the hub. See `AbstractSpectrumCard.channels` for</span>
<span class="sd">        more information.</span>

<span class="sd">        Returns:</span>
<span class="sd">            channels (Sequence[`SpectrumChannelInterface`]): A tuple of `SpectrumDigitiserChannel` objects.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">channels</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">AnalogChannelInterfaceType</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">device</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_child_cards</span><span class="p">:</span>
            <span class="n">channels</span> <span class="o">+=</span> <span class="n">device</span><span class="o">.</span><span class="n">analog_channels</span>
        <span class="k">return</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">channels</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">io_lines</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">IOLineInterfaceType</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;A tuple containing of all the Multipurpose IO Lines of the child cards of the hub.</span>

<span class="sd">        Returns:</span>
<span class="sd">            channels (Sequence[`SpectrumIOLineInterface`]): A tuple of `SpectrumIOLineInterface` objects.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">io_lines</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">IOLineInterfaceType</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">device</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_child_cards</span><span class="p">:</span>
            <span class="n">io_lines</span> <span class="o">+=</span> <span class="n">device</span><span class="o">.</span><span class="n">io_lines</span>
        <span class="k">return</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">io_lines</span><span class="p">)</span>  <span class="c1"># todo: this is probably wrong. I don&#39;t think both cards in a netbox have IO lines</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">timeout_in_ms</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The time for which the card will wait for a trigger to be received after a device has started</span>
<span class="sd">        before returning an error. This should be the same for all child cards. If it&#39;s not, an exception is raised.</span>

<span class="sd">        Returns:</span>
<span class="sd">            timeout_ms (int): The currently set timeout in ms.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">timeouts</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_child_cards</span><span class="p">:</span>
            <span class="n">timeouts</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">timeout_in_ms</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">check_settings_constant_across_devices</span><span class="p">(</span><span class="n">timeouts</span><span class="p">,</span> <span class="vm">__name__</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">set_timeout_in_ms</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout_ms</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Change the timeout value for all child cards.</span>

<span class="sd">        Args:</span>
<span class="sd">            timeout_ms (int): The desired timeout setting in seconds.&quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_child_cards</span><span class="p">:</span>
            <span class="n">d</span><span class="o">.</span><span class="n">set_timeout_in_ms</span><span class="p">(</span><span class="n">timeout_ms</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">feature_list</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">CardFeature</span><span class="p">],</span> <span class="n">List</span><span class="p">[</span><span class="n">AdvancedCardFeature</span><span class="p">]]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a list of the features of the child cards. See `CardFeature`, `AdvancedCardFeature` and the Spectrum</span>
<span class="sd">        documentation for more information.</span>

<span class="sd">        Returns:</span>
<span class="sd">            features (List[Tuple[List[`CardFeature`], List[`AdvancedCardFeature`]]]): A list of tuples, one per child</span>
<span class="sd">                card. Each tuple contains a list of features and a list of advanced features for that card.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">card</span><span class="o">.</span><span class="n">feature_list</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">card</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_child_cards</span><span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">available_io_modes</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AvailableIOModes</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;For each multipurpose IO line on the master card, read the available modes. See `IOLineMode` and the Spectrum</span>
<span class="sd">        Documentation for all possible available modes and their meanings.</span>

<span class="sd">        Returns:</span>
<span class="sd">            modes (AvailableIOModes): An `AvailableIOModes` dataclass containing the modes available for each IO line.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_master_card</span><span class="o">.</span><span class="n">available_io_modes</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">bytes_per_sample</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="n">bytes_per_sample_each_card</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_child_cards</span><span class="p">:</span>
            <span class="n">bytes_per_sample_each_card</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">bytes_per_sample</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">check_settings_constant_across_devices</span><span class="p">(</span><span class="n">bytes_per_sample_each_card</span><span class="p">,</span> <span class="vm">__name__</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;StarHub </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_visa_string</span><span class="si">}</span><span class="s2">&quot;</span>
</pre></div>

        </details>

            <div class="docstring"><p>Composite abstract class of <code><a href="#AbstractSpectrumCard">AbstractSpectrumCard</a></code> implementing methods common to all StarHubs. StarHubs are
composites of more than one Spectrum card. Acquisition and generation from the child cards of a StarHub
is synchronised, aggregating the channels of all child cards.</p>
</div>


                            <div id="AbstractSpectrumStarHub.__init__" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#AbstractSpectrumStarHub.__init__">#&nbsp;&nbsp</a>

        
            <span class="name">AbstractSpectrumStarHub</span><span class="signature">(
    device_number: int,
    child_cards: Sequence[~CardType],
    master_card_index: int,
    **kwargs: Any
)</span>
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">device_number</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">child_cards</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">CardType</span><span class="p">],</span> <span class="n">master_card_index</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Args:</span>
<span class="sd">            device_number (int): The index of the StarHub to connect to. If only one StarHub is present, set to 0.</span>
<span class="sd">            child_cards (Sequence[`SpectrumDeviceInterface`]): A list of objects representing the child cards located</span>
<span class="sd">                within the StarHub, correctly constructed with their IP addresses and/or device numbers.</span>
<span class="sd">            master_card_index (int): The position within child_cards where the master card (the card which controls the</span>
<span class="sd">                clock) is located.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_child_cards</span><span class="p">:</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">CardType</span><span class="p">]</span> <span class="o">=</span> <span class="n">child_cards</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_master_card</span> <span class="o">=</span> <span class="n">child_cards</span><span class="p">[</span><span class="n">master_card_index</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_triggering_card</span> <span class="o">=</span> <span class="n">child_cards</span><span class="p">[</span><span class="n">master_card_index</span><span class="p">]</span>
        <span class="n">child_card_logical_indices</span> <span class="o">=</span> <span class="p">(</span><span class="mi">2</span><span class="o">**</span><span class="n">n</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_child_cards</span><span class="p">)))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_visa_string</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;sync</span><span class="si">{</span><span class="n">device_number</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_visa_string</span><span class="p">)</span>
        <span class="n">all_cards_binary_mask</span> <span class="o">=</span> <span class="n">reduce</span><span class="p">(</span><span class="n">or_</span><span class="p">,</span> <span class="n">child_card_logical_indices</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_to_spectrum_device_register</span><span class="p">(</span><span class="n">SPC_SYNC_ENABLEMASK</span><span class="p">,</span> <span class="n">all_cards_binary_mask</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><h6 id="args">Args</h6>

<ul>
<li><strong>device_number (int):</strong>  The index of the StarHub to connect to. If only one StarHub is present, set to 0.</li>
<li><strong>child_cards (Sequence[<code>SpectrumDeviceInterface</code>]):</strong>  A list of objects representing the child cards located
within the StarHub, correctly constructed with their IP addresses and/or device numbers.</li>
<li><strong>master_card_index (int):</strong>  The position within child_cards where the master card (the card which controls the
clock) is located.</li>
</ul>
</div>


                            </div>
                            <div id="AbstractSpectrumStarHub.disconnect" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#AbstractSpectrumStarHub.disconnect">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">disconnect</span><span class="signature">(self) -&gt; None</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">disconnect</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Disconnects from each child card and terminates connection to the hub itself.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_connected</span><span class="p">:</span>
            <span class="n">destroy_handle</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_handle</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">card</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_child_cards</span><span class="p">:</span>
            <span class="n">card</span><span class="o">.</span><span class="n">disconnect</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_connected</span> <span class="o">=</span> <span class="kc">False</span>
</pre></div>

        </details>

            <div class="docstring"><p>Disconnects from each child card and terminates connection to the hub itself.</p>
</div>


                            </div>
                            <div id="AbstractSpectrumStarHub.reconnect" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#AbstractSpectrumStarHub.reconnect">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">reconnect</span><span class="signature">(self) -&gt; None</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">reconnect</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Reconnects to the hub after a `disconnect()`, and reconnects to each child card.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_visa_string</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">card</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_child_cards</span><span class="p">:</span>
            <span class="n">card</span><span class="o">.</span><span class="n">reconnect</span><span class="p">()</span>
</pre></div>

        </details>

            <div class="docstring"><p>Reconnects to the hub after a <code><a href="#AbstractSpectrumStarHub.disconnect">disconnect()</a></code>, and reconnects to each child card.</p>
</div>


                            </div>
                            <div id="AbstractSpectrumStarHub.status" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#AbstractSpectrumStarHub.status">#&nbsp;&nbsp</a>

        <span class="name">status</span><span class="annotation">: List[List[<a href="spectrumdevice/settings.html#status.StatusCode">spectrumdevice.settings.status.StatusCode</a>]]</span>
    </div>

            <div class="docstring"><p>The statuses of each child card, in a list. See <code><a href="#SpectrumDigitiserCard.status">SpectrumDigitiserCard.status</a></code> for more information.</p>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>statuses (List[List[<code>CardStatus</code>]]): A list of lists of <code>CardStatus</code> (each card has a list of statuses).</p>
</blockquote>
</div>


                            </div>
                            <div id="AbstractSpectrumStarHub.start_transfer" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#AbstractSpectrumStarHub.start_transfer">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">start_transfer</span><span class="signature">(self) -&gt; None</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">start_transfer</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Start the transfer of data between the on-device buffer of each child card and its `TransferBuffer`. See</span>
<span class="sd">        `AbstractSpectrumCard.start_transfer()` for more information.&quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">card</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_child_cards</span><span class="p">:</span>
            <span class="n">card</span><span class="o">.</span><span class="n">start_transfer</span><span class="p">()</span>
</pre></div>

        </details>

            <div class="docstring"><p>Start the transfer of data between the on-device buffer of each child card and its <code>TransferBuffer</code>. See
<code><a href="#AbstractSpectrumCard.start_transfer">AbstractSpectrumCard.start_transfer()</a></code> for more information.</p>
</div>


                            </div>
                            <div id="AbstractSpectrumStarHub.stop_transfer" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#AbstractSpectrumStarHub.stop_transfer">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">stop_transfer</span><span class="signature">(self) -&gt; None</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">stop_transfer</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Stop the transfer of data between each card and its `TransferBuffer`. See</span>
<span class="sd">        `AbstractSpectrumCard.stop_transfer()` for more information.&quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">card</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_child_cards</span><span class="p">:</span>
            <span class="n">card</span><span class="o">.</span><span class="n">stop_transfer</span><span class="p">()</span>
</pre></div>

        </details>

            <div class="docstring"><p>Stop the transfer of data between each card and its <code>TransferBuffer</code>. See
<code><a href="#AbstractSpectrumCard.stop_transfer">AbstractSpectrumCard.stop_transfer()</a></code> for more information.</p>
</div>


                            </div>
                            <div id="AbstractSpectrumStarHub.wait_for_transfer_chunk_to_complete" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#AbstractSpectrumStarHub.wait_for_transfer_chunk_to_complete">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">wait_for_transfer_chunk_to_complete</span><span class="signature">(self) -&gt; None</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">wait_for_transfer_chunk_to_complete</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Wait for all cards to stop transferring data to/from their `TransferBuffers`. See</span>
<span class="sd">        `AbstractSpectrumCard.wait_for_transfer_to_complete()` for more information.&quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">card</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_child_cards</span><span class="p">:</span>
            <span class="n">card</span><span class="o">.</span><span class="n">wait_for_transfer_chunk_to_complete</span><span class="p">()</span>
</pre></div>

        </details>

            <div class="docstring"><p>Wait for all cards to stop transferring data to/from their <code>TransferBuffers</code>. See
<code>AbstractSpectrumCard.wait_for_transfer_to_complete()</code> for more information.</p>
</div>


                            </div>
                            <div id="AbstractSpectrumStarHub.connected" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#AbstractSpectrumStarHub.connected">#&nbsp;&nbsp</a>

        <span class="name">connected</span><span class="annotation">: bool</span>
    </div>

            <div class="docstring"><p>True if the StarHub is connected, False if not.</p>
</div>


                            </div>
                            <div id="AbstractSpectrumStarHub.set_triggering_card" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#AbstractSpectrumStarHub.set_triggering_card">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_triggering_card</span><span class="signature">(self, card_index: int) -&gt; None</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">set_triggering_card</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">card_index</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Change the index of the child card responsible for receiving a trigger. During construction, this is set</span>
<span class="sd">        equal to the index of the master card but in some situations it may be necessary to change it.</span>

<span class="sd">        Args:</span>
<span class="sd">            card_index (int): The index of the StarHub&#39;s triggering card within the list of child cards provided on</span>
<span class="sd">                __init__().</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_triggering_card</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_child_cards</span><span class="p">[</span><span class="n">card_index</span><span class="p">]</span>
</pre></div>

        </details>

            <div class="docstring"><p>Change the index of the child card responsible for receiving a trigger. During construction, this is set
equal to the index of the master card but in some situations it may be necessary to change it.</p>

<h6 id="args">Args</h6>

<ul>
<li><strong>card_index (int):</strong>  The index of the StarHub's triggering card within the list of child cards provided on
__init__().</li>
</ul>
</div>


                            </div>
                            <div id="AbstractSpectrumStarHub.clock_mode" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#AbstractSpectrumStarHub.clock_mode">#&nbsp;&nbsp</a>

        <span class="name">clock_mode</span><span class="annotation">: <a href="spectrumdevice/settings.html#device_modes.ClockMode">spectrumdevice.settings.device_modes.ClockMode</a></span>
    </div>

            <div class="docstring"><p>The clock mode currently configured on the master card.</p>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>mode (<code>ClockMode</code>): The currently configured clock mode.</p>
</blockquote>
</div>


                            </div>
                            <div id="AbstractSpectrumStarHub.set_clock_mode" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#AbstractSpectrumStarHub.set_clock_mode">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_clock_mode</span><span class="signature">(self, mode: <a href="spectrumdevice/settings.html#device_modes.ClockMode">spectrumdevice.settings.device_modes.ClockMode</a>) -&gt; None</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">set_clock_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mode</span><span class="p">:</span> <span class="n">ClockMode</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Change the clock mode configured on the master card.</span>

<span class="sd">        Args:</span>
<span class="sd">            mode (`ClockMode`): The desired clock mode.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_master_card</span><span class="o">.</span><span class="n">set_clock_mode</span><span class="p">(</span><span class="n">mode</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Change the clock mode configured on the master card.</p>

<h6 id="args">Args</h6>

<ul>
<li><strong>mode (<code>ClockMode</code>):</strong>  The desired clock mode.</li>
</ul>
</div>


                            </div>
                            <div id="AbstractSpectrumStarHub.sample_rate_in_hz" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#AbstractSpectrumStarHub.sample_rate_in_hz">#&nbsp;&nbsp</a>

        <span class="name">sample_rate_in_hz</span><span class="annotation">: int</span>
    </div>

            <div class="docstring"><p>The sample rate configured on the master card.</p>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>rate (int): The current sample rate of the master card in Hz.</p>
</blockquote>
</div>


                            </div>
                            <div id="AbstractSpectrumStarHub.set_sample_rate_in_hz" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#AbstractSpectrumStarHub.set_sample_rate_in_hz">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_sample_rate_in_hz</span><span class="signature">(self, rate: int) -&gt; None</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">set_sample_rate_in_hz</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rate</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Change the sample rate of the child cards (including the master card).</span>
<span class="sd">        Args:</span>
<span class="sd">            rate (int): The desired sample rate of the child cards in Hz.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">card</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_child_cards</span><span class="p">:</span>
            <span class="n">card</span><span class="o">.</span><span class="n">set_sample_rate_in_hz</span><span class="p">(</span><span class="n">rate</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Change the sample rate of the child cards (including the master card).</p>

<h6 id="args">Args</h6>

<ul>
<li><strong>rate (int):</strong>  The desired sample rate of the child cards in Hz.</li>
</ul>
</div>


                            </div>
                            <div id="AbstractSpectrumStarHub.trigger_sources" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#AbstractSpectrumStarHub.trigger_sources">#&nbsp;&nbsp</a>

        <span class="name">trigger_sources</span><span class="annotation">: List[<a href="spectrumdevice/settings.html#triggering.TriggerSource">spectrumdevice.settings.triggering.TriggerSource</a>]</span>
    </div>

            <div class="docstring"><p>The trigger sources configured on the triggering card, which by default is the master card. See
<code><a href="#AbstractSpectrumCard.trigger_sources">AbstractSpectrumCard.trigger_sources()</a></code> for more information.</p>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>sources (List[<code>TriggerSource</code>]): A list of the currently enabled trigger sources.</p>
</blockquote>
</div>


                            </div>
                            <div id="AbstractSpectrumStarHub.set_trigger_sources" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#AbstractSpectrumStarHub.set_trigger_sources">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_trigger_sources</span><span class="signature">(
    self,
    sources: List[<a href="spectrumdevice/settings.html#triggering.TriggerSource">spectrumdevice.settings.triggering.TriggerSource</a>]
) -&gt; None</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">set_trigger_sources</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sources</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">TriggerSource</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Change the trigger sources configured on the triggering card, which by default is the master card. See</span>
<span class="sd">        `AbstractSpectrumCard.trigger_sources()` for more information.</span>

<span class="sd">        Args:</span>
<span class="sd">            sources (List[`TriggerSource`]): The trigger sources to enable, in a list.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_triggering_card</span><span class="o">.</span><span class="n">set_trigger_sources</span><span class="p">(</span><span class="n">sources</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">card</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_child_cards</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">card</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_triggering_card</span><span class="p">:</span>
                <span class="n">card</span><span class="o">.</span><span class="n">set_trigger_sources</span><span class="p">([</span><span class="n">TriggerSource</span><span class="o">.</span><span class="n">SPC_TMASK_NONE</span><span class="p">])</span>
</pre></div>

        </details>

            <div class="docstring"><p>Change the trigger sources configured on the triggering card, which by default is the master card. See
<code><a href="#AbstractSpectrumCard.trigger_sources">AbstractSpectrumCard.trigger_sources()</a></code> for more information.</p>

<h6 id="args">Args</h6>

<ul>
<li><strong>sources (List[<code>TriggerSource</code>]):</strong>  The trigger sources to enable, in a list.</li>
</ul>
</div>


                            </div>
                            <div id="AbstractSpectrumStarHub.external_trigger_mode" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#AbstractSpectrumStarHub.external_trigger_mode">#&nbsp;&nbsp</a>

        <span class="name">external_trigger_mode</span><span class="annotation">: <a href="spectrumdevice/settings.html#triggering.ExternalTriggerMode">spectrumdevice.settings.triggering.ExternalTriggerMode</a></span>
    </div>

            <div class="docstring"><p>The trigger mode configured on the triggering card, which by default is the master card. See
<code><a href="#AbstractSpectrumCard.external_trigger_mode">AbstractSpectrumCard.external_trigger_mode()</a></code> for more information.</p>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>mode (<code>ExternalTriggerMode</code>): The currently set external trigger mode.</p>
</blockquote>
</div>


                            </div>
                            <div id="AbstractSpectrumStarHub.set_external_trigger_mode" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#AbstractSpectrumStarHub.set_external_trigger_mode">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_external_trigger_mode</span><span class="signature">(
    self,
    mode: <a href="spectrumdevice/settings.html#triggering.ExternalTriggerMode">spectrumdevice.settings.triggering.ExternalTriggerMode</a>
) -&gt; None</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">set_external_trigger_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mode</span><span class="p">:</span> <span class="n">ExternalTriggerMode</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Change the trigger mode configured on the triggering card, which by default is the master card. See</span>
<span class="sd">        `AbstractSpectrumCard.set_external_trigger_mode()` for more information.</span>

<span class="sd">        Args:</span>
<span class="sd">            mode (`ExternalTriggerMode`): The desired external trigger mode.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_triggering_card</span><span class="o">.</span><span class="n">set_external_trigger_mode</span><span class="p">(</span><span class="n">mode</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Change the trigger mode configured on the triggering card, which by default is the master card. See
<code><a href="#AbstractSpectrumCard.set_external_trigger_mode">AbstractSpectrumCard.set_external_trigger_mode()</a></code> for more information.</p>

<h6 id="args">Args</h6>

<ul>
<li><strong>mode (<code>ExternalTriggerMode</code>):</strong>  The desired external trigger mode.</li>
</ul>
</div>


                            </div>
                            <div id="AbstractSpectrumStarHub.external_trigger_level_in_mv" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#AbstractSpectrumStarHub.external_trigger_level_in_mv">#&nbsp;&nbsp</a>

        <span class="name">external_trigger_level_in_mv</span><span class="annotation">: int</span>
    </div>

            <div class="docstring"><p>The external trigger level configured on the triggering card, which by default is the master card. See
<code>AbstractSpectrumCard.external_trigger_level_mv()</code> for more information.</p>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>level (int): The external trigger level in mV.</p>
</blockquote>
</div>


                            </div>
                            <div id="AbstractSpectrumStarHub.set_external_trigger_level_in_mv" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#AbstractSpectrumStarHub.set_external_trigger_level_in_mv">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_external_trigger_level_in_mv</span><span class="signature">(self, level: int) -&gt; None</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">set_external_trigger_level_in_mv</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">level</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Change the external trigger level configured on the triggering card, which by default is the master card.</span>
<span class="sd">        See `AbstractSpectrumCard.set_external_trigger_level_mv()` for more information.</span>

<span class="sd">        Args:</span>
<span class="sd">            level (int): The desired external trigger level in mV.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_triggering_card</span><span class="o">.</span><span class="n">set_external_trigger_level_in_mv</span><span class="p">(</span><span class="n">level</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Change the external trigger level configured on the triggering card, which by default is the master card.
See <code>AbstractSpectrumCard.set_external_trigger_level_mv()</code> for more information.</p>

<h6 id="args">Args</h6>

<ul>
<li><strong>level (int):</strong>  The desired external trigger level in mV.</li>
</ul>
</div>


                            </div>
                            <div id="AbstractSpectrumStarHub.external_trigger_pulse_width_in_samples" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#AbstractSpectrumStarHub.external_trigger_pulse_width_in_samples">#&nbsp;&nbsp</a>

        <span class="name">external_trigger_pulse_width_in_samples</span><span class="annotation">: int</span>
    </div>

            <div class="docstring"><p>The trigger pulse width (samples) configured on the triggering card, which by default is the master card.
See <code><a href="#AbstractSpectrumCard.external_trigger_pulse_width_in_samples">AbstractSpectrumCard.external_trigger_pulse_width_in_samples()</a></code> for more information.</p>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>width (int): The current trigger pulse width in samples.</p>
</blockquote>
</div>


                            </div>
                            <div id="AbstractSpectrumStarHub.set_external_trigger_pulse_width_in_samples" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#AbstractSpectrumStarHub.set_external_trigger_pulse_width_in_samples">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_external_trigger_pulse_width_in_samples</span><span class="signature">(self, width: int) -&gt; None</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">set_external_trigger_pulse_width_in_samples</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">width</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Change the trigger pulse width (samples) configured on the triggering card, which by default is the master</span>
<span class="sd">        card. See `AbstractSpectrumCard.set_external_trigger_pulse_width_in_samples()` for more information.</span>

<span class="sd">        Args:</span>
<span class="sd">            width (int): The desired trigger pulse width in samples.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_triggering_card</span><span class="o">.</span><span class="n">set_external_trigger_pulse_width_in_samples</span><span class="p">(</span><span class="n">width</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Change the trigger pulse width (samples) configured on the triggering card, which by default is the master
card. See <code><a href="#AbstractSpectrumCard.set_external_trigger_pulse_width_in_samples">AbstractSpectrumCard.set_external_trigger_pulse_width_in_samples()</a></code> for more information.</p>

<h6 id="args">Args</h6>

<ul>
<li><strong>width (int):</strong>  The desired trigger pulse width in samples.</li>
</ul>
</div>


                            </div>
                            <div id="AbstractSpectrumStarHub.apply_channel_enabling" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#AbstractSpectrumStarHub.apply_channel_enabling">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">apply_channel_enabling</span><span class="signature">(self) -&gt; None</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">apply_channel_enabling</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Apply the enabled channels chosen using `set_enable_channels()`. This happens automatically and does not</span>
<span class="sd">        usually need to be called.&quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_child_cards</span><span class="p">:</span>
            <span class="n">d</span><span class="o">.</span><span class="n">apply_channel_enabling</span><span class="p">()</span>
</pre></div>

        </details>

            <div class="docstring"><p>Apply the enabled channels chosen using <code>set_enable_channels()</code>. This happens automatically and does not
usually need to be called.</p>
</div>


                            </div>
                            <div id="AbstractSpectrumStarHub.enabled_analog_channel_nums" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#AbstractSpectrumStarHub.enabled_analog_channel_nums">#&nbsp;&nbsp</a>

        <span class="name">enabled_analog_channel_nums</span><span class="annotation">: List[int]</span>
    </div>

            <div class="docstring"><p>The currently enabled channel indices, indexed over the whole hub (from 0 to N-1, where N is the total
number of channels available to the hub).</p>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>channel_nums (List[int]): The currently enabled channel indices.</p>
</blockquote>
</div>


                            </div>
                            <div id="AbstractSpectrumStarHub.set_enabled_analog_channels" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#AbstractSpectrumStarHub.set_enabled_analog_channels">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_enabled_analog_channels</span><span class="signature">(self, channels_nums: List[int]) -&gt; None</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">set_enabled_analog_channels</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channels_nums</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Change the currently enabled channel indices, indexed over the whole hub (from 0 to N-1, where N is the total</span>
<span class="sd">        number of channels available to the hub).</span>

<span class="sd">        Returns:</span>
<span class="sd">            channel_nums (List[int]): The indices to enable.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">channels_nums</span><span class="o">.</span><span class="n">sort</span><span class="p">()</span>
        <span class="n">channels_to_enable_all_cards</span> <span class="o">=</span> <span class="n">channels_nums</span>

        <span class="k">for</span> <span class="n">child_card</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_child_cards</span><span class="p">:</span>
            <span class="n">n_channels_in_card</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">child_card</span><span class="o">.</span><span class="n">analog_channels</span><span class="p">)</span>
            <span class="n">channels_to_enable_this_card</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">arange</span><span class="p">(</span><span class="n">n_channels_in_card</span><span class="p">))</span> <span class="o">&amp;</span> <span class="nb">set</span><span class="p">(</span><span class="n">channels_to_enable_all_cards</span><span class="p">))</span>
            <span class="n">num_channels_to_enable_this_card</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">channels_to_enable_this_card</span><span class="p">)</span>
            <span class="n">child_card</span><span class="o">.</span><span class="n">set_enabled_analog_channels</span><span class="p">(</span><span class="n">channels_to_enable_this_card</span><span class="p">)</span>
            <span class="n">channels_to_enable_all_cards</span> <span class="o">=</span> <span class="p">[</span>
                <span class="n">num</span> <span class="o">-</span> <span class="n">n_channels_in_card</span> <span class="k">for</span> <span class="n">num</span> <span class="ow">in</span> <span class="n">channels_nums</span><span class="p">[</span><span class="n">num_channels_to_enable_this_card</span><span class="p">:]</span>
            <span class="p">]</span>
</pre></div>

        </details>

            <div class="docstring"><p>Change the currently enabled channel indices, indexed over the whole hub (from 0 to N-1, where N is the total
number of channels available to the hub).</p>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>channel_nums (List[int]): The indices to enable.</p>
</blockquote>
</div>


                            </div>
                            <div id="AbstractSpectrumStarHub.transfer_buffers" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#AbstractSpectrumStarHub.transfer_buffers">#&nbsp;&nbsp</a>

        <span class="name">transfer_buffers</span><span class="annotation">: List[<a href="spectrumdevice/settings.html#transfer_buffer.TransferBuffer">spectrumdevice.settings.transfer_buffer.TransferBuffer</a>]</span>
    </div>

            <div class="docstring"><p>The <code>TransferBuffer</code>s of all the child cards of the hub. See <code><a href="#AbstractSpectrumCard.transfer_buffers">AbstractSpectrumCard.transfer_buffers</a></code> for more
information.</p>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>buffers (List[<code>TransferBuffer</code>]): A list of the transfer buffers for each child card.</p>
</blockquote>
</div>


                            </div>
                            <div id="AbstractSpectrumStarHub.analog_channels" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#AbstractSpectrumStarHub.analog_channels">#&nbsp;&nbsp</a>

        <span class="name">analog_channels</span><span class="annotation">: Sequence[~AnalogChannelInterfaceType]</span>
    </div>

            <div class="docstring"><p>A tuple containing of all the channels of the child cards of the hub. See <code>AbstractSpectrumCard.channels</code> for
more information.</p>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>channels (Sequence[<code>SpectrumChannelInterface</code>]): A tuple of <code>SpectrumDigitiserChannel</code> objects.</p>
</blockquote>
</div>


                            </div>
                            <div id="AbstractSpectrumStarHub.io_lines" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#AbstractSpectrumStarHub.io_lines">#&nbsp;&nbsp</a>

        <span class="name">io_lines</span><span class="annotation">: Sequence[~IOLineInterfaceType]</span>
    </div>

            <div class="docstring"><p>A tuple containing of all the Multipurpose IO Lines of the child cards of the hub.</p>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>channels (Sequence[<code>SpectrumIOLineInterface</code>]): A tuple of <code>SpectrumIOLineInterface</code> objects.</p>
</blockquote>
</div>


                            </div>
                            <div id="AbstractSpectrumStarHub.timeout_in_ms" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#AbstractSpectrumStarHub.timeout_in_ms">#&nbsp;&nbsp</a>

        <span class="name">timeout_in_ms</span><span class="annotation">: int</span>
    </div>

            <div class="docstring"><p>The time for which the card will wait for a trigger to be received after a device has started
before returning an error. This should be the same for all child cards. If it's not, an exception is raised.</p>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>timeout_ms (int): The currently set timeout in ms.</p>
</blockquote>
</div>


                            </div>
                            <div id="AbstractSpectrumStarHub.set_timeout_in_ms" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#AbstractSpectrumStarHub.set_timeout_in_ms">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_timeout_in_ms</span><span class="signature">(self, timeout_ms: int) -&gt; None</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">set_timeout_in_ms</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout_ms</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Change the timeout value for all child cards.</span>

<span class="sd">        Args:</span>
<span class="sd">            timeout_ms (int): The desired timeout setting in seconds.&quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_child_cards</span><span class="p">:</span>
            <span class="n">d</span><span class="o">.</span><span class="n">set_timeout_in_ms</span><span class="p">(</span><span class="n">timeout_ms</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Change the timeout value for all child cards.</p>

<h6 id="args">Args</h6>

<ul>
<li><strong>timeout_ms (int):</strong>  The desired timeout setting in seconds.</li>
</ul>
</div>


                            </div>
                            <div id="AbstractSpectrumStarHub.feature_list" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#AbstractSpectrumStarHub.feature_list">#&nbsp;&nbsp</a>

        <span class="name">feature_list</span><span class="annotation">: List[Tuple[List[<a href="spectrumdevice/settings.html#card_features.CardFeature">spectrumdevice.settings.card_features.CardFeature</a>], List[<a href="spectrumdevice/settings.html#card_features.AdvancedCardFeature">spectrumdevice.settings.card_features.AdvancedCardFeature</a>]]]</span>
    </div>

            <div class="docstring"><p>Get a list of the features of the child cards. See <code>CardFeature</code>, <code>AdvancedCardFeature</code> and the Spectrum
documentation for more information.</p>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>features (List[Tuple[List[<code>CardFeature</code>], List[<code>AdvancedCardFeature</code>]]]): A list of tuples, one per child
      card. Each tuple contains a list of features and a list of advanced features for that card.</p>
</blockquote>
</div>


                            </div>
                            <div id="AbstractSpectrumStarHub.available_io_modes" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#AbstractSpectrumStarHub.available_io_modes">#&nbsp;&nbsp</a>

        <span class="name">available_io_modes</span><span class="annotation">: <a href="spectrumdevice/settings.html#io_lines.AvailableIOModes">spectrumdevice.settings.io_lines.AvailableIOModes</a></span>
    </div>

            <div class="docstring"><p>For each multipurpose IO line on the master card, read the available modes. See <code>IOLineMode</code> and the Spectrum
Documentation for all possible available modes and their meanings.</p>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>modes (AvailableIOModes): An <code>AvailableIOModes</code> dataclass containing the modes available for each IO line.</p>
</blockquote>
</div>


                            </div>
                            <div id="AbstractSpectrumStarHub.bytes_per_sample" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#AbstractSpectrumStarHub.bytes_per_sample">#&nbsp;&nbsp</a>

        <span class="name">bytes_per_sample</span><span class="annotation">: int</span>
    </div>

    

                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt><a href="#AbstractSpectrumDevice">AbstractSpectrumDevice</a></dt>
                                <dd id="AbstractSpectrumStarHub.reset" class="function"><a href="#AbstractSpectrumDevice.reset">reset</a></dd>
                <dd id="AbstractSpectrumStarHub.start" class="function"><a href="#AbstractSpectrumDevice.start">start</a></dd>
                <dd id="AbstractSpectrumStarHub.stop" class="function"><a href="#AbstractSpectrumDevice.stop">stop</a></dd>
                <dd id="AbstractSpectrumStarHub.configure_trigger" class="function"><a href="#AbstractSpectrumDevice.configure_trigger">configure_trigger</a></dd>
                <dd id="AbstractSpectrumStarHub.configure_channel_pairing" class="function"><a href="#AbstractSpectrumDevice.configure_channel_pairing">configure_channel_pairing</a></dd>
                <dd id="AbstractSpectrumStarHub.write_to_spectrum_device_register" class="function"><a href="#AbstractSpectrumDevice.write_to_spectrum_device_register">write_to_spectrum_device_register</a></dd>
                <dd id="AbstractSpectrumStarHub.read_spectrum_device_register" class="function"><a href="#AbstractSpectrumDevice.read_spectrum_device_register">read_spectrum_device_register</a></dd>

            </div>
            <div><dt>spectrumdevice.devices.abstract_device.device_interface.SpectrumDeviceInterface</dt>
                                <dd id="AbstractSpectrumStarHub.define_transfer_buffer" class="function">define_transfer_buffer</dd>
                <dd id="AbstractSpectrumStarHub.force_trigger" class="function">force_trigger</dd>
                <dd id="AbstractSpectrumStarHub.type" class="variable">type</dd>
                <dd id="AbstractSpectrumStarHub.model_number" class="variable">model_number</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="AbstractSpectrumCard">
                                <div class="attr class">
        <a class="headerlink" href="#AbstractSpectrumCard">#&nbsp;&nbsp</a>

        
        <span class="def">class</span>
        <span class="name">AbstractSpectrumCard</span><wbr>(<span class="base"><a href="#AbstractSpectrumDevice">spectrumdevice.AbstractSpectrumDevice[~AnalogChannelInterfaceType, ~IOLineInterfaceType]</a></span>, <span class="base">abc.ABC</span>):
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span><span class="k">class</span> <span class="nc">AbstractSpectrumCard</span><span class="p">(</span><span class="n">AbstractSpectrumDevice</span><span class="p">[</span><span class="n">AnalogChannelInterfaceType</span><span class="p">,</span> <span class="n">IOLineInterfaceType</span><span class="p">],</span> <span class="n">ABC</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Abstract superclass implementing methods common to all individual &quot;card&quot; devices (as opposed to &quot;hub&quot; devices).&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">device_number</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">ip_address</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Args:</span>
<span class="sd">            device_number (int): Index of the card to control. If only one card is present, set to 0.</span>
<span class="sd">            ip_address (Optional[str]): If connecting to a networked card, provide the IP address here as a string.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>  <span class="c1"># required for proper MRO resolution</span>
        <span class="k">if</span> <span class="n">ip_address</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_visa_string</span> <span class="o">=</span> <span class="n">_create_visa_string_from_ip</span><span class="p">(</span><span class="n">ip_address</span><span class="p">,</span> <span class="n">device_number</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_visa_string</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;/dev/spcm</span><span class="si">{</span><span class="n">device_number</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_visa_string</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_model_number</span> <span class="o">=</span> <span class="n">ModelNumber</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">read_spectrum_device_register</span><span class="p">(</span><span class="n">SPC_PCITYP</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_trigger_sources</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">TriggerSource</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_analog_channels</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_init_analog_channels</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_io_lines</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_init_io_lines</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_enabled_analog_channels</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_transfer_buffer</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">TransferBuffer</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">apply_channel_enabling</span><span class="p">()</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">model_number</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ModelNumber</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_model_number</span>

    <span class="k">def</span> <span class="nf">reconnect</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Reconnect to the card after disconnect() has been called.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_visa_string</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">status</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DEVICE_STATUS_TYPE</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Read the current status of the card.</span>
<span class="sd">        Returns:</span>
<span class="sd">            Statuses (`List[List[StatusCode]]`): A length-1 list containing a list of `StatusCode` Enums describing the</span>
<span class="sd">            current acquisition status of the card. See `StatusCode` (and the Spectrum documentation) for the list off</span>
<span class="sd">            possible acquisition statuses.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">decode_status</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">read_spectrum_device_register</span><span class="p">(</span><span class="n">SPC_M2STATUS</span><span class="p">))]</span>

    <span class="k">def</span> <span class="nf">start_transfer</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Transfer between the on-device buffer and the `TransferBuffer`.</span>

<span class="sd">        Requires that a `TransferBuffer` has been defined (see `define_transfer_buffer()`).</span>

<span class="sd">        For digitisers in Standard Single mode (SPC_REC_STD_SINGLE), `start_transfer()` should be called after each</span>
<span class="sd">        acquisition has completed to transfer the acquired waveforms from the device to the `TransferBuffer`.</span>

<span class="sd">        For digitisers in FIFO mode (SPC_REC_FIFO_MULTI), `start_transfer()` should be called immediately after</span>
<span class="sd">        `start()` has been called, so that the waveform data can be continuously streamed into the transfer buffer as it</span>
<span class="sd">        is acquired.</span>

<span class="sd">        # todo: docstring for AWG transfers</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_to_spectrum_device_register</span><span class="p">(</span><span class="n">SPC_M2CMD</span><span class="p">,</span> <span class="n">M2CMD_DATA_STARTDMA</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">stop_transfer</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Stop the transfer of data between the on-device buffer and the `TransferBuffer`.</span>

<span class="sd">        Transfer is usually stopped automatically when an acquisition or stream of acquisitions completes, so this</span>
<span class="sd">        method is rarely required. It may invalidate transferred samples.</span>

<span class="sd">        For digitisers in Standard Single mode (SPC_REC_STD_SINGLE), transfer will automatically stop once all acquired</span>
<span class="sd">        samples have been transferred, so `stop_transfer()` should not be used. Instead, call</span>
<span class="sd">        `wait_for_transfer_to_complete()` after `start_transfer()`.</span>

<span class="sd">        For digitisers in FIFO mode (SPC_REC_FIFO_MULTI), samples are transferred continuously during acquisition,</span>
<span class="sd">        and transfer will automatically stop when `stop()` is called as there will be no more</span>
<span class="sd">        samples to transfer, so `stop_transfer()` should not be used.</span>

<span class="sd">        # todo: docstring for AWG</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_to_spectrum_device_register</span><span class="p">(</span><span class="n">SPC_M2CMD</span><span class="p">,</span> <span class="n">M2CMD_DATA_STOPDMA</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">wait_for_transfer_chunk_to_complete</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Blocks until the currently active transfer between the on-device buffer and the TransferBuffer is</span>
<span class="sd">        complete. This will be when there at least TransferBuffer.notify_size_in_pages pages available in the buffer.</span>

<span class="sd">        For digitisers in Standard Single mode (SPC_REC_STD_SINGLE), use after starting a transfer. Once the method</span>
<span class="sd">        returns, all acquired waveforms have been transferred from the on-device buffer to the `TransferBuffer` and can</span>
<span class="sd">        be read using the `get_waveforms()` method.</span>

<span class="sd">        For digitisers in FIFO mode (SPC_REC_FIFO_MULTI) this method is internally used by get_waveforms().</span>

<span class="sd">        # todo: update the above docstring to take into account cases where notify size &lt; data lemgth</span>
<span class="sd">        # todo: docstring for AWG</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_to_spectrum_device_register</span><span class="p">(</span><span class="n">SPC_M2CMD</span><span class="p">,</span> <span class="n">M2CMD_DATA_WAITDMA</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">transfer_buffers</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">TransferBuffer</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Return the `TransferBuffer` configured for transferring data between the card and the software.</span>

<span class="sd">        Returns:</span>
<span class="sd">            buffer (List[`TransferBuffer`]): A length-1 list containing the `TransferBuffer` object. Any data within</span>
<span class="sd">                the `TransferBuffer` can be accessed using its own interface, but the samples are stored as a 1D array,</span>
<span class="sd">                with the samples of each channel interleaved as per the Spectrum user manual. For digitisers, it is more</span>
<span class="sd">                convenient to read waveform data using the `get_waveforms()` method.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_transfer_buffer</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_transfer_buffer</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SpectrumNoTransferBufferDefined</span><span class="p">(</span><span class="s2">&quot;Cannot find TransferBuffer.&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">disconnect</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Terminate the connection to the card.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">connected</span><span class="p">:</span>
            <span class="n">destroy_handle</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_handle</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_connected</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">connected</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns True if a card is currently connected, False if not.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_connected</span>

    <span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="nb">object</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_handle</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">_handle</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Cannot compare </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="si">}</span><span class="s2"> with </span><span class="si">{</span><span class="n">other</span><span class="o">.</span><span class="vm">__class__</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">analog_channels</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">AnalogChannelInterfaceType</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;A tuple containing the channels that belong to the card.</span>

<span class="sd">        Properties of the individual channels can be set by calling the methods of the</span>
<span class="sd">            returned objects directly. See `SpectrumDigitiserChannel` and `SpectrumAWGChannel` for more information.</span>

<span class="sd">        Returns:</span>
<span class="sd">            channels (Sequence[`SpectrumChannelInterface`]): A tuple of objects conforming to the</span>
<span class="sd">            `SpectrumChannelInterface` interface.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_analog_channels</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">io_lines</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">IOLineInterfaceType</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;A tuple containing the Multipurpose IO Lines that belong to the card.</span>

<span class="sd">        Properties of the individual channels can be set by calling the methods of the</span>
<span class="sd">            returned objects directly.</span>

<span class="sd">        Returns:</span>
<span class="sd">            channels (Sequence[`SpectrumIOLineInterface`]): A tuple of objects conforming to the</span>
<span class="sd">            `SpectrumIOLineInterface` interface.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_io_lines</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">enabled_analog_channel_nums</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The indices of the currently enabled channels.</span>
<span class="sd">        Returns:</span>
<span class="sd">            enabled_channels (List[int]): The indices of the currently enabled channels.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_enabled_analog_channels</span>

    <span class="k">def</span> <span class="nf">set_enabled_analog_channels</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channels_nums</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Change which channels are enabled.</span>

<span class="sd">        Args:</span>
<span class="sd">            channels_nums (List[int]): The integer channel indices to enable.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">channels_nums</span><span class="p">)</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">8</span><span class="p">]:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_enabled_analog_channels</span> <span class="o">=</span> <span class="n">channels_nums</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">apply_channel_enabling</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SpectrumInvalidNumberOfEnabledChannels</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">channels_nums</span><span class="p">)</span><span class="si">}</span><span class="s2"> cannot be enabled at once.&quot;</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">trigger_sources</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">TriggerSource</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The currently enabled trigger sources</span>

<span class="sd">        Returns:</span>
<span class="sd">            sources (List[`TriggerSource`]): A list of TriggerSources.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">or_of_sources</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">read_spectrum_device_register</span><span class="p">(</span><span class="n">SPC_TRIG_ORMASK</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_trigger_sources</span> <span class="o">=</span> <span class="n">decode_trigger_sources</span><span class="p">(</span><span class="n">or_of_sources</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_trigger_sources</span>

    <span class="k">def</span> <span class="nf">set_trigger_sources</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sources</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">TriggerSource</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Change the enabled trigger sources.</span>

<span class="sd">        Args:</span>
<span class="sd">            sources (List[`TriggerSource`]): The TriggerSources to enable.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_trigger_sources</span> <span class="o">=</span> <span class="n">sources</span>
        <span class="n">or_of_sources</span> <span class="o">=</span> <span class="n">reduce</span><span class="p">(</span><span class="n">or_</span><span class="p">,</span> <span class="p">[</span><span class="n">s</span><span class="o">.</span><span class="n">value</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">sources</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_to_spectrum_device_register</span><span class="p">(</span><span class="n">SPC_TRIG_ORMASK</span><span class="p">,</span> <span class="n">or_of_sources</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_to_spectrum_device_register</span><span class="p">(</span><span class="n">SPC_TRIG_ANDMASK</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">external_trigger_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ExternalTriggerMode</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The currently enabled external trigger mode. An external trigger source must be enabled.</span>

<span class="sd">        Returns:</span>
<span class="sd">            sources (`ExternalTriggerMode`): The currently enabled `ExternalTriggerMode`.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_active_external_triggers</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SpectrumExternalTriggerNotEnabled</span><span class="p">(</span><span class="s2">&quot;Cannot get external trigger mode.&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">first_trig_source</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_active_external_triggers</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">ExternalTriggerMode</span><span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">read_spectrum_device_register</span><span class="p">(</span><span class="n">EXTERNAL_TRIGGER_MODE_COMMANDS</span><span class="p">[</span><span class="n">first_trig_source</span><span class="o">.</span><span class="n">value</span><span class="p">])</span>
                <span class="p">)</span>
            <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">SpectrumTriggerOperationNotImplemented</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Cannot get trigger mode of </span><span class="si">{</span><span class="n">first_trig_source</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">set_external_trigger_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mode</span><span class="p">:</span> <span class="n">ExternalTriggerMode</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Change the currently enabled trigger mode. An external trigger source must be enabled.</span>

<span class="sd">        Args:</span>
<span class="sd">            mode (`ExternalTriggerMode`): The `ExternalTriggerMode` to apply.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_active_external_triggers</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SpectrumExternalTriggerNotEnabled</span><span class="p">(</span><span class="s2">&quot;Cannot set external trigger mode.&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">trigger_source</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_active_external_triggers</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">write_to_spectrum_device_register</span><span class="p">(</span>
                        <span class="n">EXTERNAL_TRIGGER_MODE_COMMANDS</span><span class="p">[</span><span class="n">trigger_source</span><span class="o">.</span><span class="n">value</span><span class="p">],</span> <span class="n">mode</span><span class="o">.</span><span class="n">value</span>
                    <span class="p">)</span>
                <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="n">SpectrumTriggerOperationNotImplemented</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Cannot set trigger mode of </span><span class="si">{</span><span class="n">trigger_source</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">_active_external_triggers</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">TriggerSource</span><span class="p">]:</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="n">TriggerSource</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">val</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span>
                <span class="nb">set</span><span class="p">(</span><span class="n">EXTERNAL_TRIGGER_MODE_COMMANDS</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span> <span class="o">&amp;</span> <span class="nb">set</span><span class="p">([</span><span class="n">source</span><span class="o">.</span><span class="n">value</span> <span class="k">for</span> <span class="n">source</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_trigger_sources</span><span class="p">])</span>
            <span class="p">)</span>
        <span class="p">]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">external_trigger_level_in_mv</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The signal level (mV) needed to trigger an event using an external trigger source. An external</span>
<span class="sd">        trigger source must be enabled.</span>

<span class="sd">        Returns:</span>
<span class="sd">            level (int): The currently set trigger level in mV.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_active_external_triggers</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SpectrumExternalTriggerNotEnabled</span><span class="p">(</span><span class="s2">&quot;Cannot get external trigger level.&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">first_trig_source</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_active_external_triggers</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">read_spectrum_device_register</span><span class="p">(</span><span class="n">EXTERNAL_TRIGGER_LEVEL_COMMANDS</span><span class="p">[</span><span class="n">first_trig_source</span><span class="o">.</span><span class="n">value</span><span class="p">])</span>
            <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">SpectrumTriggerOperationNotImplemented</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Cannot get trigger level of </span><span class="si">{</span><span class="n">first_trig_source</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">set_external_trigger_level_in_mv</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">level</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Change the signal level (mV) needed to trigger an event using an external trigger source. An external</span>
<span class="sd">        trigger source must be enabled.</span>

<span class="sd">        Args:</span>
<span class="sd">            level (int): The trigger level to set in mV.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_active_external_triggers</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SpectrumExternalTriggerNotEnabled</span><span class="p">(</span><span class="s2">&quot;Cannot set external trigger level.&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">trigger_source</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_active_external_triggers</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">write_to_spectrum_device_register</span><span class="p">(</span><span class="n">EXTERNAL_TRIGGER_LEVEL_COMMANDS</span><span class="p">[</span><span class="n">trigger_source</span><span class="o">.</span><span class="n">value</span><span class="p">],</span> <span class="n">level</span><span class="p">)</span>
                <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="n">SpectrumTriggerOperationNotImplemented</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Cannot set trigger level of </span><span class="si">{</span><span class="n">trigger_source</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">external_trigger_pulse_width_in_samples</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The pulse width (in samples) needed to trigger an event using an external trigger source, if</span>
<span class="sd">        SPC_TM_PW_SMALLER or SPC_TM_PW_GREATER `ExternalTriggerMode` is selected. An external trigger source must be</span>
<span class="sd">        enabled.</span>

<span class="sd">        Returns:</span>
<span class="sd">            width (int): The current trigger pulse width in samples.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_active_external_triggers</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SpectrumExternalTriggerNotEnabled</span><span class="p">(</span><span class="s2">&quot;Cannot get external trigger pulse width.&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">first_trig_source</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_active_external_triggers</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">read_spectrum_device_register</span><span class="p">(</span>
                    <span class="n">EXTERNAL_TRIGGER_PULSE_WIDTH_COMMANDS</span><span class="p">[</span><span class="n">first_trig_source</span><span class="o">.</span><span class="n">value</span><span class="p">]</span>
                <span class="p">)</span>
            <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">SpectrumTriggerOperationNotImplemented</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Cannot get pulse width of </span><span class="si">{</span><span class="n">first_trig_source</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">set_external_trigger_pulse_width_in_samples</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">width</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Change the pulse width (samples) needed to trigger an event using an external trigger source if</span>
<span class="sd">        SPC_TM_PW_SMALLER or SPC_TM_PW_GREATER `ExternalTriggerMode` is selected. An external trigger source must be</span>
<span class="sd">        enabled.</span>

<span class="sd">        Args:</span>
<span class="sd">            width (int): The trigger pulse width to set, in samples.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_active_external_triggers</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SpectrumExternalTriggerNotEnabled</span><span class="p">(</span><span class="s2">&quot;Cannot set external trigger pulse width.&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">trigger_source</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_active_external_triggers</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">write_to_spectrum_device_register</span><span class="p">(</span>
                        <span class="n">EXTERNAL_TRIGGER_PULSE_WIDTH_COMMANDS</span><span class="p">[</span><span class="n">trigger_source</span><span class="o">.</span><span class="n">value</span><span class="p">],</span> <span class="n">width</span>
                    <span class="p">)</span>
                <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="n">SpectrumTriggerOperationNotImplemented</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Cannot set pulse width of </span><span class="si">{</span><span class="n">trigger_source</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">apply_channel_enabling</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Apply the enabled channels chosen using set_enable_channels(). This happens automatically and does not</span>
<span class="sd">        usually need to be called.&quot;&quot;&quot;</span>
        <span class="n">enabled_channel_spectrum_values</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">analog_channels</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">value</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_enabled_analog_channels</span><span class="p">]</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">enabled_channel_spectrum_values</span><span class="p">)</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">8</span><span class="p">]:</span>
            <span class="n">bitwise_or_of_enabled_channels</span> <span class="o">=</span> <span class="n">reduce</span><span class="p">(</span><span class="n">or_</span><span class="p">,</span> <span class="n">enabled_channel_spectrum_values</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">write_to_spectrum_device_register</span><span class="p">(</span><span class="n">SPC_CHENABLE</span><span class="p">,</span> <span class="n">bitwise_or_of_enabled_channels</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SpectrumInvalidNumberOfEnabledChannels</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Cannot enable </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">enabled_channel_spectrum_values</span><span class="p">)</span><span class="si">}</span><span class="s2"> &quot;</span> <span class="sa">f</span><span class="s2">&quot;channels on one card.&quot;</span>
            <span class="p">)</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">_init_analog_channels</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">AnalogChannelInterfaceType</span><span class="p">]:</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">_init_io_lines</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">IOLineInterfaceType</span><span class="p">]:</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">timeout_in_ms</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The time for which the card will wait for a trigger to be received after the device has been started</span>
<span class="sd">        before returning an error.</span>

<span class="sd">        Returns:</span>
<span class="sd">            timeout_in_ms (in)t: The currently set timeout in ms.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">read_spectrum_device_register</span><span class="p">(</span><span class="n">SPC_TIMEOUT</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">set_timeout_in_ms</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout_in_ms</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Change the time for which the card will wait for a trigger to tbe received after the device has started</span>
<span class="sd">        before returning an error.</span>

<span class="sd">        Args:</span>
<span class="sd">            timeout_in_ms (int): The desired timeout in ms.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_to_spectrum_device_register</span><span class="p">(</span><span class="n">SPC_TIMEOUT</span><span class="p">,</span> <span class="n">timeout_in_ms</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">clock_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ClockMode</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The currently enabled clock mode.</span>

<span class="sd">        Returns:</span>
<span class="sd">            mode (`ClockMode`): The currently set clock mode.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">ClockMode</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">read_spectrum_device_register</span><span class="p">(</span><span class="n">SPC_CLOCKMODE</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">set_clock_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mode</span><span class="p">:</span> <span class="n">ClockMode</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Change the clock mode. See `ClockMode` and the Spectrum documentation for available modes.</span>

<span class="sd">        Args:</span>
<span class="sd">            mode (`ClockMode`): The desired clock mode.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_to_spectrum_device_register</span><span class="p">(</span><span class="n">SPC_CLOCKMODE</span><span class="p">,</span> <span class="n">mode</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">available_io_modes</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AvailableIOModes</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;For each multipurpose IO line on the card, read the available modes. See IOLineMode and the Spectrum</span>
<span class="sd">        Documentation for all possible available modes and their meanings.</span>

<span class="sd">        Returns:</span>
<span class="sd">            modes (`AvailableIOModes`): An `AvailableIOModes` dataclass containing the modes for each IO line.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">AvailableIOModes</span><span class="p">(</span>
            <span class="n">X0</span><span class="o">=</span><span class="n">decode_available_io_modes</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">read_spectrum_device_register</span><span class="p">(</span><span class="n">SPCM_X0_AVAILMODES</span><span class="p">)),</span>
            <span class="n">X1</span><span class="o">=</span><span class="n">decode_available_io_modes</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">read_spectrum_device_register</span><span class="p">(</span><span class="n">SPCM_X1_AVAILMODES</span><span class="p">)),</span>
            <span class="n">X2</span><span class="o">=</span><span class="n">decode_available_io_modes</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">read_spectrum_device_register</span><span class="p">(</span><span class="n">SPCM_X2_AVAILMODES</span><span class="p">)),</span>
            <span class="n">X3</span><span class="o">=</span><span class="n">decode_available_io_modes</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">read_spectrum_device_register</span><span class="p">(</span><span class="n">SPCM_X3_AVAILMODES</span><span class="p">)),</span>
        <span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">feature_list</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">CardFeature</span><span class="p">],</span> <span class="n">List</span><span class="p">[</span><span class="n">AdvancedCardFeature</span><span class="p">]]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a list of the features of the card. See `CardFeature`, `AdvancedCardFeature` and the Spectrum</span>
<span class="sd">        documentation for more information.</span>

<span class="sd">        Returns:</span>
<span class="sd">            features (List[Tuple[List[`CardFeature`], List[`AdvancedCardFeature`]]]): A tuple of two lists - of features</span>
<span class="sd">                and advanced features respectively - wrapped in a list.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">normal_features</span> <span class="o">=</span> <span class="n">decode_card_features</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">read_spectrum_device_register</span><span class="p">(</span><span class="n">SPC_PCIFEATURES</span><span class="p">))</span>
        <span class="n">advanced_features</span> <span class="o">=</span> <span class="n">decode_advanced_card_features</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">read_spectrum_device_register</span><span class="p">(</span><span class="n">SPC_PCIEXTFEATURES</span><span class="p">))</span>
        <span class="k">return</span> <span class="p">[(</span><span class="n">normal_features</span><span class="p">,</span> <span class="n">advanced_features</span><span class="p">)]</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">sample_rate_in_hz</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The rate at which samples will be acquired or generated, in Hz.</span>

<span class="sd">        Returns:</span>
<span class="sd">            rate (int): The currently set sample rate in Hz.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">read_spectrum_device_register</span><span class="p">(</span><span class="n">SPC_SAMPLERATE</span><span class="p">,</span> <span class="n">SpectrumRegisterLength</span><span class="o">.</span><span class="n">SIXTY_FOUR</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">set_sample_rate_in_hz</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rate</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Change the rate at which samples will be acquired or generated, in Hz.</span>
<span class="sd">        Args:</span>
<span class="sd">            rate (int): The desired sample rate in Hz.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_to_spectrum_device_register</span><span class="p">(</span><span class="n">SPC_SAMPLERATE</span><span class="p">,</span> <span class="n">rate</span><span class="p">,</span> <span class="n">SpectrumRegisterLength</span><span class="o">.</span><span class="n">SIXTY_FOUR</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;Card </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_visa_string</span><span class="si">}</span><span class="s2"> (model </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">model_number</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">).&quot;</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">CardType</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">CardType</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">read_spectrum_device_register</span><span class="p">(</span><span class="n">SPC_FNCTYPE</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">force_trigger</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Force a trigger event to occur&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_to_spectrum_device_register</span><span class="p">(</span><span class="n">SPC_M2CMD</span><span class="p">,</span> <span class="n">M2CMD_CARD_FORCETRIGGER</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">bytes_per_sample</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">read_spectrum_device_register</span><span class="p">(</span><span class="n">SPC_MIINST_BYTESPERSAMPLE</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Abstract superclass implementing methods common to all individual "card" devices (as opposed to "hub" devices).</p>
</div>


                            <div id="AbstractSpectrumCard.__init__" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#AbstractSpectrumCard.__init__">#&nbsp;&nbsp</a>

        
            <span class="name">AbstractSpectrumCard</span><span class="signature">(device_number: int, ip_address: Optional[str] = None, **kwargs: Any)</span>
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">device_number</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">ip_address</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Args:</span>
<span class="sd">            device_number (int): Index of the card to control. If only one card is present, set to 0.</span>
<span class="sd">            ip_address (Optional[str]): If connecting to a networked card, provide the IP address here as a string.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>  <span class="c1"># required for proper MRO resolution</span>
        <span class="k">if</span> <span class="n">ip_address</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_visa_string</span> <span class="o">=</span> <span class="n">_create_visa_string_from_ip</span><span class="p">(</span><span class="n">ip_address</span><span class="p">,</span> <span class="n">device_number</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_visa_string</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;/dev/spcm</span><span class="si">{</span><span class="n">device_number</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_visa_string</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_model_number</span> <span class="o">=</span> <span class="n">ModelNumber</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">read_spectrum_device_register</span><span class="p">(</span><span class="n">SPC_PCITYP</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_trigger_sources</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">TriggerSource</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_analog_channels</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_init_analog_channels</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_io_lines</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_init_io_lines</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_enabled_analog_channels</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_transfer_buffer</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">TransferBuffer</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">apply_channel_enabling</span><span class="p">()</span>
</pre></div>

        </details>

            <div class="docstring"><h6 id="args">Args</h6>

<ul>
<li><strong>device_number (int):</strong>  Index of the card to control. If only one card is present, set to 0.</li>
<li><strong>ip_address (Optional[str]):</strong>  If connecting to a networked card, provide the IP address here as a string.</li>
</ul>
</div>


                            </div>
                            <div id="AbstractSpectrumCard.model_number" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#AbstractSpectrumCard.model_number">#&nbsp;&nbsp</a>

        <span class="name">model_number</span><span class="annotation">: <a href="spectrumdevice/settings.html#card_dependent_properties.ModelNumber">spectrumdevice.settings.card_dependent_properties.ModelNumber</a></span>
    </div>

    

                            </div>
                            <div id="AbstractSpectrumCard.reconnect" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#AbstractSpectrumCard.reconnect">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">reconnect</span><span class="signature">(self) -&gt; None</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">reconnect</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Reconnect to the card after disconnect() has been called.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_visa_string</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Reconnect to the card after disconnect() has been called.</p>
</div>


                            </div>
                            <div id="AbstractSpectrumCard.status" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#AbstractSpectrumCard.status">#&nbsp;&nbsp</a>

        <span class="name">status</span><span class="annotation">: List[List[<a href="spectrumdevice/settings.html#status.StatusCode">spectrumdevice.settings.status.StatusCode</a>]]</span>
    </div>

            <div class="docstring"><p>Read the current status of the card.</p>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>Statuses (<code>List[List[StatusCode]]</code>): A length-1 list containing a list of <code>StatusCode</code> Enums describing the
  current acquisition status of the card. See <code>StatusCode</code> (and the Spectrum documentation) for the list off
  possible acquisition statuses.</p>
</blockquote>
</div>


                            </div>
                            <div id="AbstractSpectrumCard.start_transfer" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#AbstractSpectrumCard.start_transfer">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">start_transfer</span><span class="signature">(self) -&gt; None</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">start_transfer</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Transfer between the on-device buffer and the `TransferBuffer`.</span>

<span class="sd">        Requires that a `TransferBuffer` has been defined (see `define_transfer_buffer()`).</span>

<span class="sd">        For digitisers in Standard Single mode (SPC_REC_STD_SINGLE), `start_transfer()` should be called after each</span>
<span class="sd">        acquisition has completed to transfer the acquired waveforms from the device to the `TransferBuffer`.</span>

<span class="sd">        For digitisers in FIFO mode (SPC_REC_FIFO_MULTI), `start_transfer()` should be called immediately after</span>
<span class="sd">        `start()` has been called, so that the waveform data can be continuously streamed into the transfer buffer as it</span>
<span class="sd">        is acquired.</span>

<span class="sd">        # todo: docstring for AWG transfers</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_to_spectrum_device_register</span><span class="p">(</span><span class="n">SPC_M2CMD</span><span class="p">,</span> <span class="n">M2CMD_DATA_STARTDMA</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Transfer between the on-device buffer and the <code>TransferBuffer</code>.</p>

<p>Requires that a <code>TransferBuffer</code> has been defined (see <code><a href="#AbstractSpectrumCard.define_transfer_buffer">define_transfer_buffer()</a></code>).</p>

<p>For digitisers in Standard Single mode (SPC_REC_STD_SINGLE), <code><a href="#AbstractSpectrumCard.start_transfer">start_transfer()</a></code> should be called after each
acquisition has completed to transfer the acquired waveforms from the device to the <code>TransferBuffer</code>.</p>

<p>For digitisers in FIFO mode (SPC_REC_FIFO_MULTI), <code><a href="#AbstractSpectrumCard.start_transfer">start_transfer()</a></code> should be called immediately after
<code><a href="#AbstractSpectrumCard.start">start()</a></code> has been called, so that the waveform data can be continuously streamed into the transfer buffer as it
is acquired.</p>

<h1 id="todo-docstring-for-awg-transfers">todo: docstring for AWG transfers</h1>
</div>


                            </div>
                            <div id="AbstractSpectrumCard.stop_transfer" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#AbstractSpectrumCard.stop_transfer">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">stop_transfer</span><span class="signature">(self) -&gt; None</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">stop_transfer</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Stop the transfer of data between the on-device buffer and the `TransferBuffer`.</span>

<span class="sd">        Transfer is usually stopped automatically when an acquisition or stream of acquisitions completes, so this</span>
<span class="sd">        method is rarely required. It may invalidate transferred samples.</span>

<span class="sd">        For digitisers in Standard Single mode (SPC_REC_STD_SINGLE), transfer will automatically stop once all acquired</span>
<span class="sd">        samples have been transferred, so `stop_transfer()` should not be used. Instead, call</span>
<span class="sd">        `wait_for_transfer_to_complete()` after `start_transfer()`.</span>

<span class="sd">        For digitisers in FIFO mode (SPC_REC_FIFO_MULTI), samples are transferred continuously during acquisition,</span>
<span class="sd">        and transfer will automatically stop when `stop()` is called as there will be no more</span>
<span class="sd">        samples to transfer, so `stop_transfer()` should not be used.</span>

<span class="sd">        # todo: docstring for AWG</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_to_spectrum_device_register</span><span class="p">(</span><span class="n">SPC_M2CMD</span><span class="p">,</span> <span class="n">M2CMD_DATA_STOPDMA</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Stop the transfer of data between the on-device buffer and the <code>TransferBuffer</code>.</p>

<p>Transfer is usually stopped automatically when an acquisition or stream of acquisitions completes, so this
method is rarely required. It may invalidate transferred samples.</p>

<p>For digitisers in Standard Single mode (SPC_REC_STD_SINGLE), transfer will automatically stop once all acquired
samples have been transferred, so <code><a href="#AbstractSpectrumCard.stop_transfer">stop_transfer()</a></code> should not be used. Instead, call
<code>wait_for_transfer_to_complete()</code> after <code><a href="#AbstractSpectrumCard.start_transfer">start_transfer()</a></code>.</p>

<p>For digitisers in FIFO mode (SPC_REC_FIFO_MULTI), samples are transferred continuously during acquisition,
and transfer will automatically stop when <code><a href="#AbstractSpectrumCard.stop">stop()</a></code> is called as there will be no more
samples to transfer, so <code><a href="#AbstractSpectrumCard.stop_transfer">stop_transfer()</a></code> should not be used.</p>

<h1 id="todo-docstring-for-awg">todo: docstring for AWG</h1>
</div>


                            </div>
                            <div id="AbstractSpectrumCard.wait_for_transfer_chunk_to_complete" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#AbstractSpectrumCard.wait_for_transfer_chunk_to_complete">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">wait_for_transfer_chunk_to_complete</span><span class="signature">(self) -&gt; None</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">wait_for_transfer_chunk_to_complete</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Blocks until the currently active transfer between the on-device buffer and the TransferBuffer is</span>
<span class="sd">        complete. This will be when there at least TransferBuffer.notify_size_in_pages pages available in the buffer.</span>

<span class="sd">        For digitisers in Standard Single mode (SPC_REC_STD_SINGLE), use after starting a transfer. Once the method</span>
<span class="sd">        returns, all acquired waveforms have been transferred from the on-device buffer to the `TransferBuffer` and can</span>
<span class="sd">        be read using the `get_waveforms()` method.</span>

<span class="sd">        For digitisers in FIFO mode (SPC_REC_FIFO_MULTI) this method is internally used by get_waveforms().</span>

<span class="sd">        # todo: update the above docstring to take into account cases where notify size &lt; data lemgth</span>
<span class="sd">        # todo: docstring for AWG</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_to_spectrum_device_register</span><span class="p">(</span><span class="n">SPC_M2CMD</span><span class="p">,</span> <span class="n">M2CMD_DATA_WAITDMA</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Blocks until the currently active transfer between the on-device buffer and the TransferBuffer is
complete. This will be when there at least TransferBuffer.notify_size_in_pages pages available in the buffer.</p>

<p>For digitisers in Standard Single mode (SPC_REC_STD_SINGLE), use after starting a transfer. Once the method
returns, all acquired waveforms have been transferred from the on-device buffer to the <code>TransferBuffer</code> and can
be read using the <code>get_waveforms()</code> method.</p>

<p>For digitisers in FIFO mode (SPC_REC_FIFO_MULTI) this method is internally used by get_waveforms().</p>

<h1 id="todo-update-the-above-docstring-to-take-into-account-cases-where-notify-size-data-lemgth">todo: update the above docstring to take into account cases where notify size &lt; data lemgth</h1>

<h1 id="todo-docstring-for-awg">todo: docstring for AWG</h1>
</div>


                            </div>
                            <div id="AbstractSpectrumCard.transfer_buffers" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#AbstractSpectrumCard.transfer_buffers">#&nbsp;&nbsp</a>

        <span class="name">transfer_buffers</span><span class="annotation">: List[<a href="spectrumdevice/settings.html#transfer_buffer.TransferBuffer">spectrumdevice.settings.transfer_buffer.TransferBuffer</a>]</span>
    </div>

            <div class="docstring"><p>Return the <code>TransferBuffer</code> configured for transferring data between the card and the software.</p>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>buffer (List[<code>TransferBuffer</code>]): A length-1 list containing the <code>TransferBuffer</code> object. Any data within
      the <code>TransferBuffer</code> can be accessed using its own interface, but the samples are stored as a 1D array,
      with the samples of each channel interleaved as per the Spectrum user manual. For digitisers, it is more
      convenient to read waveform data using the <code>get_waveforms()</code> method.</p>
</blockquote>
</div>


                            </div>
                            <div id="AbstractSpectrumCard.disconnect" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#AbstractSpectrumCard.disconnect">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">disconnect</span><span class="signature">(self) -&gt; None</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">disconnect</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Terminate the connection to the card.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">connected</span><span class="p">:</span>
            <span class="n">destroy_handle</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_handle</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_connected</span> <span class="o">=</span> <span class="kc">False</span>
</pre></div>

        </details>

            <div class="docstring"><p>Terminate the connection to the card.</p>
</div>


                            </div>
                            <div id="AbstractSpectrumCard.connected" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#AbstractSpectrumCard.connected">#&nbsp;&nbsp</a>

        <span class="name">connected</span><span class="annotation">: bool</span>
    </div>

            <div class="docstring"><p>Returns True if a card is currently connected, False if not.</p>
</div>


                            </div>
                            <div id="AbstractSpectrumCard.analog_channels" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#AbstractSpectrumCard.analog_channels">#&nbsp;&nbsp</a>

        <span class="name">analog_channels</span><span class="annotation">: Sequence[~AnalogChannelInterfaceType]</span>
    </div>

            <div class="docstring"><p>A tuple containing the channels that belong to the card.</p>

<p>Properties of the individual channels can be set by calling the methods of the
    returned objects directly. See <code>SpectrumDigitiserChannel</code> and <code>SpectrumAWGChannel</code> for more information.</p>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>channels (Sequence[<code>SpectrumChannelInterface</code>]): A tuple of objects conforming to the
  <code>SpectrumChannelInterface</code> interface.</p>
</blockquote>
</div>


                            </div>
                            <div id="AbstractSpectrumCard.io_lines" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#AbstractSpectrumCard.io_lines">#&nbsp;&nbsp</a>

        <span class="name">io_lines</span><span class="annotation">: Sequence[~IOLineInterfaceType]</span>
    </div>

            <div class="docstring"><p>A tuple containing the Multipurpose IO Lines that belong to the card.</p>

<p>Properties of the individual channels can be set by calling the methods of the
    returned objects directly.</p>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>channels (Sequence[<code>SpectrumIOLineInterface</code>]): A tuple of objects conforming to the
  <code>SpectrumIOLineInterface</code> interface.</p>
</blockquote>
</div>


                            </div>
                            <div id="AbstractSpectrumCard.enabled_analog_channel_nums" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#AbstractSpectrumCard.enabled_analog_channel_nums">#&nbsp;&nbsp</a>

        <span class="name">enabled_analog_channel_nums</span><span class="annotation">: List[int]</span>
    </div>

            <div class="docstring"><p>The indices of the currently enabled channels.</p>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>enabled_channels (List[int]): The indices of the currently enabled channels.</p>
</blockquote>
</div>


                            </div>
                            <div id="AbstractSpectrumCard.set_enabled_analog_channels" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#AbstractSpectrumCard.set_enabled_analog_channels">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_enabled_analog_channels</span><span class="signature">(self, channels_nums: List[int]) -&gt; None</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">set_enabled_analog_channels</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channels_nums</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Change which channels are enabled.</span>

<span class="sd">        Args:</span>
<span class="sd">            channels_nums (List[int]): The integer channel indices to enable.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">channels_nums</span><span class="p">)</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">8</span><span class="p">]:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_enabled_analog_channels</span> <span class="o">=</span> <span class="n">channels_nums</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">apply_channel_enabling</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SpectrumInvalidNumberOfEnabledChannels</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">channels_nums</span><span class="p">)</span><span class="si">}</span><span class="s2"> cannot be enabled at once.&quot;</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Change which channels are enabled.</p>

<h6 id="args">Args</h6>

<ul>
<li><strong>channels_nums (List[int]):</strong>  The integer channel indices to enable.</li>
</ul>
</div>


                            </div>
                            <div id="AbstractSpectrumCard.trigger_sources" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#AbstractSpectrumCard.trigger_sources">#&nbsp;&nbsp</a>

        <span class="name">trigger_sources</span><span class="annotation">: List[<a href="spectrumdevice/settings.html#triggering.TriggerSource">spectrumdevice.settings.triggering.TriggerSource</a>]</span>
    </div>

            <div class="docstring"><p>The currently enabled trigger sources</p>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>sources (List[<code>TriggerSource</code>]): A list of TriggerSources.</p>
</blockquote>
</div>


                            </div>
                            <div id="AbstractSpectrumCard.set_trigger_sources" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#AbstractSpectrumCard.set_trigger_sources">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_trigger_sources</span><span class="signature">(
    self,
    sources: List[<a href="spectrumdevice/settings.html#triggering.TriggerSource">spectrumdevice.settings.triggering.TriggerSource</a>]
) -&gt; None</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">set_trigger_sources</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sources</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">TriggerSource</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Change the enabled trigger sources.</span>

<span class="sd">        Args:</span>
<span class="sd">            sources (List[`TriggerSource`]): The TriggerSources to enable.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_trigger_sources</span> <span class="o">=</span> <span class="n">sources</span>
        <span class="n">or_of_sources</span> <span class="o">=</span> <span class="n">reduce</span><span class="p">(</span><span class="n">or_</span><span class="p">,</span> <span class="p">[</span><span class="n">s</span><span class="o">.</span><span class="n">value</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">sources</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_to_spectrum_device_register</span><span class="p">(</span><span class="n">SPC_TRIG_ORMASK</span><span class="p">,</span> <span class="n">or_of_sources</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_to_spectrum_device_register</span><span class="p">(</span><span class="n">SPC_TRIG_ANDMASK</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Change the enabled trigger sources.</p>

<h6 id="args">Args</h6>

<ul>
<li><strong>sources (List[<code>TriggerSource</code>]):</strong>  The TriggerSources to enable.</li>
</ul>
</div>


                            </div>
                            <div id="AbstractSpectrumCard.external_trigger_mode" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#AbstractSpectrumCard.external_trigger_mode">#&nbsp;&nbsp</a>

        <span class="name">external_trigger_mode</span><span class="annotation">: <a href="spectrumdevice/settings.html#triggering.ExternalTriggerMode">spectrumdevice.settings.triggering.ExternalTriggerMode</a></span>
    </div>

            <div class="docstring"><p>The currently enabled external trigger mode. An external trigger source must be enabled.</p>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>sources (<code>ExternalTriggerMode</code>): The currently enabled <code>ExternalTriggerMode</code>.</p>
</blockquote>
</div>


                            </div>
                            <div id="AbstractSpectrumCard.set_external_trigger_mode" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#AbstractSpectrumCard.set_external_trigger_mode">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_external_trigger_mode</span><span class="signature">(
    self,
    mode: <a href="spectrumdevice/settings.html#triggering.ExternalTriggerMode">spectrumdevice.settings.triggering.ExternalTriggerMode</a>
) -&gt; None</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">set_external_trigger_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mode</span><span class="p">:</span> <span class="n">ExternalTriggerMode</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Change the currently enabled trigger mode. An external trigger source must be enabled.</span>

<span class="sd">        Args:</span>
<span class="sd">            mode (`ExternalTriggerMode`): The `ExternalTriggerMode` to apply.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_active_external_triggers</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SpectrumExternalTriggerNotEnabled</span><span class="p">(</span><span class="s2">&quot;Cannot set external trigger mode.&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">trigger_source</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_active_external_triggers</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">write_to_spectrum_device_register</span><span class="p">(</span>
                        <span class="n">EXTERNAL_TRIGGER_MODE_COMMANDS</span><span class="p">[</span><span class="n">trigger_source</span><span class="o">.</span><span class="n">value</span><span class="p">],</span> <span class="n">mode</span><span class="o">.</span><span class="n">value</span>
                    <span class="p">)</span>
                <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="n">SpectrumTriggerOperationNotImplemented</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Cannot set trigger mode of </span><span class="si">{</span><span class="n">trigger_source</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Change the currently enabled trigger mode. An external trigger source must be enabled.</p>

<h6 id="args">Args</h6>

<ul>
<li><strong>mode (<code>ExternalTriggerMode</code>):</strong>  The <code>ExternalTriggerMode</code> to apply.</li>
</ul>
</div>


                            </div>
                            <div id="AbstractSpectrumCard.external_trigger_level_in_mv" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#AbstractSpectrumCard.external_trigger_level_in_mv">#&nbsp;&nbsp</a>

        <span class="name">external_trigger_level_in_mv</span><span class="annotation">: int</span>
    </div>

            <div class="docstring"><p>The signal level (mV) needed to trigger an event using an external trigger source. An external
trigger source must be enabled.</p>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>level (int): The currently set trigger level in mV.</p>
</blockquote>
</div>


                            </div>
                            <div id="AbstractSpectrumCard.set_external_trigger_level_in_mv" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#AbstractSpectrumCard.set_external_trigger_level_in_mv">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_external_trigger_level_in_mv</span><span class="signature">(self, level: int) -&gt; None</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">set_external_trigger_level_in_mv</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">level</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Change the signal level (mV) needed to trigger an event using an external trigger source. An external</span>
<span class="sd">        trigger source must be enabled.</span>

<span class="sd">        Args:</span>
<span class="sd">            level (int): The trigger level to set in mV.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_active_external_triggers</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SpectrumExternalTriggerNotEnabled</span><span class="p">(</span><span class="s2">&quot;Cannot set external trigger level.&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">trigger_source</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_active_external_triggers</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">write_to_spectrum_device_register</span><span class="p">(</span><span class="n">EXTERNAL_TRIGGER_LEVEL_COMMANDS</span><span class="p">[</span><span class="n">trigger_source</span><span class="o">.</span><span class="n">value</span><span class="p">],</span> <span class="n">level</span><span class="p">)</span>
                <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="n">SpectrumTriggerOperationNotImplemented</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Cannot set trigger level of </span><span class="si">{</span><span class="n">trigger_source</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Change the signal level (mV) needed to trigger an event using an external trigger source. An external
trigger source must be enabled.</p>

<h6 id="args">Args</h6>

<ul>
<li><strong>level (int):</strong>  The trigger level to set in mV.</li>
</ul>
</div>


                            </div>
                            <div id="AbstractSpectrumCard.external_trigger_pulse_width_in_samples" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#AbstractSpectrumCard.external_trigger_pulse_width_in_samples">#&nbsp;&nbsp</a>

        <span class="name">external_trigger_pulse_width_in_samples</span><span class="annotation">: int</span>
    </div>

            <div class="docstring"><p>The pulse width (in samples) needed to trigger an event using an external trigger source, if
SPC_TM_PW_SMALLER or SPC_TM_PW_GREATER <code>ExternalTriggerMode</code> is selected. An external trigger source must be
enabled.</p>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>width (int): The current trigger pulse width in samples.</p>
</blockquote>
</div>


                            </div>
                            <div id="AbstractSpectrumCard.set_external_trigger_pulse_width_in_samples" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#AbstractSpectrumCard.set_external_trigger_pulse_width_in_samples">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_external_trigger_pulse_width_in_samples</span><span class="signature">(self, width: int) -&gt; None</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">set_external_trigger_pulse_width_in_samples</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">width</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Change the pulse width (samples) needed to trigger an event using an external trigger source if</span>
<span class="sd">        SPC_TM_PW_SMALLER or SPC_TM_PW_GREATER `ExternalTriggerMode` is selected. An external trigger source must be</span>
<span class="sd">        enabled.</span>

<span class="sd">        Args:</span>
<span class="sd">            width (int): The trigger pulse width to set, in samples.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_active_external_triggers</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SpectrumExternalTriggerNotEnabled</span><span class="p">(</span><span class="s2">&quot;Cannot set external trigger pulse width.&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">trigger_source</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_active_external_triggers</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">write_to_spectrum_device_register</span><span class="p">(</span>
                        <span class="n">EXTERNAL_TRIGGER_PULSE_WIDTH_COMMANDS</span><span class="p">[</span><span class="n">trigger_source</span><span class="o">.</span><span class="n">value</span><span class="p">],</span> <span class="n">width</span>
                    <span class="p">)</span>
                <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="n">SpectrumTriggerOperationNotImplemented</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Cannot set pulse width of </span><span class="si">{</span><span class="n">trigger_source</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Change the pulse width (samples) needed to trigger an event using an external trigger source if
SPC_TM_PW_SMALLER or SPC_TM_PW_GREATER <code>ExternalTriggerMode</code> is selected. An external trigger source must be
enabled.</p>

<h6 id="args">Args</h6>

<ul>
<li><strong>width (int):</strong>  The trigger pulse width to set, in samples.</li>
</ul>
</div>


                            </div>
                            <div id="AbstractSpectrumCard.apply_channel_enabling" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#AbstractSpectrumCard.apply_channel_enabling">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">apply_channel_enabling</span><span class="signature">(self) -&gt; None</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">apply_channel_enabling</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Apply the enabled channels chosen using set_enable_channels(). This happens automatically and does not</span>
<span class="sd">        usually need to be called.&quot;&quot;&quot;</span>
        <span class="n">enabled_channel_spectrum_values</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">analog_channels</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">value</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_enabled_analog_channels</span><span class="p">]</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">enabled_channel_spectrum_values</span><span class="p">)</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">8</span><span class="p">]:</span>
            <span class="n">bitwise_or_of_enabled_channels</span> <span class="o">=</span> <span class="n">reduce</span><span class="p">(</span><span class="n">or_</span><span class="p">,</span> <span class="n">enabled_channel_spectrum_values</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">write_to_spectrum_device_register</span><span class="p">(</span><span class="n">SPC_CHENABLE</span><span class="p">,</span> <span class="n">bitwise_or_of_enabled_channels</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SpectrumInvalidNumberOfEnabledChannels</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Cannot enable </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">enabled_channel_spectrum_values</span><span class="p">)</span><span class="si">}</span><span class="s2"> &quot;</span> <span class="sa">f</span><span class="s2">&quot;channels on one card.&quot;</span>
            <span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Apply the enabled channels chosen using set_enable_channels(). This happens automatically and does not
usually need to be called.</p>
</div>


                            </div>
                            <div id="AbstractSpectrumCard.timeout_in_ms" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#AbstractSpectrumCard.timeout_in_ms">#&nbsp;&nbsp</a>

        <span class="name">timeout_in_ms</span><span class="annotation">: int</span>
    </div>

            <div class="docstring"><p>The time for which the card will wait for a trigger to be received after the device has been started
before returning an error.</p>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>timeout_in_ms (in)t: The currently set timeout in ms.</p>
</blockquote>
</div>


                            </div>
                            <div id="AbstractSpectrumCard.set_timeout_in_ms" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#AbstractSpectrumCard.set_timeout_in_ms">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_timeout_in_ms</span><span class="signature">(self, timeout_in_ms: int) -&gt; None</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">set_timeout_in_ms</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">timeout_in_ms</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Change the time for which the card will wait for a trigger to tbe received after the device has started</span>
<span class="sd">        before returning an error.</span>

<span class="sd">        Args:</span>
<span class="sd">            timeout_in_ms (int): The desired timeout in ms.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_to_spectrum_device_register</span><span class="p">(</span><span class="n">SPC_TIMEOUT</span><span class="p">,</span> <span class="n">timeout_in_ms</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Change the time for which the card will wait for a trigger to tbe received after the device has started
before returning an error.</p>

<h6 id="args">Args</h6>

<ul>
<li><strong>timeout_in_ms (int):</strong>  The desired timeout in ms.</li>
</ul>
</div>


                            </div>
                            <div id="AbstractSpectrumCard.clock_mode" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#AbstractSpectrumCard.clock_mode">#&nbsp;&nbsp</a>

        <span class="name">clock_mode</span><span class="annotation">: <a href="spectrumdevice/settings.html#device_modes.ClockMode">spectrumdevice.settings.device_modes.ClockMode</a></span>
    </div>

            <div class="docstring"><p>The currently enabled clock mode.</p>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>mode (<code>ClockMode</code>): The currently set clock mode.</p>
</blockquote>
</div>


                            </div>
                            <div id="AbstractSpectrumCard.set_clock_mode" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#AbstractSpectrumCard.set_clock_mode">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_clock_mode</span><span class="signature">(self, mode: <a href="spectrumdevice/settings.html#device_modes.ClockMode">spectrumdevice.settings.device_modes.ClockMode</a>) -&gt; None</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">set_clock_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mode</span><span class="p">:</span> <span class="n">ClockMode</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Change the clock mode. See `ClockMode` and the Spectrum documentation for available modes.</span>

<span class="sd">        Args:</span>
<span class="sd">            mode (`ClockMode`): The desired clock mode.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_to_spectrum_device_register</span><span class="p">(</span><span class="n">SPC_CLOCKMODE</span><span class="p">,</span> <span class="n">mode</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Change the clock mode. See <code>ClockMode</code> and the Spectrum documentation for available modes.</p>

<h6 id="args">Args</h6>

<ul>
<li><strong>mode (<code>ClockMode</code>):</strong>  The desired clock mode.</li>
</ul>
</div>


                            </div>
                            <div id="AbstractSpectrumCard.available_io_modes" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#AbstractSpectrumCard.available_io_modes">#&nbsp;&nbsp</a>

        <span class="name">available_io_modes</span><span class="annotation">: <a href="spectrumdevice/settings.html#io_lines.AvailableIOModes">spectrumdevice.settings.io_lines.AvailableIOModes</a></span>
    </div>

            <div class="docstring"><p>For each multipurpose IO line on the card, read the available modes. See IOLineMode and the Spectrum
Documentation for all possible available modes and their meanings.</p>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>modes (<code>AvailableIOModes</code>): An <code>AvailableIOModes</code> dataclass containing the modes for each IO line.</p>
</blockquote>
</div>


                            </div>
                            <div id="AbstractSpectrumCard.feature_list" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#AbstractSpectrumCard.feature_list">#&nbsp;&nbsp</a>

        <span class="name">feature_list</span><span class="annotation">: List[Tuple[List[<a href="spectrumdevice/settings.html#card_features.CardFeature">spectrumdevice.settings.card_features.CardFeature</a>], List[<a href="spectrumdevice/settings.html#card_features.AdvancedCardFeature">spectrumdevice.settings.card_features.AdvancedCardFeature</a>]]]</span>
    </div>

            <div class="docstring"><p>Get a list of the features of the card. See <code>CardFeature</code>, <code>AdvancedCardFeature</code> and the Spectrum
documentation for more information.</p>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>features (List[Tuple[List[<code>CardFeature</code>], List[<code>AdvancedCardFeature</code>]]]): A tuple of two lists - of features
      and advanced features respectively - wrapped in a list.</p>
</blockquote>
</div>


                            </div>
                            <div id="AbstractSpectrumCard.sample_rate_in_hz" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#AbstractSpectrumCard.sample_rate_in_hz">#&nbsp;&nbsp</a>

        <span class="name">sample_rate_in_hz</span><span class="annotation">: int</span>
    </div>

            <div class="docstring"><p>The rate at which samples will be acquired or generated, in Hz.</p>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>rate (int): The currently set sample rate in Hz.</p>
</blockquote>
</div>


                            </div>
                            <div id="AbstractSpectrumCard.set_sample_rate_in_hz" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#AbstractSpectrumCard.set_sample_rate_in_hz">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_sample_rate_in_hz</span><span class="signature">(self, rate: int) -&gt; None</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">set_sample_rate_in_hz</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rate</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Change the rate at which samples will be acquired or generated, in Hz.</span>
<span class="sd">        Args:</span>
<span class="sd">            rate (int): The desired sample rate in Hz.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_to_spectrum_device_register</span><span class="p">(</span><span class="n">SPC_SAMPLERATE</span><span class="p">,</span> <span class="n">rate</span><span class="p">,</span> <span class="n">SpectrumRegisterLength</span><span class="o">.</span><span class="n">SIXTY_FOUR</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Change the rate at which samples will be acquired or generated, in Hz.</p>

<h6 id="args">Args</h6>

<ul>
<li><strong>rate (int):</strong>  The desired sample rate in Hz.</li>
</ul>
</div>


                            </div>
                            <div id="AbstractSpectrumCard.type" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#AbstractSpectrumCard.type">#&nbsp;&nbsp</a>

        <span class="name">type</span><span class="annotation">: <a href="spectrumdevice/settings.html#card_dependent_properties.CardType">spectrumdevice.settings.card_dependent_properties.CardType</a></span>
    </div>

    

                            </div>
                            <div id="AbstractSpectrumCard.force_trigger" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#AbstractSpectrumCard.force_trigger">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">force_trigger</span><span class="signature">(self) -&gt; None</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">force_trigger</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Force a trigger event to occur&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_to_spectrum_device_register</span><span class="p">(</span><span class="n">SPC_M2CMD</span><span class="p">,</span> <span class="n">M2CMD_CARD_FORCETRIGGER</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Force a trigger event to occur</p>
</div>


                            </div>
                            <div id="AbstractSpectrumCard.bytes_per_sample" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#AbstractSpectrumCard.bytes_per_sample">#&nbsp;&nbsp</a>

        <span class="name">bytes_per_sample</span><span class="annotation">: int</span>
    </div>

    

                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt><a href="#AbstractSpectrumDevice">AbstractSpectrumDevice</a></dt>
                                <dd id="AbstractSpectrumCard.reset" class="function"><a href="#AbstractSpectrumDevice.reset">reset</a></dd>
                <dd id="AbstractSpectrumCard.start" class="function"><a href="#AbstractSpectrumDevice.start">start</a></dd>
                <dd id="AbstractSpectrumCard.stop" class="function"><a href="#AbstractSpectrumDevice.stop">stop</a></dd>
                <dd id="AbstractSpectrumCard.configure_trigger" class="function"><a href="#AbstractSpectrumDevice.configure_trigger">configure_trigger</a></dd>
                <dd id="AbstractSpectrumCard.configure_channel_pairing" class="function"><a href="#AbstractSpectrumDevice.configure_channel_pairing">configure_channel_pairing</a></dd>
                <dd id="AbstractSpectrumCard.write_to_spectrum_device_register" class="function"><a href="#AbstractSpectrumDevice.write_to_spectrum_device_register">write_to_spectrum_device_register</a></dd>
                <dd id="AbstractSpectrumCard.read_spectrum_device_register" class="function"><a href="#AbstractSpectrumDevice.read_spectrum_device_register">read_spectrum_device_register</a></dd>

            </div>
            <div><dt>spectrumdevice.devices.abstract_device.device_interface.SpectrumDeviceInterface</dt>
                                <dd id="AbstractSpectrumCard.define_transfer_buffer" class="function">define_transfer_buffer</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="AbstractSpectrumDevice">
                                <div class="attr class">
        <a class="headerlink" href="#AbstractSpectrumDevice">#&nbsp;&nbsp</a>

        
        <span class="def">class</span>
        <span class="name">AbstractSpectrumDevice</span><wbr>(<span class="base">spectrumdevice.devices.abstract_device.device_interface.SpectrumDeviceInterface[~AnalogChannelInterfaceType, ~IOLineInterfaceType]</span>, <span class="base">abc.ABC</span>):
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span><span class="k">class</span> <span class="nc">AbstractSpectrumDevice</span><span class="p">(</span><span class="n">SpectrumDeviceInterface</span><span class="p">[</span><span class="n">AnalogChannelInterfaceType</span><span class="p">,</span> <span class="n">IOLineInterfaceType</span><span class="p">],</span> <span class="n">ABC</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Abstract superclass which implements methods common to all Spectrum devices. Instances of this class</span>
<span class="sd">    cannot be constructed directly. Instead, construct instances of the concrete classes listed in</span>
<span class="sd">    spectrumdevice/__init__.py, which inherit the methods defined here. Note that the concrete mock devices override</span>
<span class="sd">    several of the methods defined here.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">_connect</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">visa_string</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_handle</span> <span class="o">=</span> <span class="n">spectrum_handle_factory</span><span class="p">(</span><span class="n">visa_string</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_connected</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="k">def</span> <span class="nf">reset</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Perform a software and hardware reset.</span>

<span class="sd">        All settings are set to hardware default values. The data in the boards on-board memory will be no longer</span>
<span class="sd">        valid. Any output signals (including triggers and clocks) will be disabled.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_to_spectrum_device_register</span><span class="p">(</span><span class="n">SPC_M2CMD</span><span class="p">,</span> <span class="n">M2CMD_CARD_RESET</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">start</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Start the device.</span>

<span class="sd">        For digitisers in Standard Single mode (SPC_REC_STD_SINGLE), this will need to be called once for each</span>
<span class="sd">        acquisition. In-between calls, waveforms must be manually transferred from the device to a `TransferBuffer`</span>
<span class="sd">        using `start_transfer()`. The `TransferBuffer` need not be defined until after `start` is called.</span>

<span class="sd">        For digitisers in Multi FIFO mode (SPC_REC_FIFO_MULTI), it needs to be called only once, immediately followed by</span>
<span class="sd">        a call to `start_transfer()`. Frames will then be continuously streamed to the `TransferBuffer`, which must have</span>
<span class="sd">        already been defined.</span>

<span class="sd">        # todo: docstring for different AWG modes</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_to_spectrum_device_register</span><span class="p">(</span><span class="n">SPC_M2CMD</span><span class="p">,</span> <span class="n">M2CMD_CARD_START</span> <span class="o">|</span> <span class="n">M2CMD_CARD_ENABLETRIGGER</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">stop</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Stop the device.</span>

<span class="sd">        For digitisers in FIFO mode (SPC_REC_FIFO_MULTI), this stops the continuous acquisition of waveform data that</span>
<span class="sd">        occurs after calling `start()`. Does not need to be called in Standard Single mode (SPC_REC_STD_SINGLE).</span>

<span class="sd">        # todo: docstring for AWG</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_to_spectrum_device_register</span><span class="p">(</span><span class="n">SPC_M2CMD</span><span class="p">,</span> <span class="n">M2CMD_CARD_STOP</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">configure_trigger</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">settings</span><span class="p">:</span> <span class="n">TriggerSettings</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Apply all the trigger settings contained in a `TriggerSettings` dataclass to the device.</span>

<span class="sd">        Args:</span>
<span class="sd">            settings (`TriggerSettings`): A `TriggerSettings` dataclass containing the setting values to apply.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_trigger_sources</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">trigger_sources</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">trigger_sources</span><span class="p">)</span> <span class="o">&amp;</span> <span class="nb">set</span><span class="p">(</span><span class="n">EXTERNAL_TRIGGER_SOURCES</span><span class="p">))</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">settings</span><span class="o">.</span><span class="n">external_trigger_mode</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">set_external_trigger_mode</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">external_trigger_mode</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">settings</span><span class="o">.</span><span class="n">external_trigger_level_in_mv</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">set_external_trigger_level_in_mv</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">external_trigger_level_in_mv</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">settings</span><span class="o">.</span><span class="n">external_trigger_pulse_width_in_samples</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">set_external_trigger_pulse_width_in_samples</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">external_trigger_pulse_width_in_samples</span><span class="p">)</span>

        <span class="c1"># Write the configuration to the card</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_to_spectrum_device_register</span><span class="p">(</span><span class="n">SPC_M2CMD</span><span class="p">,</span> <span class="n">M2CMD_CARD_WRITESETUP</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">configure_channel_pairing</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel_pair</span><span class="p">:</span> <span class="n">ChannelPair</span><span class="p">,</span> <span class="n">mode</span><span class="p">:</span> <span class="n">ChannelPairingMode</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Configures a pair of consecutive channels to operate either independently, in differential mode or</span>
<span class="sd">        in double  mode. If enabling differential or double mode, then the odd-numbered channel will be automatically</span>
<span class="sd">        configured to be identical to the even-numbered channel, and the odd-numbered channel will be disabled as is</span>
<span class="sd">        required by the Spectrum API.</span>

<span class="sd">        Args:</span>
<span class="sd">            channel_pair (ChannelPair): The pair of channels to configure</span>
<span class="sd">            mode (ChannelPairingMode): The mode to enable: SINGLE, DOUBLE, or DIFFERENTIAL</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">doubling_enabled</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">mode</span> <span class="o">==</span> <span class="n">ChannelPairingMode</span><span class="o">.</span><span class="n">DOUBLE</span><span class="p">)</span>
        <span class="n">differential_mode_enabled</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">mode</span> <span class="o">==</span> <span class="n">ChannelPairingMode</span><span class="o">.</span><span class="n">DIFFERENTIAL</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">doubling_enabled</span> <span class="ow">and</span> <span class="n">channel_pair</span> <span class="ow">in</span> <span class="p">(</span><span class="n">channel_pair</span><span class="o">.</span><span class="n">CHANNEL_4_AND_5</span><span class="p">,</span> <span class="n">channel_pair</span><span class="o">.</span><span class="n">CHANNEL_6_AND_7</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Doubling can only be enabled for channel pairs CHANNEL_0_AND_1 or CHANNEL_2_AND_3.&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">doubling_enabled</span> <span class="ow">or</span> <span class="n">differential_mode_enabled</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_mirror_even_channel_settings_on_odd_channel</span><span class="p">(</span><span class="n">channel_pair</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_disable_odd_channel</span><span class="p">(</span><span class="n">channel_pair</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">write_to_spectrum_device_register</span><span class="p">(</span>
            <span class="n">DIFFERENTIAL_CHANNEL_PAIR_COMMANDS</span><span class="p">[</span><span class="n">channel_pair</span><span class="p">],</span> <span class="n">differential_mode_enabled</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_to_spectrum_device_register</span><span class="p">(</span><span class="n">DOUBLING_CHANNEL_PAIR_COMMANDS</span><span class="p">[</span><span class="n">channel_pair</span><span class="p">],</span> <span class="n">doubling_enabled</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_disable_odd_channel</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel_pair</span><span class="p">:</span> <span class="n">ChannelPair</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">enabled_channels</span> <span class="o">=</span> <span class="n">copy</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">enabled_analog_channel_nums</span><span class="p">)</span>
            <span class="n">enabled_channels</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">channel_pair</span><span class="o">.</span><span class="n">value</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">set_enabled_analog_channels</span><span class="p">(</span><span class="n">enabled_channels</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
            <span class="k">pass</span>  <span class="c1"># odd numbered channel was not enable, so no need to disable it.</span>

    <span class="k">def</span> <span class="nf">_mirror_even_channel_settings_on_odd_channel</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel_pair</span><span class="p">:</span> <span class="n">ChannelPair</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">analog_channels</span><span class="p">[</span><span class="n">channel_pair</span><span class="o">.</span><span class="n">value</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">copy_settings_from_other_channel</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">analog_channels</span><span class="p">[</span><span class="n">channel_pair</span><span class="o">.</span><span class="n">value</span><span class="p">]</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">write_to_spectrum_device_register</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">spectrum_register</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">value</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">length</span><span class="p">:</span> <span class="n">SpectrumRegisterLength</span> <span class="o">=</span> <span class="n">SpectrumRegisterLength</span><span class="o">.</span><span class="n">THIRTY_TWO</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Set the value of a register on the Spectrum device.</span>

<span class="sd">        This method is used internally by `AbstractSpectrumDigitiser` and its subclasses to configure a hardware</span>
<span class="sd">        device, but can also be used to set the value of registers that are not implemented in</span>
<span class="sd">        `AbstractSpectrumDigitiser` and its subclasses.</span>

<span class="sd">        Args:</span>
<span class="sd">            spectrum_register (int): Identifier of the register to set. This should be a global constant imported from</span>
<span class="sd">                regs.py in the spectrum_gmbh package.</span>
<span class="sd">            value (int): Value to write to the register. This should be a global constant imported from</span>
<span class="sd">                regs.py in the spectrum_gmbh package.</span>
<span class="sd">            length (`SpectrumRegisterLength`): A `SpectrumRegisterLength` object specifying the length of the register</span>
<span class="sd">                to set, in bits.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">SPECTRUM_DRIVERS_FOUND</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SpectrumDriversNotFound</span><span class="p">(</span>
                <span class="s2">&quot;Cannot communicate with hardware. For testing on a system without drivers or connected hardware, use&quot;</span>
                <span class="s2">&quot; MockSpectrumDigitiserCard instead.&quot;</span>
            <span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">connected</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">length</span> <span class="o">==</span> <span class="n">SpectrumRegisterLength</span><span class="o">.</span><span class="n">THIRTY_TWO</span><span class="p">:</span>
                <span class="n">set_spectrum_i32_api_param</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_handle</span><span class="p">,</span> <span class="n">spectrum_register</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">length</span> <span class="o">==</span> <span class="n">SpectrumRegisterLength</span><span class="o">.</span><span class="n">SIXTY_FOUR</span><span class="p">:</span>
                <span class="n">set_spectrum_i64_api_param</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_handle</span><span class="p">,</span> <span class="n">spectrum_register</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Spectrum integer length not recognised.&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SpectrumDeviceNotConnected</span><span class="p">(</span><span class="s2">&quot;The device has been disconnected.&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">read_spectrum_device_register</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">spectrum_register</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">length</span><span class="p">:</span> <span class="n">SpectrumRegisterLength</span> <span class="o">=</span> <span class="n">SpectrumRegisterLength</span><span class="o">.</span><span class="n">THIRTY_TWO</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the value of a register on the Spectrum digitiser.</span>

<span class="sd">        This method is used internally by `AbstractSpectrumDigitiser` and its subclasses to read the configuration of a</span>
<span class="sd">        hardware device, but can be also used to get the value of registers that are not implemented in</span>
<span class="sd">        `AbstractSpectrumDigitiser` and its subclasses.</span>

<span class="sd">        Args:</span>
<span class="sd">            spectrum_register (int): Identifier of the register to set. This should be a global constant imported from</span>
<span class="sd">                spectrum_gmbh.py_header.regs.</span>
<span class="sd">            length (`SpectrumRegisterLength`): A `SpectrumRegisterLength` object specifying the length of the register</span>
<span class="sd">                to set, in bits.</span>

<span class="sd">        Returns:</span>
<span class="sd">            value (int): Value of the register. This can be matched to a global constant imported from</span>
<span class="sd">                spectrum_gmbh.py_header.regs, usually using one of the Enums defined in the settings module.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">SPECTRUM_DRIVERS_FOUND</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SpectrumDriversNotFound</span><span class="p">(</span>
                <span class="s2">&quot;Cannot communicate with hardware. For testing on a system without drivers or connected hardware, use&quot;</span>
                <span class="s2">&quot; a mock device instead (e.g. MockSpectrumDigitiserCard or MockSpectrumStarHub).&quot;</span>
            <span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">connected</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">length</span> <span class="o">==</span> <span class="n">SpectrumRegisterLength</span><span class="o">.</span><span class="n">THIRTY_TWO</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">get_spectrum_i32_api_param</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_handle</span><span class="p">,</span> <span class="n">spectrum_register</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">length</span> <span class="o">==</span> <span class="n">SpectrumRegisterLength</span><span class="o">.</span><span class="n">SIXTY_FOUR</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">get_spectrum_i64_api_param</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_handle</span><span class="p">,</span> <span class="n">spectrum_register</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Spectrum integer length not recognised.&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SpectrumDeviceNotConnected</span><span class="p">(</span><span class="s2">&quot;The device has been disconnected.&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Abstract superclass which implements methods common to all Spectrum devices. Instances of this class
cannot be constructed directly. Instead, construct instances of the concrete classes listed in
spectrumdevice/__init__.py, which inherit the methods defined here. Note that the concrete mock devices override
several of the methods defined here.</p>
</div>


                            <div id="AbstractSpectrumDevice.reset" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#AbstractSpectrumDevice.reset">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">reset</span><span class="signature">(self) -&gt; None</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">reset</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Perform a software and hardware reset.</span>

<span class="sd">        All settings are set to hardware default values. The data in the boards on-board memory will be no longer</span>
<span class="sd">        valid. Any output signals (including triggers and clocks) will be disabled.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_to_spectrum_device_register</span><span class="p">(</span><span class="n">SPC_M2CMD</span><span class="p">,</span> <span class="n">M2CMD_CARD_RESET</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Perform a software and hardware reset.</p>

<p>All settings are set to hardware default values. The data in the boards on-board memory will be no longer
valid. Any output signals (including triggers and clocks) will be disabled.</p>
</div>


                            </div>
                            <div id="AbstractSpectrumDevice.start" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#AbstractSpectrumDevice.start">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">start</span><span class="signature">(self) -&gt; None</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">start</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Start the device.</span>

<span class="sd">        For digitisers in Standard Single mode (SPC_REC_STD_SINGLE), this will need to be called once for each</span>
<span class="sd">        acquisition. In-between calls, waveforms must be manually transferred from the device to a `TransferBuffer`</span>
<span class="sd">        using `start_transfer()`. The `TransferBuffer` need not be defined until after `start` is called.</span>

<span class="sd">        For digitisers in Multi FIFO mode (SPC_REC_FIFO_MULTI), it needs to be called only once, immediately followed by</span>
<span class="sd">        a call to `start_transfer()`. Frames will then be continuously streamed to the `TransferBuffer`, which must have</span>
<span class="sd">        already been defined.</span>

<span class="sd">        # todo: docstring for different AWG modes</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_to_spectrum_device_register</span><span class="p">(</span><span class="n">SPC_M2CMD</span><span class="p">,</span> <span class="n">M2CMD_CARD_START</span> <span class="o">|</span> <span class="n">M2CMD_CARD_ENABLETRIGGER</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Start the device.</p>

<p>For digitisers in Standard Single mode (SPC_REC_STD_SINGLE), this will need to be called once for each
acquisition. In-between calls, waveforms must be manually transferred from the device to a <code>TransferBuffer</code>
using <code><a href="#AbstractSpectrumDevice.start_transfer">start_transfer()</a></code>. The <code>TransferBuffer</code> need not be defined until after <code><a href="#AbstractSpectrumDevice.start">start</a></code> is called.</p>

<p>For digitisers in Multi FIFO mode (SPC_REC_FIFO_MULTI), it needs to be called only once, immediately followed by
a call to <code><a href="#AbstractSpectrumDevice.start_transfer">start_transfer()</a></code>. Frames will then be continuously streamed to the <code>TransferBuffer</code>, which must have
already been defined.</p>

<h1 id="todo-docstring-for-different-awg-modes">todo: docstring for different AWG modes</h1>
</div>


                            </div>
                            <div id="AbstractSpectrumDevice.stop" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#AbstractSpectrumDevice.stop">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">stop</span><span class="signature">(self) -&gt; None</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">stop</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Stop the device.</span>

<span class="sd">        For digitisers in FIFO mode (SPC_REC_FIFO_MULTI), this stops the continuous acquisition of waveform data that</span>
<span class="sd">        occurs after calling `start()`. Does not need to be called in Standard Single mode (SPC_REC_STD_SINGLE).</span>

<span class="sd">        # todo: docstring for AWG</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_to_spectrum_device_register</span><span class="p">(</span><span class="n">SPC_M2CMD</span><span class="p">,</span> <span class="n">M2CMD_CARD_STOP</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Stop the device.</p>

<p>For digitisers in FIFO mode (SPC_REC_FIFO_MULTI), this stops the continuous acquisition of waveform data that
occurs after calling <code><a href="#AbstractSpectrumDevice.start">start()</a></code>. Does not need to be called in Standard Single mode (SPC_REC_STD_SINGLE).</p>

<h1 id="todo-docstring-for-awg">todo: docstring for AWG</h1>
</div>


                            </div>
                            <div id="AbstractSpectrumDevice.configure_trigger" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#AbstractSpectrumDevice.configure_trigger">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">configure_trigger</span><span class="signature">(self, settings: <a href="spectrumdevice/settings.html#TriggerSettings">spectrumdevice.settings.TriggerSettings</a>) -&gt; None</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">configure_trigger</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">settings</span><span class="p">:</span> <span class="n">TriggerSettings</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Apply all the trigger settings contained in a `TriggerSettings` dataclass to the device.</span>

<span class="sd">        Args:</span>
<span class="sd">            settings (`TriggerSettings`): A `TriggerSettings` dataclass containing the setting values to apply.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_trigger_sources</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">trigger_sources</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">trigger_sources</span><span class="p">)</span> <span class="o">&amp;</span> <span class="nb">set</span><span class="p">(</span><span class="n">EXTERNAL_TRIGGER_SOURCES</span><span class="p">))</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">settings</span><span class="o">.</span><span class="n">external_trigger_mode</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">set_external_trigger_mode</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">external_trigger_mode</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">settings</span><span class="o">.</span><span class="n">external_trigger_level_in_mv</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">set_external_trigger_level_in_mv</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">external_trigger_level_in_mv</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">settings</span><span class="o">.</span><span class="n">external_trigger_pulse_width_in_samples</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">set_external_trigger_pulse_width_in_samples</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">external_trigger_pulse_width_in_samples</span><span class="p">)</span>

        <span class="c1"># Write the configuration to the card</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_to_spectrum_device_register</span><span class="p">(</span><span class="n">SPC_M2CMD</span><span class="p">,</span> <span class="n">M2CMD_CARD_WRITESETUP</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Apply all the trigger settings contained in a <code>TriggerSettings</code> dataclass to the device.</p>

<h6 id="args">Args</h6>

<ul>
<li><strong>settings (<code>TriggerSettings</code>):</strong>  A <code>TriggerSettings</code> dataclass containing the setting values to apply.</li>
</ul>
</div>


                            </div>
                            <div id="AbstractSpectrumDevice.configure_channel_pairing" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#AbstractSpectrumDevice.configure_channel_pairing">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">configure_channel_pairing</span><span class="signature">(
    self,
    channel_pair: <a href="spectrumdevice/settings.html#output_channel_pairing.ChannelPair">spectrumdevice.settings.output_channel_pairing.ChannelPair</a>,
    mode: <a href="spectrumdevice/settings.html#output_channel_pairing.ChannelPairingMode">spectrumdevice.settings.output_channel_pairing.ChannelPairingMode</a>
) -&gt; None</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">configure_channel_pairing</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel_pair</span><span class="p">:</span> <span class="n">ChannelPair</span><span class="p">,</span> <span class="n">mode</span><span class="p">:</span> <span class="n">ChannelPairingMode</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Configures a pair of consecutive channels to operate either independently, in differential mode or</span>
<span class="sd">        in double  mode. If enabling differential or double mode, then the odd-numbered channel will be automatically</span>
<span class="sd">        configured to be identical to the even-numbered channel, and the odd-numbered channel will be disabled as is</span>
<span class="sd">        required by the Spectrum API.</span>

<span class="sd">        Args:</span>
<span class="sd">            channel_pair (ChannelPair): The pair of channels to configure</span>
<span class="sd">            mode (ChannelPairingMode): The mode to enable: SINGLE, DOUBLE, or DIFFERENTIAL</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">doubling_enabled</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">mode</span> <span class="o">==</span> <span class="n">ChannelPairingMode</span><span class="o">.</span><span class="n">DOUBLE</span><span class="p">)</span>
        <span class="n">differential_mode_enabled</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">mode</span> <span class="o">==</span> <span class="n">ChannelPairingMode</span><span class="o">.</span><span class="n">DIFFERENTIAL</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">doubling_enabled</span> <span class="ow">and</span> <span class="n">channel_pair</span> <span class="ow">in</span> <span class="p">(</span><span class="n">channel_pair</span><span class="o">.</span><span class="n">CHANNEL_4_AND_5</span><span class="p">,</span> <span class="n">channel_pair</span><span class="o">.</span><span class="n">CHANNEL_6_AND_7</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Doubling can only be enabled for channel pairs CHANNEL_0_AND_1 or CHANNEL_2_AND_3.&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">doubling_enabled</span> <span class="ow">or</span> <span class="n">differential_mode_enabled</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_mirror_even_channel_settings_on_odd_channel</span><span class="p">(</span><span class="n">channel_pair</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_disable_odd_channel</span><span class="p">(</span><span class="n">channel_pair</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">write_to_spectrum_device_register</span><span class="p">(</span>
            <span class="n">DIFFERENTIAL_CHANNEL_PAIR_COMMANDS</span><span class="p">[</span><span class="n">channel_pair</span><span class="p">],</span> <span class="n">differential_mode_enabled</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_to_spectrum_device_register</span><span class="p">(</span><span class="n">DOUBLING_CHANNEL_PAIR_COMMANDS</span><span class="p">[</span><span class="n">channel_pair</span><span class="p">],</span> <span class="n">doubling_enabled</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Configures a pair of consecutive channels to operate either independently, in differential mode or
in double  mode. If enabling differential or double mode, then the odd-numbered channel will be automatically
configured to be identical to the even-numbered channel, and the odd-numbered channel will be disabled as is
required by the Spectrum API.</p>

<h6 id="args">Args</h6>

<ul>
<li><strong>channel_pair (ChannelPair):</strong>  The pair of channels to configure</li>
<li><strong>mode (ChannelPairingMode):</strong>  The mode to enable: SINGLE, DOUBLE, or DIFFERENTIAL</li>
</ul>
</div>


                            </div>
                            <div id="AbstractSpectrumDevice.write_to_spectrum_device_register" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#AbstractSpectrumDevice.write_to_spectrum_device_register">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">write_to_spectrum_device_register</span><span class="signature">(
    self,
    spectrum_register: int,
    value: int,
    length: <a href="spectrumdevice/settings.html#SpectrumRegisterLength">spectrumdevice.settings.SpectrumRegisterLength</a> = THIRTY_TWO
) -&gt; None</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">write_to_spectrum_device_register</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">spectrum_register</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">value</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">length</span><span class="p">:</span> <span class="n">SpectrumRegisterLength</span> <span class="o">=</span> <span class="n">SpectrumRegisterLength</span><span class="o">.</span><span class="n">THIRTY_TWO</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Set the value of a register on the Spectrum device.</span>

<span class="sd">        This method is used internally by `AbstractSpectrumDigitiser` and its subclasses to configure a hardware</span>
<span class="sd">        device, but can also be used to set the value of registers that are not implemented in</span>
<span class="sd">        `AbstractSpectrumDigitiser` and its subclasses.</span>

<span class="sd">        Args:</span>
<span class="sd">            spectrum_register (int): Identifier of the register to set. This should be a global constant imported from</span>
<span class="sd">                regs.py in the spectrum_gmbh package.</span>
<span class="sd">            value (int): Value to write to the register. This should be a global constant imported from</span>
<span class="sd">                regs.py in the spectrum_gmbh package.</span>
<span class="sd">            length (`SpectrumRegisterLength`): A `SpectrumRegisterLength` object specifying the length of the register</span>
<span class="sd">                to set, in bits.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">SPECTRUM_DRIVERS_FOUND</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SpectrumDriversNotFound</span><span class="p">(</span>
                <span class="s2">&quot;Cannot communicate with hardware. For testing on a system without drivers or connected hardware, use&quot;</span>
                <span class="s2">&quot; MockSpectrumDigitiserCard instead.&quot;</span>
            <span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">connected</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">length</span> <span class="o">==</span> <span class="n">SpectrumRegisterLength</span><span class="o">.</span><span class="n">THIRTY_TWO</span><span class="p">:</span>
                <span class="n">set_spectrum_i32_api_param</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_handle</span><span class="p">,</span> <span class="n">spectrum_register</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">length</span> <span class="o">==</span> <span class="n">SpectrumRegisterLength</span><span class="o">.</span><span class="n">SIXTY_FOUR</span><span class="p">:</span>
                <span class="n">set_spectrum_i64_api_param</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_handle</span><span class="p">,</span> <span class="n">spectrum_register</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Spectrum integer length not recognised.&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SpectrumDeviceNotConnected</span><span class="p">(</span><span class="s2">&quot;The device has been disconnected.&quot;</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Set the value of a register on the Spectrum device.</p>

<p>This method is used internally by <code><a href="#AbstractSpectrumDigitiser">AbstractSpectrumDigitiser</a></code> and its subclasses to configure a hardware
device, but can also be used to set the value of registers that are not implemented in
<code><a href="#AbstractSpectrumDigitiser">AbstractSpectrumDigitiser</a></code> and its subclasses.</p>

<h6 id="args">Args</h6>

<ul>
<li><strong>spectrum_register (int):</strong>  Identifier of the register to set. This should be a global constant imported from
regs.py in the spectrum_gmbh package.</li>
<li><strong>value (int):</strong>  Value to write to the register. This should be a global constant imported from
regs.py in the spectrum_gmbh package.</li>
<li><strong>length (<code>SpectrumRegisterLength</code>):</strong>  A <code>SpectrumRegisterLength</code> object specifying the length of the register
to set, in bits.</li>
</ul>
</div>


                            </div>
                            <div id="AbstractSpectrumDevice.read_spectrum_device_register" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#AbstractSpectrumDevice.read_spectrum_device_register">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">read_spectrum_device_register</span><span class="signature">(
    self,
    spectrum_register: int,
    length: <a href="spectrumdevice/settings.html#SpectrumRegisterLength">spectrumdevice.settings.SpectrumRegisterLength</a> = THIRTY_TWO
) -&gt; int</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">read_spectrum_device_register</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">spectrum_register</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">length</span><span class="p">:</span> <span class="n">SpectrumRegisterLength</span> <span class="o">=</span> <span class="n">SpectrumRegisterLength</span><span class="o">.</span><span class="n">THIRTY_TWO</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the value of a register on the Spectrum digitiser.</span>

<span class="sd">        This method is used internally by `AbstractSpectrumDigitiser` and its subclasses to read the configuration of a</span>
<span class="sd">        hardware device, but can be also used to get the value of registers that are not implemented in</span>
<span class="sd">        `AbstractSpectrumDigitiser` and its subclasses.</span>

<span class="sd">        Args:</span>
<span class="sd">            spectrum_register (int): Identifier of the register to set. This should be a global constant imported from</span>
<span class="sd">                spectrum_gmbh.py_header.regs.</span>
<span class="sd">            length (`SpectrumRegisterLength`): A `SpectrumRegisterLength` object specifying the length of the register</span>
<span class="sd">                to set, in bits.</span>

<span class="sd">        Returns:</span>
<span class="sd">            value (int): Value of the register. This can be matched to a global constant imported from</span>
<span class="sd">                spectrum_gmbh.py_header.regs, usually using one of the Enums defined in the settings module.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">SPECTRUM_DRIVERS_FOUND</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SpectrumDriversNotFound</span><span class="p">(</span>
                <span class="s2">&quot;Cannot communicate with hardware. For testing on a system without drivers or connected hardware, use&quot;</span>
                <span class="s2">&quot; a mock device instead (e.g. MockSpectrumDigitiserCard or MockSpectrumStarHub).&quot;</span>
            <span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">connected</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">length</span> <span class="o">==</span> <span class="n">SpectrumRegisterLength</span><span class="o">.</span><span class="n">THIRTY_TWO</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">get_spectrum_i32_api_param</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_handle</span><span class="p">,</span> <span class="n">spectrum_register</span><span class="p">)</span>
            <span class="k">elif</span> <span class="n">length</span> <span class="o">==</span> <span class="n">SpectrumRegisterLength</span><span class="o">.</span><span class="n">SIXTY_FOUR</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">get_spectrum_i64_api_param</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_handle</span><span class="p">,</span> <span class="n">spectrum_register</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Spectrum integer length not recognised.&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SpectrumDeviceNotConnected</span><span class="p">(</span><span class="s2">&quot;The device has been disconnected.&quot;</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Get the value of a register on the Spectrum digitiser.</p>

<p>This method is used internally by <code><a href="#AbstractSpectrumDigitiser">AbstractSpectrumDigitiser</a></code> and its subclasses to read the configuration of a
hardware device, but can be also used to get the value of registers that are not implemented in
<code><a href="#AbstractSpectrumDigitiser">AbstractSpectrumDigitiser</a></code> and its subclasses.</p>

<h6 id="args">Args</h6>

<ul>
<li><strong>spectrum_register (int):</strong>  Identifier of the register to set. This should be a global constant imported from
spectrum_gmbh.py_header.regs.</li>
<li><strong>length (<code>SpectrumRegisterLength</code>):</strong>  A <code>SpectrumRegisterLength</code> object specifying the length of the register
to set, in bits.</li>
</ul>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>value (int): Value of the register. This can be matched to a global constant imported from
      spectrum_gmbh.py_header.regs, usually using one of the Enums defined in the settings module.</p>
</blockquote>
</div>


                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>spectrumdevice.devices.abstract_device.device_interface.SpectrumDeviceInterface</dt>
                                <dd id="AbstractSpectrumDevice.connected" class="variable">connected</dd>
                <dd id="AbstractSpectrumDevice.reconnect" class="function">reconnect</dd>
                <dd id="AbstractSpectrumDevice.status" class="variable">status</dd>
                <dd id="AbstractSpectrumDevice.start_transfer" class="function">start_transfer</dd>
                <dd id="AbstractSpectrumDevice.stop_transfer" class="function">stop_transfer</dd>
                <dd id="AbstractSpectrumDevice.wait_for_transfer_chunk_to_complete" class="function">wait_for_transfer_chunk_to_complete</dd>
                <dd id="AbstractSpectrumDevice.disconnect" class="function">disconnect</dd>
                <dd id="AbstractSpectrumDevice.transfer_buffers" class="variable">transfer_buffers</dd>
                <dd id="AbstractSpectrumDevice.define_transfer_buffer" class="function">define_transfer_buffer</dd>
                <dd id="AbstractSpectrumDevice.analog_channels" class="variable">analog_channels</dd>
                <dd id="AbstractSpectrumDevice.io_lines" class="variable">io_lines</dd>
                <dd id="AbstractSpectrumDevice.enabled_analog_channel_nums" class="variable">enabled_analog_channel_nums</dd>
                <dd id="AbstractSpectrumDevice.set_enabled_analog_channels" class="function">set_enabled_analog_channels</dd>
                <dd id="AbstractSpectrumDevice.trigger_sources" class="variable">trigger_sources</dd>
                <dd id="AbstractSpectrumDevice.set_trigger_sources" class="function">set_trigger_sources</dd>
                <dd id="AbstractSpectrumDevice.external_trigger_mode" class="variable">external_trigger_mode</dd>
                <dd id="AbstractSpectrumDevice.set_external_trigger_mode" class="function">set_external_trigger_mode</dd>
                <dd id="AbstractSpectrumDevice.external_trigger_level_in_mv" class="variable">external_trigger_level_in_mv</dd>
                <dd id="AbstractSpectrumDevice.set_external_trigger_level_in_mv" class="function">set_external_trigger_level_in_mv</dd>
                <dd id="AbstractSpectrumDevice.external_trigger_pulse_width_in_samples" class="variable">external_trigger_pulse_width_in_samples</dd>
                <dd id="AbstractSpectrumDevice.set_external_trigger_pulse_width_in_samples" class="function">set_external_trigger_pulse_width_in_samples</dd>
                <dd id="AbstractSpectrumDevice.apply_channel_enabling" class="function">apply_channel_enabling</dd>
                <dd id="AbstractSpectrumDevice.clock_mode" class="variable">clock_mode</dd>
                <dd id="AbstractSpectrumDevice.set_clock_mode" class="function">set_clock_mode</dd>
                <dd id="AbstractSpectrumDevice.sample_rate_in_hz" class="variable">sample_rate_in_hz</dd>
                <dd id="AbstractSpectrumDevice.set_sample_rate_in_hz" class="function">set_sample_rate_in_hz</dd>
                <dd id="AbstractSpectrumDevice.available_io_modes" class="variable">available_io_modes</dd>
                <dd id="AbstractSpectrumDevice.feature_list" class="variable">feature_list</dd>
                <dd id="AbstractSpectrumDevice.timeout_in_ms" class="variable">timeout_in_ms</dd>
                <dd id="AbstractSpectrumDevice.set_timeout_in_ms" class="function">set_timeout_in_ms</dd>
                <dd id="AbstractSpectrumDevice.force_trigger" class="function">force_trigger</dd>
                <dd id="AbstractSpectrumDevice.bytes_per_sample" class="variable">bytes_per_sample</dd>
                <dd id="AbstractSpectrumDevice.type" class="variable">type</dd>
                <dd id="AbstractSpectrumDevice.model_number" class="variable">model_number</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="AbstractSpectrumChannel">
                                <div class="attr class">
        <a class="headerlink" href="#AbstractSpectrumChannel">#&nbsp;&nbsp</a>

        
        <span class="def">class</span>
        <span class="name">AbstractSpectrumChannel</span><wbr>(<span class="base">spectrumdevice.devices.abstract_device.channel_interfaces.SpectrumChannelInterface</span>, <span class="base">typing.Generic[~ChannelNameType]</span>):
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span><span class="k">class</span> <span class="nc">AbstractSpectrumChannel</span><span class="p">(</span><span class="n">SpectrumChannelInterface</span><span class="p">,</span> <span class="n">Generic</span><span class="p">[</span><span class="n">ChannelNameType</span><span class="p">]):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Partially implemented abstract superclass contain code common for controlling an individual channel or IO Line of</span>
<span class="sd">    all spectrum devices.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel_number</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">parent_device</span><span class="p">:</span> <span class="n">SpectrumDeviceInterface</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_make_name</span><span class="p">(</span><span class="n">channel_number</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_parent_device</span> <span class="o">=</span> <span class="n">parent_device</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_enabled</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="nd">@property</span>
    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">_name_prefix</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span>

    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">_make_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel_number</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ChannelNameType</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">name</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">ChannelNameType</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The identifier assigned by the spectrum driver, formatted as an Enum by the settings package.</span>

<span class="sd">        Returns:</span>
<span class="sd">            name (`SpectrumChannelName`): The name of the channel, as assigned by the driver.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_name</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">_number</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_name_prefix</span><span class="p">)[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>

    <span class="k">def</span> <span class="nf">write_to_parent_device_register</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">spectrum_register</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">value</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">length</span><span class="p">:</span> <span class="n">SpectrumRegisterLength</span> <span class="o">=</span> <span class="n">SpectrumRegisterLength</span><span class="o">.</span><span class="n">THIRTY_TWO</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_parent_device</span><span class="o">.</span><span class="n">write_to_spectrum_device_register</span><span class="p">(</span><span class="n">spectrum_register</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">length</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">read_parent_device_register</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">spectrum_register</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">length</span><span class="p">:</span> <span class="n">SpectrumRegisterLength</span> <span class="o">=</span> <span class="n">SpectrumRegisterLength</span><span class="o">.</span><span class="n">THIRTY_TWO</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parent_device</span><span class="o">.</span><span class="n">read_spectrum_device_register</span><span class="p">(</span><span class="n">spectrum_register</span><span class="p">,</span> <span class="n">length</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="nb">object</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="n">AbstractSpectrumChannel</span><span class="p">):</span>
            <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">name</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_parent_device</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">_parent_device</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">()</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_name</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> of </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_parent_device</span><span class="si">}</span><span class="s2">&quot;</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Partially implemented abstract superclass contain code common for controlling an individual channel or IO Line of
all spectrum devices.</p>
</div>


                            <div id="AbstractSpectrumChannel.name" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#AbstractSpectrumChannel.name">#&nbsp;&nbsp</a>

        <span class="name">name</span><span class="annotation">: ~ChannelNameType</span>
    </div>

            <div class="docstring"><p>The identifier assigned by the spectrum driver, formatted as an Enum by the settings package.</p>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>name (<code>SpectrumChannelName</code>): The name of the channel, as assigned by the driver.</p>
</blockquote>
</div>


                            </div>
                            <div id="AbstractSpectrumChannel.write_to_parent_device_register" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#AbstractSpectrumChannel.write_to_parent_device_register">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">write_to_parent_device_register</span><span class="signature">(
    self,
    spectrum_register: int,
    value: int,
    length: <a href="spectrumdevice/settings.html#SpectrumRegisterLength">spectrumdevice.settings.SpectrumRegisterLength</a> = THIRTY_TWO
) -&gt; None</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">write_to_parent_device_register</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">spectrum_register</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">value</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">length</span><span class="p">:</span> <span class="n">SpectrumRegisterLength</span> <span class="o">=</span> <span class="n">SpectrumRegisterLength</span><span class="o">.</span><span class="n">THIRTY_TWO</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_parent_device</span><span class="o">.</span><span class="n">write_to_spectrum_device_register</span><span class="p">(</span><span class="n">spectrum_register</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">length</span><span class="p">)</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="AbstractSpectrumChannel.read_parent_device_register" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#AbstractSpectrumChannel.read_parent_device_register">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">read_parent_device_register</span><span class="signature">(
    self,
    spectrum_register: int,
    length: <a href="spectrumdevice/settings.html#SpectrumRegisterLength">spectrumdevice.settings.SpectrumRegisterLength</a> = THIRTY_TWO
) -&gt; int</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">read_parent_device_register</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">spectrum_register</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">length</span><span class="p">:</span> <span class="n">SpectrumRegisterLength</span> <span class="o">=</span> <span class="n">SpectrumRegisterLength</span><span class="o">.</span><span class="n">THIRTY_TWO</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parent_device</span><span class="o">.</span><span class="n">read_spectrum_device_register</span><span class="p">(</span><span class="n">spectrum_register</span><span class="p">,</span> <span class="n">length</span><span class="p">)</span>
</pre></div>

        </details>

    

                            </div>
                </section>
                <section id="settings">
                                <div class="attr module"><a class="headerlink" href="#settings">#&nbsp;&nbsp</a>
<span class="name"><a href="spectrumdevice/settings.html">spectrumdevice.settings</a></span></div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span><span class="sd">&quot;&quot;&quot;Provides Enums and Dataclasses wrapping the register values provided by the Spectrum API, to be used for configuring</span>
<span class="sd">hardware and interpreting responses received from hardware.&quot;&quot;&quot;</span>

<span class="c1"># Christian Baker, King&#39;s College London</span>
<span class="c1"># Copyright (c) 2021 School of Biomedical Engineering &amp; Imaging Sciences, King&#39;s College London</span>
<span class="c1"># Licensed under the MIT. You may obtain a copy at https://opensource.org/licenses/MIT.</span>

<span class="kn">from</span> <span class="nn">dataclasses</span> <span class="kn">import</span> <span class="n">dataclass</span>
<span class="kn">from</span> <span class="nn">enum</span> <span class="kn">import</span> <span class="n">Enum</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span><span class="p">,</span> <span class="n">Optional</span>

<span class="kn">from</span> <span class="nn">numpy</span> <span class="kn">import</span> <span class="n">int16</span>
<span class="kn">from</span> <span class="nn">numpy.typing</span> <span class="kn">import</span> <span class="n">NDArray</span>

<span class="kn">from</span> <span class="nn">spectrumdevice.settings.card_dependent_properties</span> <span class="kn">import</span> <span class="n">ModelNumber</span>
<span class="kn">from</span> <span class="nn">spectrumdevice.settings.card_features</span> <span class="kn">import</span> <span class="n">CardFeature</span><span class="p">,</span> <span class="n">AdvancedCardFeature</span>
<span class="kn">from</span> <span class="nn">spectrumdevice.settings.channel</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">InputImpedance</span><span class="p">,</span>
    <span class="n">InputCoupling</span><span class="p">,</span>
    <span class="n">InputPath</span><span class="p">,</span>
    <span class="n">OutputChannelFilter</span><span class="p">,</span>
    <span class="n">OutputChannelStopLevelMode</span><span class="p">,</span>
<span class="p">)</span>
<span class="kn">from</span> <span class="nn">spectrumdevice.settings.device_modes</span> <span class="kn">import</span> <span class="n">AcquisitionMode</span><span class="p">,</span> <span class="n">ClockMode</span><span class="p">,</span> <span class="n">GenerationMode</span>
<span class="kn">from</span> <span class="nn">spectrumdevice.settings.io_lines</span> <span class="kn">import</span> <span class="n">IOLineMode</span><span class="p">,</span> <span class="n">AvailableIOModes</span>
<span class="kn">from</span> <span class="nn">spectrumdevice.settings.transfer_buffer</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">TransferBuffer</span><span class="p">,</span>
<span class="p">)</span>
<span class="kn">from</span> <span class="nn">spectrumdevice.settings.triggering</span> <span class="kn">import</span> <span class="n">TriggerSource</span><span class="p">,</span> <span class="n">ExternalTriggerMode</span>
<span class="kn">from</span> <span class="nn">spectrumdevice.settings.status</span> <span class="kn">import</span> <span class="n">CARD_STATUS_TYPE</span><span class="p">,</span> <span class="n">DEVICE_STATUS_TYPE</span><span class="p">,</span> <span class="n">StatusCode</span>
<span class="kn">from</span> <span class="nn">spectrumdevice.settings.pulse_generator</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">PulseGeneratorTriggerSettings</span><span class="p">,</span>
    <span class="n">PulseGeneratorTriggerMode</span><span class="p">,</span>
    <span class="n">PulseGeneratorTriggerDetectionMode</span><span class="p">,</span>
    <span class="n">PulseGeneratorMultiplexer1TriggerSource</span><span class="p">,</span>
    <span class="n">PulseGeneratorMultiplexer2TriggerSource</span><span class="p">,</span>
    <span class="n">PulseGeneratorOutputSettings</span><span class="p">,</span>
<span class="p">)</span>


<span class="n">__all__</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">&quot;AcquisitionSettings&quot;</span><span class="p">,</span>
    <span class="s2">&quot;TriggerSettings&quot;</span><span class="p">,</span>
    <span class="s2">&quot;AcquisitionMode&quot;</span><span class="p">,</span>
    <span class="s2">&quot;ClockMode&quot;</span><span class="p">,</span>
    <span class="s2">&quot;CardFeature&quot;</span><span class="p">,</span>
    <span class="s2">&quot;AdvancedCardFeature&quot;</span><span class="p">,</span>
    <span class="s2">&quot;IOLineMode&quot;</span><span class="p">,</span>
    <span class="s2">&quot;AvailableIOModes&quot;</span><span class="p">,</span>
    <span class="s2">&quot;TransferBuffer&quot;</span><span class="p">,</span>
    <span class="s2">&quot;TriggerSource&quot;</span><span class="p">,</span>
    <span class="s2">&quot;ExternalTriggerMode&quot;</span><span class="p">,</span>
    <span class="s2">&quot;CARD_STATUS_TYPE&quot;</span><span class="p">,</span>
    <span class="s2">&quot;DEVICE_STATUS_TYPE&quot;</span><span class="p">,</span>
    <span class="s2">&quot;StatusCode&quot;</span><span class="p">,</span>
    <span class="s2">&quot;SpectrumRegisterLength&quot;</span><span class="p">,</span>
    <span class="s2">&quot;ModelNumber&quot;</span><span class="p">,</span>
    <span class="s2">&quot;GenerationSettings&quot;</span><span class="p">,</span>
    <span class="s2">&quot;OutputChannelFilter&quot;</span><span class="p">,</span>
    <span class="s2">&quot;OutputChannelStopLevelMode&quot;</span><span class="p">,</span>
    <span class="s2">&quot;GenerationMode&quot;</span><span class="p">,</span>
    <span class="s2">&quot;PulseGeneratorTriggerSettings&quot;</span><span class="p">,</span>
    <span class="s2">&quot;PulseGeneratorTriggerMode&quot;</span><span class="p">,</span>
    <span class="s2">&quot;PulseGeneratorTriggerDetectionMode&quot;</span><span class="p">,</span>
    <span class="s2">&quot;PulseGeneratorMultiplexer1TriggerSource&quot;</span><span class="p">,</span>
    <span class="s2">&quot;PulseGeneratorMultiplexer2TriggerSource&quot;</span><span class="p">,</span>
    <span class="s2">&quot;PulseGeneratorOutputSettings&quot;</span><span class="p">,</span>
<span class="p">]</span>


<span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">TriggerSettings</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A dataclass collecting all settings related to triggering generation and acquisition. See Spectrum documentation.</span>
<span class="sd">    Note that pulse generators have their own trigger options.&quot;&quot;&quot;</span>

    <span class="n">trigger_sources</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">TriggerSource</span><span class="p">]</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;The trigger sources to enable&quot;&quot;&quot;</span>
    <span class="n">external_trigger_mode</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">ExternalTriggerMode</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;The external trigger mode (if an external trigger is enabled).&quot;&quot;&quot;</span>
    <span class="n">external_trigger_level_in_mv</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;The level an external signal must reach to cause a trigger event (if an external trigger is enabled).&quot;&quot;&quot;</span>
    <span class="n">external_trigger_pulse_width_in_samples</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;The required width of an external trigger pulse (if an external trigger is enabled).&quot;&quot;&quot;</span>


<span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">AcquisitionSettings</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A dataclass collecting all settings required to configure an acquisition. See Spectrum documentation.&quot;&quot;&quot;</span>

    <span class="n">acquisition_mode</span><span class="p">:</span> <span class="n">AcquisitionMode</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Standard Single mode, Multi FIF mode or an averaging mode.&quot;&quot;&quot;</span>
    <span class="n">sample_rate_in_hz</span><span class="p">:</span> <span class="nb">int</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Acquisition rate in samples per second.&quot;&quot;&quot;</span>
    <span class="n">acquisition_length_in_samples</span><span class="p">:</span> <span class="nb">int</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;The length of the recording in samples per channel.&quot;&quot;&quot;</span>
    <span class="n">pre_trigger_length_in_samples</span><span class="p">:</span> <span class="nb">int</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;The number of samples of the recording that will have been acquired before the trigger event.&quot;&quot;&quot;</span>
    <span class="n">timeout_in_ms</span><span class="p">:</span> <span class="nb">int</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;How long to wait for a trigger event before timing out.&quot;&quot;&quot;</span>
    <span class="n">enabled_channels</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;The channel indices to enable for the acquisition.&quot;&quot;&quot;</span>
    <span class="n">vertical_ranges_in_mv</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;The voltage range to apply to each enabled channel in mW.&quot;&quot;&quot;</span>
    <span class="n">vertical_offsets_in_percent</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;The DC offset to apply to each enabled channel as percentages of their vertical ranges.&quot;&quot;&quot;</span>
    <span class="n">input_impedances</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">InputImpedance</span><span class="p">]</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;The input impedance settings to apply to each channel&quot;&quot;&quot;</span>
    <span class="n">timestamping_enabled</span><span class="p">:</span> <span class="nb">bool</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;If True, Measurements will include the time at which the acquisition was triggered. Increases latency by ~10 ms.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">batch_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;The number of acquisitions to transfer to the PC before the resulting waveforms are returned by</span>
<span class="sd">      SpectrumDigitiserCard.get_waveforms().&quot;&quot;&quot;</span>
    <span class="n">number_of_averages</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;If an averaging AcquisitionMode is selected, this defines the number of averages.&quot;&quot;&quot;</span>
    <span class="n">input_couplings</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">InputCoupling</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;The coupling (AC or DC) to apply to each channel. Only available on some hardware, so default is None.&quot;&quot;&quot;</span>
    <span class="n">input_paths</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">InputPath</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;The input path (HF or Buffered) to apply to each channel. Only available on some hardware, so default is None.&quot;&quot;&quot;</span>


<span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">GenerationSettings</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A dataclass collecting all settings required to configure signal generation. See Spectrum documentation.&quot;&quot;&quot;</span>

    <span class="n">generation_mode</span><span class="p">:</span> <span class="n">GenerationMode</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;SPC_REP_STD_SINGLE , SPC_REP_STD_SINGLERESTART&quot;&quot;&quot;</span>
    <span class="n">waveform</span><span class="p">:</span> <span class="n">NDArray</span><span class="p">[</span><span class="n">int16</span><span class="p">]</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;The waveform to generate.&quot;&quot;&quot;</span>
    <span class="n">sample_rate_in_hz</span><span class="p">:</span> <span class="nb">int</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Generation rate in samples per second.&quot;&quot;&quot;</span>
    <span class="n">num_loops</span><span class="p">:</span> <span class="nb">int</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;In SPC_REP_STD_SINGLE mode: the number of times to repeat the waveform after a trigger is received. In</span>
<span class="sd">     SPC_REP_STD_SINGLERESTART: The number of times to wait for a trigger and generate waveform once.&quot;&quot;&quot;</span>
    <span class="n">enabled_channels</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;List of analog channel indices to enable for signal generation&quot;&quot;&quot;</span>
    <span class="n">signal_amplitudes_in_mv</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;The amplitude of each enabled channel.&quot;&quot;&quot;</span>
    <span class="n">dc_offsets_in_mv</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;The dc offset of each enabled channel.&quot;&quot;&quot;</span>
    <span class="n">output_filters</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">OutputChannelFilter</span><span class="p">]</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;The output filter setting for each enabled channel.&quot;&quot;&quot;</span>
    <span class="n">stop_level_modes</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">OutputChannelStopLevelMode</span><span class="p">]</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;The behavior of each enabled channel after the waveform ends.&quot;&quot;&quot;</span>
    <span class="n">custom_stop_levels</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">list</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]]]</span> <span class="o">=</span> <span class="kc">None</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;The stop level each channel will use it stop level mode is set to custom.&quot;&quot;&quot;</span>


<span class="k">class</span> <span class="nc">SpectrumRegisterLength</span><span class="p">(</span><span class="n">Enum</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Enum defining the possible lengths of a spectrum register.&quot;&quot;&quot;</span>

    <span class="n">THIRTY_TWO</span> <span class="o">=</span> <span class="mi">0</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;32 bit register&quot;&quot;&quot;</span>
    <span class="n">SIXTY_FOUR</span> <span class="o">=</span> <span class="mi">1</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;64 bit register&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span>
</pre></div>

        </details>

            <div class="docstring"><p>Provides Enums and Dataclasses wrapping the register values provided by the Spectrum API, to be used for configuring
hardware and interpreting responses received from hardware.</p>
</div>


                </section>
                <section id="features">
                                <div class="attr module"><a class="headerlink" href="#features">#&nbsp;&nbsp</a>
<span class="name"><a href="spectrumdevice/features.html">spectrumdevice.features</a></span></div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span><span class="sd">&quot;&quot;&quot;Provides Enums and Dataclasses wrapping the register values provided by the Spectrum API, to be used for configuring</span>
<span class="sd">hardware and interpreting responses received from hardware.&quot;&quot;&quot;</span>

<span class="c1"># Christian Baker, King&#39;s College London</span>
<span class="c1"># Copyright (c) 2024 School of Biomedical Engineering &amp; Imaging Sciences, King&#39;s College London</span>
<span class="c1"># Licensed under the MIT. You may obtain a copy at https://opensource.org/licenses/MIT.</span>
</pre></div>

        </details>

            <div class="docstring"><p>Provides Enums and Dataclasses wrapping the register values provided by the Spectrum API, to be used for configuring
hardware and interpreting responses received from hardware.</p>
</div>


                </section>
                <section id="Measurement">
                                <div class="attr class">
        <a class="headerlink" href="#Measurement">#&nbsp;&nbsp</a>

                <div class="decorator">@dataclass</div>

        <span class="def">class</span>
        <span class="name">Measurement</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span><span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">Measurement</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Measurement is a dataclass for storing a set of waveforms generated by a single acquisition, with a timestamp.&quot;&quot;&quot;</span>

    <span class="n">waveforms</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">NDArray</span><span class="p">[</span><span class="n">float_</span><span class="p">]]</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Contains the acquired waveforms as a list of 1D NumPy arrays&quot;&quot;&quot;</span>
    <span class="n">timestamp</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">datetime</span><span class="p">]</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;The time at which the acquisition was triggered, as a datetime.datetime object&quot;&quot;&quot;</span>
</pre></div>

        </details>

            <div class="docstring"><p>Measurement is a dataclass for storing a set of waveforms generated by a single acquisition, with a timestamp.</p>
</div>


                            <div id="Measurement.__init__" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#Measurement.__init__">#&nbsp;&nbsp</a>

        
            <span class="name">Measurement</span><span class="signature">(
    waveforms: List[numpy.ndarray[Any, numpy.dtype[numpy.float64]]],
    timestamp: Optional[datetime.datetime]
)</span>
    </div>

        
    

                            </div>
                            <div id="Measurement.waveforms" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Measurement.waveforms">#&nbsp;&nbsp</a>

        <span class="name">waveforms</span><span class="annotation">: List[numpy.ndarray[Any, numpy.dtype[numpy.float64]]]</span>
    </div>

            <div class="docstring"><p>Contains the acquired waveforms as a list of 1D NumPy arrays</p>
</div>


                            </div>
                            <div id="Measurement.timestamp" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#Measurement.timestamp">#&nbsp;&nbsp</a>

        <span class="name">timestamp</span><span class="annotation">: Optional[datetime.datetime]</span>
    </div>

            <div class="docstring"><p>The time at which the acquisition was triggered, as a datetime.datetime object</p>
</div>


                            </div>
                </section>
                <section id="SpectrumAWGCard">
                                <div class="attr class">
        <a class="headerlink" href="#SpectrumAWGCard">#&nbsp;&nbsp</a>

        
        <span class="def">class</span>
        <span class="name">SpectrumAWGCard</span><wbr>(<span class="base"><a href="#AbstractSpectrumCard">spectrumdevice.AbstractSpectrumCard[spectrumdevice.devices.awg.awg_interface.SpectrumAWGAnalogChannelInterface, spectrumdevice.devices.awg.awg_interface.SpectrumAWGIOLineInterface]</a></span>, <span class="base">spectrumdevice.devices.awg.abstract_spectrum_awg.AbstractSpectrumAWG</span>):
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span><span class="k">class</span> <span class="nc">SpectrumAWGCard</span><span class="p">(</span>
    <span class="n">AbstractSpectrumCard</span><span class="p">[</span><span class="n">SpectrumAWGAnalogChannelInterface</span><span class="p">,</span> <span class="n">SpectrumAWGIOLineInterface</span><span class="p">],</span> <span class="n">AbstractSpectrumAWG</span>
<span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Class for controlling individual Spectrum AWG cards.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">_init_analog_channels</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">SpectrumAWGAnalogChannelInterface</span><span class="p">]:</span>
        <span class="n">num_modules</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">read_spectrum_device_register</span><span class="p">(</span><span class="n">SPC_MIINST_MODULES</span><span class="p">)</span>
        <span class="n">num_channels_per_module</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">read_spectrum_device_register</span><span class="p">(</span><span class="n">SPC_MIINST_CHPERMODULE</span><span class="p">)</span>
        <span class="n">total_channels</span> <span class="o">=</span> <span class="n">num_modules</span> <span class="o">*</span> <span class="n">num_channels_per_module</span>
        <span class="k">return</span> <span class="nb">tuple</span><span class="p">([</span><span class="n">SpectrumAWGAnalogChannel</span><span class="p">(</span><span class="n">channel_number</span><span class="o">=</span><span class="n">n</span><span class="p">,</span> <span class="n">parent_device</span><span class="o">=</span><span class="bp">self</span><span class="p">)</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">total_channels</span><span class="p">)])</span>

    <span class="k">def</span> <span class="nf">_init_io_lines</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Sequence</span><span class="p">[</span><span class="n">SpectrumAWGIOLineInterface</span><span class="p">]:</span>
        <span class="k">if</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">model_number</span><span class="o">.</span><span class="n">value</span> <span class="o">&amp;</span> <span class="n">TYP_SERIESMASK</span><span class="p">)</span> <span class="o">==</span> <span class="n">TYP_M2PEXPSERIES</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">tuple</span><span class="p">([</span><span class="n">SpectrumAWGIOLine</span><span class="p">(</span><span class="n">channel_number</span><span class="o">=</span><span class="n">n</span><span class="p">,</span> <span class="n">parent_device</span><span class="o">=</span><span class="bp">self</span><span class="p">)</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">)])</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s2">&quot;Don&#39;t know how many IO lines other types of card have. Only M2P series.&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">transfer_waveform</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">waveform</span><span class="p">:</span> <span class="n">NDArray</span><span class="p">[</span><span class="n">int16</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot; &quot;Write an arbitrary waveform to the card&#39;s on-board memory.</span>

<span class="sd">        Args:</span>
<span class="sd">            waveform (NDArray[int16]): A numpy array of signed 16-bit integers representing the samples of the</span>
<span class="sd">                waveform to transfer. The amplitude and offset of the generated signals can be set per-channel (see</span>
<span class="sd">                SpectrumAWGAnalogChannel), so the waveform provided here should be scaled to the full range of int16</span>
<span class="sd">                (i.e. -32767 to 32767). Must be at least 16 samples long. If the waveform length is not a multiple of</span>
<span class="sd">                8 samples, the waveform will be zero-padded so its length is the next multiple of 8.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">waveform</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">16</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Waveform must be at least 16 samples long&quot;</span><span class="p">)</span>
        <span class="n">step_size</span> <span class="o">=</span> <span class="n">get_memsize_step_size</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_model_number</span><span class="p">)</span>
        <span class="n">remainder</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">waveform</span><span class="p">)</span> <span class="o">%</span> <span class="n">step_size</span>
        <span class="k">if</span> <span class="n">remainder</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                <span class="s2">&quot;Length of waveform transmitted to AWG is not a multiple of 8 samples. Waveform in card memory will be &quot;</span>
                <span class="s2">&quot;zero-padded to the next multiple of 8.&quot;</span>
            <span class="p">)</span>
        <span class="n">coerced_mem_size</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">waveform</span><span class="p">)</span> <span class="k">if</span> <span class="n">remainder</span> <span class="o">==</span> <span class="mi">0</span> <span class="k">else</span> <span class="nb">len</span><span class="p">(</span><span class="n">waveform</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="n">step_size</span> <span class="o">-</span> <span class="n">remainder</span><span class="p">)</span>

        <span class="n">buffer</span> <span class="o">=</span> <span class="n">transfer_buffer_factory</span><span class="p">(</span>
            <span class="n">buffer_type</span><span class="o">=</span><span class="n">BufferType</span><span class="o">.</span><span class="n">SPCM_BUF_DATA</span><span class="p">,</span>
            <span class="n">direction</span><span class="o">=</span><span class="n">BufferDirection</span><span class="o">.</span><span class="n">SPCM_DIR_PCTOCARD</span><span class="p">,</span>
            <span class="n">size_in_samples</span><span class="o">=</span><span class="n">coerced_mem_size</span><span class="p">,</span>
            <span class="n">bytes_per_sample</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">bytes_per_sample</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">buffer</span><span class="o">.</span><span class="n">data_array</span><span class="p">[:]</span> <span class="o">=</span> <span class="n">concatenate</span><span class="p">([</span><span class="n">waveform</span><span class="p">,</span> <span class="n">zeros</span><span class="p">(</span><span class="n">coerced_mem_size</span> <span class="o">-</span> <span class="nb">len</span><span class="p">(</span><span class="n">waveform</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="n">int16</span><span class="p">)])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">define_transfer_buffer</span><span class="p">((</span><span class="n">buffer</span><span class="p">,))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_to_spectrum_device_register</span><span class="p">(</span><span class="n">SPC_MEMSIZE</span><span class="p">,</span> <span class="n">coerced_mem_size</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">start_transfer</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_transfer_chunk_to_complete</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">define_transfer_buffer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">buffer</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Sequence</span><span class="p">[</span><span class="n">TransferBuffer</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Provide a `TransferBuffer` object for transferring samples to the card. This is called internally when</span>
<span class="sd">        transfer_waveform is used to send a single waveform to the card.</span>

<span class="sd">        Args:</span>
<span class="sd">            buffer (Optional[List[`TransferBuffer`]]): A length-1 list containing a pre-constructed</span>
<span class="sd">                `TransferBuffer`  The buffer should have buffer_type=BufferType.SPCM_BUF_DATA and</span>
<span class="sd">                BufferDirection.SPCM_DIR_PCTOCARD. The size of the buffer should be chosen according to the</span>
<span class="sd">                length of the data to transfer.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">buffer</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">&quot;You must provide a preconfigured buffer for transferring samples to an AWG because the&quot;</span>
                <span class="s2">&quot;buffer size cannot be inferred.&quot;</span>
            <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_transfer_buffer</span> <span class="o">=</span> <span class="n">buffer</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">set_transfer_buffer</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_handle</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_transfer_buffer</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Class for controlling individual Spectrum AWG cards.</p>
</div>


                            <div id="SpectrumAWGCard.transfer_waveform" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SpectrumAWGCard.transfer_waveform">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">transfer_waveform</span><span class="signature">(
    self,
    waveform: numpy.ndarray[typing.Any, numpy.dtype[numpy.int16]]
) -&gt; None</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">transfer_waveform</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">waveform</span><span class="p">:</span> <span class="n">NDArray</span><span class="p">[</span><span class="n">int16</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot; &quot;Write an arbitrary waveform to the card&#39;s on-board memory.</span>

<span class="sd">        Args:</span>
<span class="sd">            waveform (NDArray[int16]): A numpy array of signed 16-bit integers representing the samples of the</span>
<span class="sd">                waveform to transfer. The amplitude and offset of the generated signals can be set per-channel (see</span>
<span class="sd">                SpectrumAWGAnalogChannel), so the waveform provided here should be scaled to the full range of int16</span>
<span class="sd">                (i.e. -32767 to 32767). Must be at least 16 samples long. If the waveform length is not a multiple of</span>
<span class="sd">                8 samples, the waveform will be zero-padded so its length is the next multiple of 8.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">waveform</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">16</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Waveform must be at least 16 samples long&quot;</span><span class="p">)</span>
        <span class="n">step_size</span> <span class="o">=</span> <span class="n">get_memsize_step_size</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_model_number</span><span class="p">)</span>
        <span class="n">remainder</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">waveform</span><span class="p">)</span> <span class="o">%</span> <span class="n">step_size</span>
        <span class="k">if</span> <span class="n">remainder</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
                <span class="s2">&quot;Length of waveform transmitted to AWG is not a multiple of 8 samples. Waveform in card memory will be &quot;</span>
                <span class="s2">&quot;zero-padded to the next multiple of 8.&quot;</span>
            <span class="p">)</span>
        <span class="n">coerced_mem_size</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">waveform</span><span class="p">)</span> <span class="k">if</span> <span class="n">remainder</span> <span class="o">==</span> <span class="mi">0</span> <span class="k">else</span> <span class="nb">len</span><span class="p">(</span><span class="n">waveform</span><span class="p">)</span> <span class="o">+</span> <span class="p">(</span><span class="n">step_size</span> <span class="o">-</span> <span class="n">remainder</span><span class="p">)</span>

        <span class="n">buffer</span> <span class="o">=</span> <span class="n">transfer_buffer_factory</span><span class="p">(</span>
            <span class="n">buffer_type</span><span class="o">=</span><span class="n">BufferType</span><span class="o">.</span><span class="n">SPCM_BUF_DATA</span><span class="p">,</span>
            <span class="n">direction</span><span class="o">=</span><span class="n">BufferDirection</span><span class="o">.</span><span class="n">SPCM_DIR_PCTOCARD</span><span class="p">,</span>
            <span class="n">size_in_samples</span><span class="o">=</span><span class="n">coerced_mem_size</span><span class="p">,</span>
            <span class="n">bytes_per_sample</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">bytes_per_sample</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">buffer</span><span class="o">.</span><span class="n">data_array</span><span class="p">[:]</span> <span class="o">=</span> <span class="n">concatenate</span><span class="p">([</span><span class="n">waveform</span><span class="p">,</span> <span class="n">zeros</span><span class="p">(</span><span class="n">coerced_mem_size</span> <span class="o">-</span> <span class="nb">len</span><span class="p">(</span><span class="n">waveform</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="n">int16</span><span class="p">)])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">define_transfer_buffer</span><span class="p">((</span><span class="n">buffer</span><span class="p">,))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_to_spectrum_device_register</span><span class="p">(</span><span class="n">SPC_MEMSIZE</span><span class="p">,</span> <span class="n">coerced_mem_size</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">start_transfer</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_transfer_chunk_to_complete</span><span class="p">()</span>
</pre></div>

        </details>

            <div class="docstring"><p>"Write an arbitrary waveform to the card's on-board memory.</p>

<h6 id="args">Args</h6>

<ul>
<li><strong>waveform (NDArray[int16]):</strong>  A numpy array of signed 16-bit integers representing the samples of the
waveform to transfer. The amplitude and offset of the generated signals can be set per-channel (see
SpectrumAWGAnalogChannel), so the waveform provided here should be scaled to the full range of int16
(i.e. -32767 to 32767). Must be at least 16 samples long. If the waveform length is not a multiple of
8 samples, the waveform will be zero-padded so its length is the next multiple of 8.</li>
</ul>
</div>


                            </div>
                            <div id="SpectrumAWGCard.define_transfer_buffer" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SpectrumAWGCard.define_transfer_buffer">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">define_transfer_buffer</span><span class="signature">(
    self,
    buffer: Optional[Sequence[<a href="spectrumdevice/settings.html#transfer_buffer.TransferBuffer">spectrumdevice.settings.transfer_buffer.TransferBuffer</a>]] = None
) -&gt; None</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">define_transfer_buffer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">buffer</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Sequence</span><span class="p">[</span><span class="n">TransferBuffer</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Provide a `TransferBuffer` object for transferring samples to the card. This is called internally when</span>
<span class="sd">        transfer_waveform is used to send a single waveform to the card.</span>

<span class="sd">        Args:</span>
<span class="sd">            buffer (Optional[List[`TransferBuffer`]]): A length-1 list containing a pre-constructed</span>
<span class="sd">                `TransferBuffer`  The buffer should have buffer_type=BufferType.SPCM_BUF_DATA and</span>
<span class="sd">                BufferDirection.SPCM_DIR_PCTOCARD. The size of the buffer should be chosen according to the</span>
<span class="sd">                length of the data to transfer.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">buffer</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">&quot;You must provide a preconfigured buffer for transferring samples to an AWG because the&quot;</span>
                <span class="s2">&quot;buffer size cannot be inferred.&quot;</span>
            <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_transfer_buffer</span> <span class="o">=</span> <span class="n">buffer</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">set_transfer_buffer</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_handle</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_transfer_buffer</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Provide a <code>TransferBuffer</code> object for transferring samples to the card. This is called internally when
transfer_waveform is used to send a single waveform to the card.</p>

<h6 id="args">Args</h6>

<ul>
<li><strong>buffer (Optional[List[<code>TransferBuffer</code>]]):</strong>  A length-1 list containing a pre-constructed
<code>TransferBuffer</code>  The buffer should have buffer_type=BufferType.SPCM_BUF_DATA and
BufferDirection.SPCM_DIR_PCTOCARD. The size of the buffer should be chosen according to the
length of the data to transfer.</li>
</ul>
</div>


                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt><a href="#AbstractSpectrumCard">AbstractSpectrumCard</a></dt>
                                <dd id="SpectrumAWGCard.__init__" class="function"><a href="#AbstractSpectrumCard.__init__">AbstractSpectrumCard</a></dd>
                <dd id="SpectrumAWGCard.model_number" class="variable"><a href="#AbstractSpectrumCard.model_number">model_number</a></dd>
                <dd id="SpectrumAWGCard.reconnect" class="function"><a href="#AbstractSpectrumCard.reconnect">reconnect</a></dd>
                <dd id="SpectrumAWGCard.status" class="variable"><a href="#AbstractSpectrumCard.status">status</a></dd>
                <dd id="SpectrumAWGCard.start_transfer" class="function"><a href="#AbstractSpectrumCard.start_transfer">start_transfer</a></dd>
                <dd id="SpectrumAWGCard.stop_transfer" class="function"><a href="#AbstractSpectrumCard.stop_transfer">stop_transfer</a></dd>
                <dd id="SpectrumAWGCard.wait_for_transfer_chunk_to_complete" class="function"><a href="#AbstractSpectrumCard.wait_for_transfer_chunk_to_complete">wait_for_transfer_chunk_to_complete</a></dd>
                <dd id="SpectrumAWGCard.transfer_buffers" class="variable"><a href="#AbstractSpectrumCard.transfer_buffers">transfer_buffers</a></dd>
                <dd id="SpectrumAWGCard.disconnect" class="function"><a href="#AbstractSpectrumCard.disconnect">disconnect</a></dd>
                <dd id="SpectrumAWGCard.connected" class="variable"><a href="#AbstractSpectrumCard.connected">connected</a></dd>
                <dd id="SpectrumAWGCard.analog_channels" class="variable"><a href="#AbstractSpectrumCard.analog_channels">analog_channels</a></dd>
                <dd id="SpectrumAWGCard.io_lines" class="variable"><a href="#AbstractSpectrumCard.io_lines">io_lines</a></dd>
                <dd id="SpectrumAWGCard.enabled_analog_channel_nums" class="variable"><a href="#AbstractSpectrumCard.enabled_analog_channel_nums">enabled_analog_channel_nums</a></dd>
                <dd id="SpectrumAWGCard.set_enabled_analog_channels" class="function"><a href="#AbstractSpectrumCard.set_enabled_analog_channels">set_enabled_analog_channels</a></dd>
                <dd id="SpectrumAWGCard.trigger_sources" class="variable"><a href="#AbstractSpectrumCard.trigger_sources">trigger_sources</a></dd>
                <dd id="SpectrumAWGCard.set_trigger_sources" class="function"><a href="#AbstractSpectrumCard.set_trigger_sources">set_trigger_sources</a></dd>
                <dd id="SpectrumAWGCard.external_trigger_mode" class="variable"><a href="#AbstractSpectrumCard.external_trigger_mode">external_trigger_mode</a></dd>
                <dd id="SpectrumAWGCard.set_external_trigger_mode" class="function"><a href="#AbstractSpectrumCard.set_external_trigger_mode">set_external_trigger_mode</a></dd>
                <dd id="SpectrumAWGCard.external_trigger_level_in_mv" class="variable"><a href="#AbstractSpectrumCard.external_trigger_level_in_mv">external_trigger_level_in_mv</a></dd>
                <dd id="SpectrumAWGCard.set_external_trigger_level_in_mv" class="function"><a href="#AbstractSpectrumCard.set_external_trigger_level_in_mv">set_external_trigger_level_in_mv</a></dd>
                <dd id="SpectrumAWGCard.external_trigger_pulse_width_in_samples" class="variable"><a href="#AbstractSpectrumCard.external_trigger_pulse_width_in_samples">external_trigger_pulse_width_in_samples</a></dd>
                <dd id="SpectrumAWGCard.set_external_trigger_pulse_width_in_samples" class="function"><a href="#AbstractSpectrumCard.set_external_trigger_pulse_width_in_samples">set_external_trigger_pulse_width_in_samples</a></dd>
                <dd id="SpectrumAWGCard.apply_channel_enabling" class="function"><a href="#AbstractSpectrumCard.apply_channel_enabling">apply_channel_enabling</a></dd>
                <dd id="SpectrumAWGCard.timeout_in_ms" class="variable"><a href="#AbstractSpectrumCard.timeout_in_ms">timeout_in_ms</a></dd>
                <dd id="SpectrumAWGCard.set_timeout_in_ms" class="function"><a href="#AbstractSpectrumCard.set_timeout_in_ms">set_timeout_in_ms</a></dd>
                <dd id="SpectrumAWGCard.clock_mode" class="variable"><a href="#AbstractSpectrumCard.clock_mode">clock_mode</a></dd>
                <dd id="SpectrumAWGCard.set_clock_mode" class="function"><a href="#AbstractSpectrumCard.set_clock_mode">set_clock_mode</a></dd>
                <dd id="SpectrumAWGCard.available_io_modes" class="variable"><a href="#AbstractSpectrumCard.available_io_modes">available_io_modes</a></dd>
                <dd id="SpectrumAWGCard.feature_list" class="variable"><a href="#AbstractSpectrumCard.feature_list">feature_list</a></dd>
                <dd id="SpectrumAWGCard.sample_rate_in_hz" class="variable"><a href="#AbstractSpectrumCard.sample_rate_in_hz">sample_rate_in_hz</a></dd>
                <dd id="SpectrumAWGCard.set_sample_rate_in_hz" class="function"><a href="#AbstractSpectrumCard.set_sample_rate_in_hz">set_sample_rate_in_hz</a></dd>
                <dd id="SpectrumAWGCard.type" class="variable"><a href="#AbstractSpectrumCard.type">type</a></dd>
                <dd id="SpectrumAWGCard.force_trigger" class="function"><a href="#AbstractSpectrumCard.force_trigger">force_trigger</a></dd>
                <dd id="SpectrumAWGCard.bytes_per_sample" class="variable"><a href="#AbstractSpectrumCard.bytes_per_sample">bytes_per_sample</a></dd>

            </div>
            <div><dt>spectrumdevice.devices.awg.abstract_spectrum_awg.AbstractSpectrumAWG</dt>
                                <dd id="SpectrumAWGCard.configure_generation" class="function">configure_generation</dd>
                <dd id="SpectrumAWGCard.generation_mode" class="variable">generation_mode</dd>
                <dd id="SpectrumAWGCard.set_generation_mode" class="function">set_generation_mode</dd>
                <dd id="SpectrumAWGCard.num_loops" class="variable">num_loops</dd>
                <dd id="SpectrumAWGCard.set_num_loops" class="function">set_num_loops</dd>

            </div>
            <div><dt><a href="#AbstractSpectrumDevice">AbstractSpectrumDevice</a></dt>
                                <dd id="SpectrumAWGCard.reset" class="function"><a href="#AbstractSpectrumDevice.reset">reset</a></dd>
                <dd id="SpectrumAWGCard.start" class="function"><a href="#AbstractSpectrumDevice.start">start</a></dd>
                <dd id="SpectrumAWGCard.stop" class="function"><a href="#AbstractSpectrumDevice.stop">stop</a></dd>
                <dd id="SpectrumAWGCard.configure_trigger" class="function"><a href="#AbstractSpectrumDevice.configure_trigger">configure_trigger</a></dd>
                <dd id="SpectrumAWGCard.configure_channel_pairing" class="function"><a href="#AbstractSpectrumDevice.configure_channel_pairing">configure_channel_pairing</a></dd>
                <dd id="SpectrumAWGCard.write_to_spectrum_device_register" class="function"><a href="#AbstractSpectrumDevice.write_to_spectrum_device_register">write_to_spectrum_device_register</a></dd>
                <dd id="SpectrumAWGCard.read_spectrum_device_register" class="function"><a href="#AbstractSpectrumDevice.read_spectrum_device_register">read_spectrum_device_register</a></dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="MockSpectrumAWGCard">
                                <div class="attr class">
        <a class="headerlink" href="#MockSpectrumAWGCard">#&nbsp;&nbsp</a>

        
        <span class="def">class</span>
        <span class="name">MockSpectrumAWGCard</span><wbr>(<span class="base"><a href="#AbstractSpectrumCard">spectrumdevice.AbstractSpectrumCard[spectrumdevice.devices.awg.awg_interface.SpectrumAWGAnalogChannelInterface, spectrumdevice.devices.awg.awg_interface.SpectrumAWGIOLineInterface]</a></span>, <span class="base">spectrumdevice.devices.awg.abstract_spectrum_awg.AbstractSpectrumAWG</span>):
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span><span class="k">class</span> <span class="nc">MockSpectrumAWGCard</span><span class="p">(</span><span class="n">MockAbstractSpectrumAWG</span><span class="p">,</span> <span class="n">MockAbstractSpectrumCard</span><span class="p">,</span> <span class="n">SpectrumAWGCard</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A mock AWG card.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">device_number</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">model</span><span class="p">:</span> <span class="n">ModelNumber</span><span class="p">,</span>
        <span class="n">num_modules</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">num_channels_per_module</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">card_features</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">list</span><span class="p">[</span><span class="n">CardFeature</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">advanced_card_features</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">list</span><span class="p">[</span><span class="n">AdvancedCardFeature</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Args:</span>
<span class="sd">            device_number (int): The index of the mock device to create. Used to create a name for the device which is</span>
<span class="sd">                used internally.</span>
<span class="sd">            model (ModelNumber): The model of card to mock.</span>
<span class="sd">            num_modules (int): The number of internal modules to assign the mock card. Default 2. On real hardware, this</span>
<span class="sd">                is read from the device so does not need to be set. See the Spectrum documentation to work out how many</span>
<span class="sd">                modules your hardware has.</span>
<span class="sd">            num_channels_per_module (int): The number of channels per module. Default 4 (so 8 channels in total). On</span>
<span class="sd">                real hardware, this is read from the device so does not need to be set.</span>
<span class="sd">            card_features (list[CardFeature]): List of available features of the mock device</span>
<span class="sd">            advanced_card_features (list[AdvancedCardFeature]): List of available advanced features of the mock device</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">card_type</span><span class="o">=</span><span class="n">CardType</span><span class="o">.</span><span class="n">SPCM_TYPE_AO</span><span class="p">,</span>
            <span class="n">device_number</span><span class="o">=</span><span class="n">device_number</span><span class="p">,</span>
            <span class="n">model</span><span class="o">=</span><span class="n">model</span><span class="p">,</span>
            <span class="n">num_modules</span><span class="o">=</span><span class="n">num_modules</span><span class="p">,</span>
            <span class="n">num_channels_per_module</span><span class="o">=</span><span class="n">num_channels_per_module</span><span class="p">,</span>
            <span class="n">card_features</span><span class="o">=</span><span class="n">card_features</span> <span class="k">if</span> <span class="n">card_features</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="p">[],</span>
            <span class="n">advanced_card_features</span><span class="o">=</span><span class="n">advanced_card_features</span> <span class="k">if</span> <span class="n">advanced_card_features</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="p">[],</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_visa_string</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">define_transfer_buffer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">buffer</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Sequence</span><span class="p">[</span><span class="n">TransferBuffer</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create or provide a `TransferBuffer` object for transferring samples from the device.</span>

<span class="sd">        See SpectrumAWGCard.define_transfer_buffer(). This mock implementation is identical apart from that it</span>
<span class="sd">        does not write to any hardware device.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">buffer</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">&quot;You must provide a preconfigured buffer for transferring samples to an AWG because the&quot;</span>
                <span class="s2">&quot;buffer size cannot be inferred.&quot;</span>
            <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_transfer_buffer</span> <span class="o">=</span> <span class="n">buffer</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>

        </details>

            <div class="docstring"><p>A mock AWG card.</p>
</div>


                            <div id="MockSpectrumAWGCard.__init__" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#MockSpectrumAWGCard.__init__">#&nbsp;&nbsp</a>

        
            <span class="name">MockSpectrumAWGCard</span><span class="signature">(
    device_number: int,
    model: <a href="spectrumdevice/settings.html#card_dependent_properties.ModelNumber">spectrumdevice.settings.card_dependent_properties.ModelNumber</a>,
    num_modules: int,
    num_channels_per_module: int,
    card_features: Optional[list[<a href="spectrumdevice/settings.html#card_features.CardFeature">spectrumdevice.settings.card_features.CardFeature</a>]] = None,
    advanced_card_features: Optional[list[<a href="spectrumdevice/settings.html#card_features.AdvancedCardFeature">spectrumdevice.settings.card_features.AdvancedCardFeature</a>]] = None
)</span>
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">device_number</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">model</span><span class="p">:</span> <span class="n">ModelNumber</span><span class="p">,</span>
        <span class="n">num_modules</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">num_channels_per_module</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">card_features</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">list</span><span class="p">[</span><span class="n">CardFeature</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">advanced_card_features</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">list</span><span class="p">[</span><span class="n">AdvancedCardFeature</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Args:</span>
<span class="sd">            device_number (int): The index of the mock device to create. Used to create a name for the device which is</span>
<span class="sd">                used internally.</span>
<span class="sd">            model (ModelNumber): The model of card to mock.</span>
<span class="sd">            num_modules (int): The number of internal modules to assign the mock card. Default 2. On real hardware, this</span>
<span class="sd">                is read from the device so does not need to be set. See the Spectrum documentation to work out how many</span>
<span class="sd">                modules your hardware has.</span>
<span class="sd">            num_channels_per_module (int): The number of channels per module. Default 4 (so 8 channels in total). On</span>
<span class="sd">                real hardware, this is read from the device so does not need to be set.</span>
<span class="sd">            card_features (list[CardFeature]): List of available features of the mock device</span>
<span class="sd">            advanced_card_features (list[AdvancedCardFeature]): List of available advanced features of the mock device</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span>
            <span class="n">card_type</span><span class="o">=</span><span class="n">CardType</span><span class="o">.</span><span class="n">SPCM_TYPE_AO</span><span class="p">,</span>
            <span class="n">device_number</span><span class="o">=</span><span class="n">device_number</span><span class="p">,</span>
            <span class="n">model</span><span class="o">=</span><span class="n">model</span><span class="p">,</span>
            <span class="n">num_modules</span><span class="o">=</span><span class="n">num_modules</span><span class="p">,</span>
            <span class="n">num_channels_per_module</span><span class="o">=</span><span class="n">num_channels_per_module</span><span class="p">,</span>
            <span class="n">card_features</span><span class="o">=</span><span class="n">card_features</span> <span class="k">if</span> <span class="n">card_features</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="p">[],</span>
            <span class="n">advanced_card_features</span><span class="o">=</span><span class="n">advanced_card_features</span> <span class="k">if</span> <span class="n">advanced_card_features</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="p">[],</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_visa_string</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><h6 id="args">Args</h6>

<ul>
<li><strong>device_number (int):</strong>  The index of the mock device to create. Used to create a name for the device which is
used internally.</li>
<li><strong>model (ModelNumber):</strong>  The model of card to mock.</li>
<li><strong>num_modules (int):</strong>  The number of internal modules to assign the mock card. Default 2. On real hardware, this
is read from the device so does not need to be set. See the Spectrum documentation to work out how many
modules your hardware has.</li>
<li><strong>num_channels_per_module (int):</strong>  The number of channels per module. Default 4 (so 8 channels in total). On
real hardware, this is read from the device so does not need to be set.</li>
<li><strong>card_features (list[CardFeature]):</strong>  List of available features of the mock device</li>
<li><strong>advanced_card_features (list[AdvancedCardFeature]):</strong>  List of available advanced features of the mock device</li>
</ul>
</div>


                            </div>
                            <div id="MockSpectrumAWGCard.define_transfer_buffer" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#MockSpectrumAWGCard.define_transfer_buffer">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">define_transfer_buffer</span><span class="signature">(
    self,
    buffer: Optional[Sequence[<a href="spectrumdevice/settings.html#transfer_buffer.TransferBuffer">spectrumdevice.settings.transfer_buffer.TransferBuffer</a>]] = None
) -&gt; None</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">define_transfer_buffer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">buffer</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Sequence</span><span class="p">[</span><span class="n">TransferBuffer</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Create or provide a `TransferBuffer` object for transferring samples from the device.</span>

<span class="sd">        See SpectrumAWGCard.define_transfer_buffer(). This mock implementation is identical apart from that it</span>
<span class="sd">        does not write to any hardware device.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">buffer</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">&quot;You must provide a preconfigured buffer for transferring samples to an AWG because the&quot;</span>
                <span class="s2">&quot;buffer size cannot be inferred.&quot;</span>
            <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_transfer_buffer</span> <span class="o">=</span> <span class="n">buffer</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>

        </details>

            <div class="docstring"><p>Create or provide a <code>TransferBuffer</code> object for transferring samples from the device.</p>

<p>See <a href="#SpectrumAWGCard.define_transfer_buffer">SpectrumAWGCard.define_transfer_buffer()</a>. This mock implementation is identical apart from that it
does not write to any hardware device.</p>
</div>


                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>spectrumdevice.devices.mocks.mock_abstract_devices.MockAbstractSpectrumDevice</dt>
                                <dd id="MockSpectrumAWGCard.write_to_spectrum_device_register" class="function">write_to_spectrum_device_register</dd>
                <dd id="MockSpectrumAWGCard.read_spectrum_device_register" class="function">read_spectrum_device_register</dd>

            </div>
            <div><dt><a href="#SpectrumAWGCard">SpectrumAWGCard</a></dt>
                                <dd id="MockSpectrumAWGCard.transfer_waveform" class="function"><a href="#SpectrumAWGCard.transfer_waveform">transfer_waveform</a></dd>

            </div>
            <div><dt><a href="#AbstractSpectrumCard">AbstractSpectrumCard</a></dt>
                                <dd id="MockSpectrumAWGCard.model_number" class="variable"><a href="#AbstractSpectrumCard.model_number">model_number</a></dd>
                <dd id="MockSpectrumAWGCard.reconnect" class="function"><a href="#AbstractSpectrumCard.reconnect">reconnect</a></dd>
                <dd id="MockSpectrumAWGCard.status" class="variable"><a href="#AbstractSpectrumCard.status">status</a></dd>
                <dd id="MockSpectrumAWGCard.start_transfer" class="function"><a href="#AbstractSpectrumCard.start_transfer">start_transfer</a></dd>
                <dd id="MockSpectrumAWGCard.stop_transfer" class="function"><a href="#AbstractSpectrumCard.stop_transfer">stop_transfer</a></dd>
                <dd id="MockSpectrumAWGCard.wait_for_transfer_chunk_to_complete" class="function"><a href="#AbstractSpectrumCard.wait_for_transfer_chunk_to_complete">wait_for_transfer_chunk_to_complete</a></dd>
                <dd id="MockSpectrumAWGCard.transfer_buffers" class="variable"><a href="#AbstractSpectrumCard.transfer_buffers">transfer_buffers</a></dd>
                <dd id="MockSpectrumAWGCard.disconnect" class="function"><a href="#AbstractSpectrumCard.disconnect">disconnect</a></dd>
                <dd id="MockSpectrumAWGCard.connected" class="variable"><a href="#AbstractSpectrumCard.connected">connected</a></dd>
                <dd id="MockSpectrumAWGCard.analog_channels" class="variable"><a href="#AbstractSpectrumCard.analog_channels">analog_channels</a></dd>
                <dd id="MockSpectrumAWGCard.io_lines" class="variable"><a href="#AbstractSpectrumCard.io_lines">io_lines</a></dd>
                <dd id="MockSpectrumAWGCard.enabled_analog_channel_nums" class="variable"><a href="#AbstractSpectrumCard.enabled_analog_channel_nums">enabled_analog_channel_nums</a></dd>
                <dd id="MockSpectrumAWGCard.set_enabled_analog_channels" class="function"><a href="#AbstractSpectrumCard.set_enabled_analog_channels">set_enabled_analog_channels</a></dd>
                <dd id="MockSpectrumAWGCard.trigger_sources" class="variable"><a href="#AbstractSpectrumCard.trigger_sources">trigger_sources</a></dd>
                <dd id="MockSpectrumAWGCard.set_trigger_sources" class="function"><a href="#AbstractSpectrumCard.set_trigger_sources">set_trigger_sources</a></dd>
                <dd id="MockSpectrumAWGCard.external_trigger_mode" class="variable"><a href="#AbstractSpectrumCard.external_trigger_mode">external_trigger_mode</a></dd>
                <dd id="MockSpectrumAWGCard.set_external_trigger_mode" class="function"><a href="#AbstractSpectrumCard.set_external_trigger_mode">set_external_trigger_mode</a></dd>
                <dd id="MockSpectrumAWGCard.external_trigger_level_in_mv" class="variable"><a href="#AbstractSpectrumCard.external_trigger_level_in_mv">external_trigger_level_in_mv</a></dd>
                <dd id="MockSpectrumAWGCard.set_external_trigger_level_in_mv" class="function"><a href="#AbstractSpectrumCard.set_external_trigger_level_in_mv">set_external_trigger_level_in_mv</a></dd>
                <dd id="MockSpectrumAWGCard.external_trigger_pulse_width_in_samples" class="variable"><a href="#AbstractSpectrumCard.external_trigger_pulse_width_in_samples">external_trigger_pulse_width_in_samples</a></dd>
                <dd id="MockSpectrumAWGCard.set_external_trigger_pulse_width_in_samples" class="function"><a href="#AbstractSpectrumCard.set_external_trigger_pulse_width_in_samples">set_external_trigger_pulse_width_in_samples</a></dd>
                <dd id="MockSpectrumAWGCard.apply_channel_enabling" class="function"><a href="#AbstractSpectrumCard.apply_channel_enabling">apply_channel_enabling</a></dd>
                <dd id="MockSpectrumAWGCard.timeout_in_ms" class="variable"><a href="#AbstractSpectrumCard.timeout_in_ms">timeout_in_ms</a></dd>
                <dd id="MockSpectrumAWGCard.set_timeout_in_ms" class="function"><a href="#AbstractSpectrumCard.set_timeout_in_ms">set_timeout_in_ms</a></dd>
                <dd id="MockSpectrumAWGCard.clock_mode" class="variable"><a href="#AbstractSpectrumCard.clock_mode">clock_mode</a></dd>
                <dd id="MockSpectrumAWGCard.set_clock_mode" class="function"><a href="#AbstractSpectrumCard.set_clock_mode">set_clock_mode</a></dd>
                <dd id="MockSpectrumAWGCard.available_io_modes" class="variable"><a href="#AbstractSpectrumCard.available_io_modes">available_io_modes</a></dd>
                <dd id="MockSpectrumAWGCard.feature_list" class="variable"><a href="#AbstractSpectrumCard.feature_list">feature_list</a></dd>
                <dd id="MockSpectrumAWGCard.sample_rate_in_hz" class="variable"><a href="#AbstractSpectrumCard.sample_rate_in_hz">sample_rate_in_hz</a></dd>
                <dd id="MockSpectrumAWGCard.set_sample_rate_in_hz" class="function"><a href="#AbstractSpectrumCard.set_sample_rate_in_hz">set_sample_rate_in_hz</a></dd>
                <dd id="MockSpectrumAWGCard.type" class="variable"><a href="#AbstractSpectrumCard.type">type</a></dd>
                <dd id="MockSpectrumAWGCard.force_trigger" class="function"><a href="#AbstractSpectrumCard.force_trigger">force_trigger</a></dd>
                <dd id="MockSpectrumAWGCard.bytes_per_sample" class="variable"><a href="#AbstractSpectrumCard.bytes_per_sample">bytes_per_sample</a></dd>

            </div>
            <div><dt>spectrumdevice.devices.awg.abstract_spectrum_awg.AbstractSpectrumAWG</dt>
                                <dd id="MockSpectrumAWGCard.configure_generation" class="function">configure_generation</dd>
                <dd id="MockSpectrumAWGCard.generation_mode" class="variable">generation_mode</dd>
                <dd id="MockSpectrumAWGCard.set_generation_mode" class="function">set_generation_mode</dd>
                <dd id="MockSpectrumAWGCard.num_loops" class="variable">num_loops</dd>
                <dd id="MockSpectrumAWGCard.set_num_loops" class="function">set_num_loops</dd>

            </div>
            <div><dt><a href="#AbstractSpectrumDevice">AbstractSpectrumDevice</a></dt>
                                <dd id="MockSpectrumAWGCard.reset" class="function"><a href="#AbstractSpectrumDevice.reset">reset</a></dd>
                <dd id="MockSpectrumAWGCard.start" class="function"><a href="#AbstractSpectrumDevice.start">start</a></dd>
                <dd id="MockSpectrumAWGCard.stop" class="function"><a href="#AbstractSpectrumDevice.stop">stop</a></dd>
                <dd id="MockSpectrumAWGCard.configure_trigger" class="function"><a href="#AbstractSpectrumDevice.configure_trigger">configure_trigger</a></dd>
                <dd id="MockSpectrumAWGCard.configure_channel_pairing" class="function"><a href="#AbstractSpectrumDevice.configure_channel_pairing">configure_channel_pairing</a></dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="SpectrumAWGAnalogChannel">
                                <div class="attr class">
        <a class="headerlink" href="#SpectrumAWGAnalogChannel">#&nbsp;&nbsp</a>

        
        <span class="def">class</span>
        <span class="name">SpectrumAWGAnalogChannel</span><wbr>(<span class="base"><a href="#AbstractSpectrumChannel">spectrumdevice.AbstractSpectrumChannel[spectrumdevice.settings.channel.SpectrumAnalogChannelName]</a></span>, <span class="base">spectrumdevice.devices.abstract_device.channel_interfaces.SpectrumAnalogChannelInterface</span>, <span class="base">abc.ABC</span>):
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span><span class="k">class</span> <span class="nc">SpectrumAWGAnalogChannel</span><span class="p">(</span><span class="n">AbstractSpectrumAnalogChannel</span><span class="p">,</span> <span class="n">SpectrumAWGAnalogChannelInterface</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Class for controlling analog channels of an AWG.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent_device</span><span class="p">:</span> <span class="n">SpectrumAWGInterface</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">parent_device</span><span class="o">.</span><span class="n">type</span> <span class="o">!=</span> <span class="n">CardType</span><span class="o">.</span><span class="n">SPCM_TYPE_AO</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SpectrumCardIsNotAnAWG</span><span class="p">(</span><span class="n">parent_device</span><span class="o">.</span><span class="n">type</span><span class="p">)</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">parent_device</span><span class="o">=</span><span class="n">parent_device</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>  <span class="c1"># pass unused args up the inheritance hierarchy</span>

    <span class="k">def</span> <span class="nf">_get_settings_as_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="n">SpectrumAWGAnalogChannel</span><span class="o">.</span><span class="n">signal_amplitude_in_mv</span><span class="o">.</span><span class="vm">__name__</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">signal_amplitude_in_mv</span><span class="p">,</span>
            <span class="n">SpectrumAWGAnalogChannel</span><span class="o">.</span><span class="n">dc_offset_in_mv</span><span class="o">.</span><span class="vm">__name__</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">dc_offset_in_mv</span><span class="p">,</span>
            <span class="n">SpectrumAWGAnalogChannel</span><span class="o">.</span><span class="n">output_filter</span><span class="o">.</span><span class="vm">__name__</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">output_filter</span><span class="p">,</span>
            <span class="n">SpectrumAWGAnalogChannel</span><span class="o">.</span><span class="n">stop_level_mode</span><span class="o">.</span><span class="vm">__name__</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">stop_level_mode</span><span class="p">,</span>
            <span class="n">SpectrumAWGAnalogChannel</span><span class="o">.</span><span class="n">stop_level_custom_value</span><span class="o">.</span><span class="vm">__name__</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">stop_level_custom_value</span><span class="p">,</span>
        <span class="p">}</span>

    <span class="k">def</span> <span class="nf">_set_settings_from_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">settings</span><span class="p">:</span> <span class="nb">dict</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_signal_amplitude_in_mv</span><span class="p">(</span><span class="n">settings</span><span class="p">[</span><span class="n">SpectrumAWGAnalogChannel</span><span class="o">.</span><span class="n">signal_amplitude_in_mv</span><span class="o">.</span><span class="vm">__name__</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_dc_offset_in_mv</span><span class="p">(</span><span class="n">settings</span><span class="p">[</span><span class="n">SpectrumAWGAnalogChannel</span><span class="o">.</span><span class="n">dc_offset_in_mv</span><span class="o">.</span><span class="vm">__name__</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_output_filter</span><span class="p">(</span><span class="n">settings</span><span class="p">[</span><span class="n">SpectrumAWGAnalogChannel</span><span class="o">.</span><span class="n">output_filter</span><span class="o">.</span><span class="vm">__name__</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_stop_level_mode</span><span class="p">(</span><span class="n">settings</span><span class="p">[</span><span class="n">SpectrumAWGAnalogChannel</span><span class="o">.</span><span class="n">stop_level_mode</span><span class="o">.</span><span class="vm">__name__</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_stop_level_custom_value</span><span class="p">(</span><span class="n">settings</span><span class="p">[</span><span class="n">SpectrumAWGAnalogChannel</span><span class="o">.</span><span class="n">stop_level_custom_value</span><span class="o">.</span><span class="vm">__name__</span><span class="p">])</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">is_switched_on</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Returns &quot;True&quot; if the output channel is switched on, or &quot;False&quot; if it is muted.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">bool</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_parent_device</span><span class="o">.</span><span class="n">read_spectrum_device_register</span><span class="p">(</span><span class="n">OUTPUT_CHANNEL_ENABLED_COMMANDS</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_number</span><span class="p">]))</span>

    <span class="k">def</span> <span class="nf">set_is_switched_on</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">is_enabled</span><span class="p">:</span> <span class="nb">bool</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Switches the output channel on (&quot;True&quot;) or off (&quot;False&quot;).&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_parent_device</span><span class="o">.</span><span class="n">write_to_spectrum_device_register</span><span class="p">(</span>
            <span class="n">OUTPUT_CHANNEL_ENABLED_COMMANDS</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_number</span><span class="p">],</span> <span class="nb">int</span><span class="p">(</span><span class="n">is_enabled</span><span class="p">)</span>
        <span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">dc_offset_in_mv</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The current output signal DC offset in mV.</span>

<span class="sd">        Returns:</span>
<span class="sd">            dc_offset (int): The currently set output signal DC offset in mV.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parent_device</span><span class="o">.</span><span class="n">read_spectrum_device_register</span><span class="p">(</span><span class="n">OUTPUT_DC_OFFSET_COMMANDS</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_number</span><span class="p">])</span>

    <span class="k">def</span> <span class="nf">set_dc_offset_in_mv</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dc_offset</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">dc_offset</span> <span class="o">&gt;</span> <span class="n">OUTPUT_AMPLITUDE_LIMITS_IN_MV</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_parent_device</span><span class="o">.</span><span class="n">model_number</span><span class="p">]:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Max allowed signal DC offset for card </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_parent_device</span><span class="o">.</span><span class="n">model_number</span><span class="si">}</span><span class="s2"> is &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">OUTPUT_AMPLITUDE_LIMITS_IN_MV</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_parent_device</span><span class="o">.</span><span class="n">model_number</span><span class="p">]</span><span class="si">}</span><span class="s2"> mV, &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;so </span><span class="si">{</span><span class="n">dc_offset</span><span class="si">}</span><span class="s2"> mV is too high.&quot;</span>
            <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_parent_device</span><span class="o">.</span><span class="n">write_to_spectrum_device_register</span><span class="p">(</span><span class="n">OUTPUT_DC_OFFSET_COMMANDS</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_number</span><span class="p">],</span> <span class="n">dc_offset</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">signal_amplitude_in_mv</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The current output signal amplitude in mV.</span>

<span class="sd">        Returns:</span>
<span class="sd">            amplitude (int): The currently set output signal amplitude in mV.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parent_device</span><span class="o">.</span><span class="n">read_spectrum_device_register</span><span class="p">(</span><span class="n">OUTPUT_AMPLITUDE_COMMANDS</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_number</span><span class="p">])</span>

    <span class="k">def</span> <span class="nf">set_signal_amplitude_in_mv</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">amplitude</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">amplitude</span> <span class="o">&gt;</span> <span class="n">OUTPUT_AMPLITUDE_LIMITS_IN_MV</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_parent_device</span><span class="o">.</span><span class="n">model_number</span><span class="p">]:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Max allowed signal amplitude for card </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_parent_device</span><span class="o">.</span><span class="n">model_number</span><span class="si">}</span><span class="s2"> is &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">OUTPUT_AMPLITUDE_LIMITS_IN_MV</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_parent_device</span><span class="o">.</span><span class="n">model_number</span><span class="p">]</span><span class="si">}</span><span class="s2"> mV, &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;so </span><span class="si">{</span><span class="n">amplitude</span><span class="si">}</span><span class="s2"> mV is too high.&quot;</span>
            <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_parent_device</span><span class="o">.</span><span class="n">write_to_spectrum_device_register</span><span class="p">(</span><span class="n">OUTPUT_AMPLITUDE_COMMANDS</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_number</span><span class="p">],</span> <span class="n">amplitude</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">output_filter</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">OutputChannelFilter</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The current output filter setting.</span>

<span class="sd">        Returns:</span>
<span class="sd">            output_filter (OutputChannelFilter): The currently set output filter.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">OutputChannelFilter</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_parent_device</span><span class="o">.</span><span class="n">read_spectrum_device_register</span><span class="p">(</span><span class="n">OUTPUT_FILTER_COMMANDS</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_number</span><span class="p">])</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">set_output_filter</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">output_filter</span><span class="p">:</span> <span class="n">OutputChannelFilter</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_parent_device</span><span class="o">.</span><span class="n">write_to_spectrum_device_register</span><span class="p">(</span><span class="n">OUTPUT_FILTER_COMMANDS</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_number</span><span class="p">],</span> <span class="n">output_filter</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">stop_level_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">OutputChannelStopLevelMode</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Sets the behavior of the channel when the output is stopped or playback finished.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">OutputChannelStopLevelMode</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_parent_device</span><span class="o">.</span><span class="n">read_spectrum_device_register</span><span class="p">(</span><span class="n">OUTPUT_STOP_LEVEL_MODE_COMMANDS</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_number</span><span class="p">])</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">set_stop_level_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mode</span><span class="p">:</span> <span class="n">OutputChannelStopLevelMode</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_parent_device</span><span class="o">.</span><span class="n">write_to_spectrum_device_register</span><span class="p">(</span><span class="n">OUTPUT_STOP_LEVEL_MODE_COMMANDS</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_number</span><span class="p">],</span> <span class="n">mode</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">stop_level_custom_value</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">int16</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Sets the level to which the output will be set when the output is stopped or playback finished and</span>
<span class="sd">        stop_level_mode is set to `OutputChannelStopLevelMode.SPCM_STOPLVL_CUSTOM`.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">int16</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_parent_device</span><span class="o">.</span><span class="n">read_spectrum_device_register</span><span class="p">(</span><span class="n">OUTPUT_STOP_LEVEL_CUSTOM_VALUE_COMMANDS</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_number</span><span class="p">])</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">set_stop_level_custom_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">int16</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_parent_device</span><span class="o">.</span><span class="n">write_to_spectrum_device_register</span><span class="p">(</span>
            <span class="n">OUTPUT_STOP_LEVEL_CUSTOM_VALUE_COMMANDS</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_number</span><span class="p">],</span> <span class="nb">int</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Class for controlling analog channels of an AWG.</p>
</div>


                            <div id="SpectrumAWGAnalogChannel.__init__" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SpectrumAWGAnalogChannel.__init__">#&nbsp;&nbsp</a>

        
            <span class="name">SpectrumAWGAnalogChannel</span><span class="signature">(
    parent_device: <a href="#devices.awg.awg_interface.SpectrumAWGInterface">spectrumdevice.devices.awg.awg_interface.SpectrumAWGInterface</a>,
    **kwargs: Any
)</span>
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent_device</span><span class="p">:</span> <span class="n">SpectrumAWGInterface</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">parent_device</span><span class="o">.</span><span class="n">type</span> <span class="o">!=</span> <span class="n">CardType</span><span class="o">.</span><span class="n">SPCM_TYPE_AO</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SpectrumCardIsNotAnAWG</span><span class="p">(</span><span class="n">parent_device</span><span class="o">.</span><span class="n">type</span><span class="p">)</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">parent_device</span><span class="o">=</span><span class="n">parent_device</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>  <span class="c1"># pass unused args up the inheritance hierarchy</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="SpectrumAWGAnalogChannel.is_switched_on" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#SpectrumAWGAnalogChannel.is_switched_on">#&nbsp;&nbsp</a>

        <span class="name">is_switched_on</span><span class="annotation">: bool</span>
    </div>

            <div class="docstring"><p>Returns "True" if the output channel is switched on, or "False" if it is muted.</p>
</div>


                            </div>
                            <div id="SpectrumAWGAnalogChannel.set_is_switched_on" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SpectrumAWGAnalogChannel.set_is_switched_on">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_is_switched_on</span><span class="signature">(self, is_enabled: bool) -&gt; None</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">set_is_switched_on</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">is_enabled</span><span class="p">:</span> <span class="nb">bool</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Switches the output channel on (&quot;True&quot;) or off (&quot;False&quot;).&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_parent_device</span><span class="o">.</span><span class="n">write_to_spectrum_device_register</span><span class="p">(</span>
            <span class="n">OUTPUT_CHANNEL_ENABLED_COMMANDS</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_number</span><span class="p">],</span> <span class="nb">int</span><span class="p">(</span><span class="n">is_enabled</span><span class="p">)</span>
        <span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Switches the output channel on ("True") or off ("False").</p>
</div>


                            </div>
                            <div id="SpectrumAWGAnalogChannel.dc_offset_in_mv" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#SpectrumAWGAnalogChannel.dc_offset_in_mv">#&nbsp;&nbsp</a>

        <span class="name">dc_offset_in_mv</span><span class="annotation">: int</span>
    </div>

            <div class="docstring"><p>The current output signal DC offset in mV.</p>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>dc_offset (int): The currently set output signal DC offset in mV.</p>
</blockquote>
</div>


                            </div>
                            <div id="SpectrumAWGAnalogChannel.set_dc_offset_in_mv" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SpectrumAWGAnalogChannel.set_dc_offset_in_mv">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_dc_offset_in_mv</span><span class="signature">(self, dc_offset: int) -&gt; None</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">set_dc_offset_in_mv</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dc_offset</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">dc_offset</span> <span class="o">&gt;</span> <span class="n">OUTPUT_AMPLITUDE_LIMITS_IN_MV</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_parent_device</span><span class="o">.</span><span class="n">model_number</span><span class="p">]:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Max allowed signal DC offset for card </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_parent_device</span><span class="o">.</span><span class="n">model_number</span><span class="si">}</span><span class="s2"> is &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">OUTPUT_AMPLITUDE_LIMITS_IN_MV</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_parent_device</span><span class="o">.</span><span class="n">model_number</span><span class="p">]</span><span class="si">}</span><span class="s2"> mV, &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;so </span><span class="si">{</span><span class="n">dc_offset</span><span class="si">}</span><span class="s2"> mV is too high.&quot;</span>
            <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_parent_device</span><span class="o">.</span><span class="n">write_to_spectrum_device_register</span><span class="p">(</span><span class="n">OUTPUT_DC_OFFSET_COMMANDS</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_number</span><span class="p">],</span> <span class="n">dc_offset</span><span class="p">)</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="SpectrumAWGAnalogChannel.signal_amplitude_in_mv" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#SpectrumAWGAnalogChannel.signal_amplitude_in_mv">#&nbsp;&nbsp</a>

        <span class="name">signal_amplitude_in_mv</span><span class="annotation">: int</span>
    </div>

            <div class="docstring"><p>The current output signal amplitude in mV.</p>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>amplitude (int): The currently set output signal amplitude in mV.</p>
</blockquote>
</div>


                            </div>
                            <div id="SpectrumAWGAnalogChannel.set_signal_amplitude_in_mv" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SpectrumAWGAnalogChannel.set_signal_amplitude_in_mv">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_signal_amplitude_in_mv</span><span class="signature">(self, amplitude: int) -&gt; None</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">set_signal_amplitude_in_mv</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">amplitude</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">amplitude</span> <span class="o">&gt;</span> <span class="n">OUTPUT_AMPLITUDE_LIMITS_IN_MV</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_parent_device</span><span class="o">.</span><span class="n">model_number</span><span class="p">]:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Max allowed signal amplitude for card </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_parent_device</span><span class="o">.</span><span class="n">model_number</span><span class="si">}</span><span class="s2"> is &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">OUTPUT_AMPLITUDE_LIMITS_IN_MV</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_parent_device</span><span class="o">.</span><span class="n">model_number</span><span class="p">]</span><span class="si">}</span><span class="s2"> mV, &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;so </span><span class="si">{</span><span class="n">amplitude</span><span class="si">}</span><span class="s2"> mV is too high.&quot;</span>
            <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_parent_device</span><span class="o">.</span><span class="n">write_to_spectrum_device_register</span><span class="p">(</span><span class="n">OUTPUT_AMPLITUDE_COMMANDS</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_number</span><span class="p">],</span> <span class="n">amplitude</span><span class="p">)</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="SpectrumAWGAnalogChannel.output_filter" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#SpectrumAWGAnalogChannel.output_filter">#&nbsp;&nbsp</a>

        <span class="name">output_filter</span><span class="annotation">: <a href="spectrumdevice/settings.html#channel.OutputChannelFilter">spectrumdevice.settings.channel.OutputChannelFilter</a></span>
    </div>

            <div class="docstring"><p>The current output filter setting.</p>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>output_filter (OutputChannelFilter): The currently set output filter.</p>
</blockquote>
</div>


                            </div>
                            <div id="SpectrumAWGAnalogChannel.set_output_filter" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SpectrumAWGAnalogChannel.set_output_filter">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_output_filter</span><span class="signature">(
    self,
    output_filter: <a href="spectrumdevice/settings.html#channel.OutputChannelFilter">spectrumdevice.settings.channel.OutputChannelFilter</a>
) -&gt; None</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">set_output_filter</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">output_filter</span><span class="p">:</span> <span class="n">OutputChannelFilter</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_parent_device</span><span class="o">.</span><span class="n">write_to_spectrum_device_register</span><span class="p">(</span><span class="n">OUTPUT_FILTER_COMMANDS</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_number</span><span class="p">],</span> <span class="n">output_filter</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="SpectrumAWGAnalogChannel.stop_level_mode" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#SpectrumAWGAnalogChannel.stop_level_mode">#&nbsp;&nbsp</a>

        <span class="name">stop_level_mode</span><span class="annotation">: <a href="spectrumdevice/settings.html#channel.OutputChannelStopLevelMode">spectrumdevice.settings.channel.OutputChannelStopLevelMode</a></span>
    </div>

            <div class="docstring"><p>Sets the behavior of the channel when the output is stopped or playback finished.</p>
</div>


                            </div>
                            <div id="SpectrumAWGAnalogChannel.set_stop_level_mode" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SpectrumAWGAnalogChannel.set_stop_level_mode">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_stop_level_mode</span><span class="signature">(
    self,
    mode: <a href="spectrumdevice/settings.html#channel.OutputChannelStopLevelMode">spectrumdevice.settings.channel.OutputChannelStopLevelMode</a>
) -&gt; None</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">set_stop_level_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mode</span><span class="p">:</span> <span class="n">OutputChannelStopLevelMode</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_parent_device</span><span class="o">.</span><span class="n">write_to_spectrum_device_register</span><span class="p">(</span><span class="n">OUTPUT_STOP_LEVEL_MODE_COMMANDS</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_number</span><span class="p">],</span> <span class="n">mode</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="SpectrumAWGAnalogChannel.stop_level_custom_value" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#SpectrumAWGAnalogChannel.stop_level_custom_value">#&nbsp;&nbsp</a>

        <span class="name">stop_level_custom_value</span><span class="annotation">: numpy.int16</span>
    </div>

            <div class="docstring"><p>Sets the level to which the output will be set when the output is stopped or playback finished and
stop_level_mode is set to <code>OutputChannelStopLevelMode.SPCM_STOPLVL_CUSTOM</code>.</p>
</div>


                            </div>
                            <div id="SpectrumAWGAnalogChannel.set_stop_level_custom_value" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SpectrumAWGAnalogChannel.set_stop_level_custom_value">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_stop_level_custom_value</span><span class="signature">(self, value: numpy.int16) -&gt; None</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">set_stop_level_custom_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="n">int16</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_parent_device</span><span class="o">.</span><span class="n">write_to_spectrum_device_register</span><span class="p">(</span>
            <span class="n">OUTPUT_STOP_LEVEL_CUSTOM_VALUE_COMMANDS</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_number</span><span class="p">],</span> <span class="nb">int</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="p">)</span>
</pre></div>

        </details>

    

                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt><a href="#AbstractSpectrumChannel">AbstractSpectrumChannel</a></dt>
                                <dd id="SpectrumAWGAnalogChannel.name" class="variable"><a href="#AbstractSpectrumChannel.name">name</a></dd>
                <dd id="SpectrumAWGAnalogChannel.write_to_parent_device_register" class="function"><a href="#AbstractSpectrumChannel.write_to_parent_device_register">write_to_parent_device_register</a></dd>
                <dd id="SpectrumAWGAnalogChannel.read_parent_device_register" class="function"><a href="#AbstractSpectrumChannel.read_parent_device_register">read_parent_device_register</a></dd>

            </div>
            <div><dt>spectrumdevice.devices.abstract_device.channel_interfaces.SpectrumAnalogChannelInterface</dt>
                                <dd id="SpectrumAWGAnalogChannel.copy_settings_from_other_channel" class="function">copy_settings_from_other_channel</dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="SpectrumAWGIOLine">
                                <div class="attr class">
        <a class="headerlink" href="#SpectrumAWGIOLine">#&nbsp;&nbsp</a>

        
        <span class="def">class</span>
        <span class="name">SpectrumAWGIOLine</span><wbr>(<span class="base">spectrumdevice.devices.abstract_device.channel_interfaces.SpectrumIOLineInterface</span>, <span class="base"><a href="#AbstractSpectrumChannel">spectrumdevice.AbstractSpectrumChannel[spectrumdevice.settings.io_lines.SpectrumIOLineName]</a></span>, <span class="base">abc.ABC</span>):
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span><span class="k">class</span> <span class="nc">SpectrumAWGIOLine</span><span class="p">(</span><span class="n">AbstractSpectrumIOLine</span><span class="p">,</span> <span class="n">SpectrumAWGIOLineInterface</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Class for controlling Multipurpose IO lines of an AWG (e.g. X0, X1, X2 and X3)&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent_device</span><span class="p">:</span> <span class="n">AbstractSpectrumCard</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">parent_device</span><span class="o">.</span><span class="n">type</span> <span class="o">!=</span> <span class="n">CardType</span><span class="o">.</span><span class="n">SPCM_TYPE_AO</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SpectrumCardIsNotAnAWG</span><span class="p">(</span><span class="n">parent_device</span><span class="o">.</span><span class="n">type</span><span class="p">)</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">parent_device</span><span class="o">=</span><span class="n">parent_device</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>  <span class="c1"># pass unused args up the inheritance hierarchy</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_dig_out_settings</span> <span class="o">=</span> <span class="n">DigOutIOLineModeSettings</span><span class="p">(</span>
            <span class="n">source_channel</span><span class="o">=</span><span class="n">DigOutSourceChannel</span><span class="o">.</span><span class="n">SPCM_XMODE_DIGOUTSRC_CH0</span><span class="p">,</span>
            <span class="n">source_bit</span><span class="o">=</span><span class="n">DigOutSourceBit</span><span class="o">.</span><span class="n">SPCM_XMODE_DIGOUTSRC_BIT15</span><span class="p">,</span>
        <span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">dig_out_settings</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DigOutIOLineModeSettings</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_dig_out_settings</span>

    <span class="k">def</span> <span class="nf">set_dig_out_settings</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dig_out_settings</span><span class="p">:</span> <span class="n">DigOutIOLineModeSettings</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_dig_out_settings</span> <span class="o">=</span> <span class="n">dig_out_settings</span>

    <span class="k">def</span> <span class="nf">_get_io_line_mode_settings_mask</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mode</span><span class="p">:</span> <span class="n">IOLineMode</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">mode</span> <span class="o">==</span> <span class="n">IOLineMode</span><span class="o">.</span><span class="n">SPCM_XMODE_DIGOUT</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_dig_out_settings</span><span class="o">.</span><span class="n">source_channel</span><span class="o">.</span><span class="n">value</span> <span class="o">|</span> <span class="bp">self</span><span class="o">.</span><span class="n">_dig_out_settings</span><span class="o">.</span><span class="n">source_bit</span><span class="o">.</span><span class="n">value</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="mi">0</span>
</pre></div>

        </details>

            <div class="docstring"><p>Class for controlling Multipurpose IO lines of an AWG (e.g. X0, X1, X2 and X3)</p>
</div>


                            <div id="SpectrumAWGIOLine.__init__" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SpectrumAWGIOLine.__init__">#&nbsp;&nbsp</a>

        
            <span class="name">SpectrumAWGIOLine</span><span class="signature">(
    parent_device: <a href="#devices.abstract_device.abstract_spectrum_card.AbstractSpectrumCard">spectrumdevice.devices.abstract_device.abstract_spectrum_card.AbstractSpectrumCard</a>,
    **kwargs: Any
)</span>
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent_device</span><span class="p">:</span> <span class="n">AbstractSpectrumCard</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">parent_device</span><span class="o">.</span><span class="n">type</span> <span class="o">!=</span> <span class="n">CardType</span><span class="o">.</span><span class="n">SPCM_TYPE_AO</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SpectrumCardIsNotAnAWG</span><span class="p">(</span><span class="n">parent_device</span><span class="o">.</span><span class="n">type</span><span class="p">)</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">parent_device</span><span class="o">=</span><span class="n">parent_device</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>  <span class="c1"># pass unused args up the inheritance hierarchy</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_dig_out_settings</span> <span class="o">=</span> <span class="n">DigOutIOLineModeSettings</span><span class="p">(</span>
            <span class="n">source_channel</span><span class="o">=</span><span class="n">DigOutSourceChannel</span><span class="o">.</span><span class="n">SPCM_XMODE_DIGOUTSRC_CH0</span><span class="p">,</span>
            <span class="n">source_bit</span><span class="o">=</span><span class="n">DigOutSourceBit</span><span class="o">.</span><span class="n">SPCM_XMODE_DIGOUTSRC_BIT15</span><span class="p">,</span>
        <span class="p">)</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="SpectrumAWGIOLine.dig_out_settings" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#SpectrumAWGIOLine.dig_out_settings">#&nbsp;&nbsp</a>

        <span class="name">dig_out_settings</span><span class="annotation">: <a href="spectrumdevice/settings.html#io_lines.DigOutIOLineModeSettings">spectrumdevice.settings.io_lines.DigOutIOLineModeSettings</a></span>
    </div>

    

                            </div>
                            <div id="SpectrumAWGIOLine.set_dig_out_settings" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#SpectrumAWGIOLine.set_dig_out_settings">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_dig_out_settings</span><span class="signature">(
    self,
    dig_out_settings: <a href="spectrumdevice/settings.html#io_lines.DigOutIOLineModeSettings">spectrumdevice.settings.io_lines.DigOutIOLineModeSettings</a>
) -&gt; None</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">set_dig_out_settings</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dig_out_settings</span><span class="p">:</span> <span class="n">DigOutIOLineModeSettings</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_dig_out_settings</span> <span class="o">=</span> <span class="n">dig_out_settings</span>
</pre></div>

        </details>

    

                            </div>
                            <div class="inherited">
                                <h5>Inherited Members</h5>
                                <dl>
                                    <div><dt>spectrumdevice.devices.abstract_device.abstract_spectrum_io_line.AbstractSpectrumIOLine</dt>
                                <dd id="SpectrumAWGIOLine.mode" class="variable">mode</dd>
                <dd id="SpectrumAWGIOLine.set_mode" class="function">set_mode</dd>
                <dd id="SpectrumAWGIOLine.pulse_generator" class="variable">pulse_generator</dd>

            </div>
            <div><dt><a href="#AbstractSpectrumChannel">AbstractSpectrumChannel</a></dt>
                                <dd id="SpectrumAWGIOLine.name" class="variable"><a href="#AbstractSpectrumChannel.name">name</a></dd>
                <dd id="SpectrumAWGIOLine.write_to_parent_device_register" class="function"><a href="#AbstractSpectrumChannel.write_to_parent_device_register">write_to_parent_device_register</a></dd>
                <dd id="SpectrumAWGIOLine.read_parent_device_register" class="function"><a href="#AbstractSpectrumChannel.read_parent_device_register">read_parent_device_register</a></dd>

            </div>
                                </dl>
                            </div>
                </section>
                <section id="PulseGenerator">
                                <div class="attr class">
        <a class="headerlink" href="#PulseGenerator">#&nbsp;&nbsp</a>

        
        <span class="def">class</span>
        <span class="name">PulseGenerator</span><wbr>(<span class="base"><a href="spectrumdevice/features/pulse_generator/interfaces.html#PulseGeneratorInterface">spectrumdevice.features.pulse_generator.interfaces.PulseGeneratorInterface</a></span>):
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span><span class="k">class</span> <span class="nc">PulseGenerator</span><span class="p">(</span><span class="n">PulseGeneratorInterface</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Class for controlling pulse generators associated with IO lines (requires firmware option be enabled).&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">:</span> <span class="n">SpectrumIOLineInterface</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_parent_io_line</span> <span class="o">=</span> <span class="n">parent</span>
        <span class="c1"># last char of IO line name is IO line chanel number, which is used to set pulse generator number</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_number</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">parent</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">name</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
        <span class="n">available_advanced_features</span> <span class="o">=</span> <span class="n">decode_advanced_card_features</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">read_parent_device_register</span><span class="p">(</span><span class="n">SPC_PCIEXTFEATURES</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="n">AdvancedCardFeature</span><span class="o">.</span><span class="n">SPCM_FEAT_EXTFW_PULSEGEN</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">available_advanced_features</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SpectrumFeatureNotSupportedByCard</span><span class="p">(</span>
                <span class="n">call_description</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="fm">__str__</span><span class="p">()</span> <span class="o">+</span> <span class="s2">&quot;.__init__()&quot;</span><span class="p">,</span>
                <span class="n">message</span><span class="o">=</span><span class="s2">&quot;Pulse generator firmware option not installed on device.&quot;</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_multiplexer_1</span> <span class="o">=</span> <span class="n">PulseGeneratorMultiplexer1</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_multiplexer_2</span> <span class="o">=</span> <span class="n">PulseGeneratorMultiplexer2</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">configure_output</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">settings</span><span class="p">:</span> <span class="n">PulseGeneratorOutputSettings</span><span class="p">,</span> <span class="n">coerce</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PulseGeneratorOutputSettings</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Configure all pulse generator output settings at once. By default, all values are coerced to the</span>
<span class="sd">        nearest values allowed by the hardware, and the coerced values are returned.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_output_inversion</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">output_inversion</span><span class="p">)</span>
        <span class="n">coerced_settings</span> <span class="o">=</span> <span class="n">PulseGeneratorOutputSettings</span><span class="p">(</span>
            <span class="n">period_in_seconds</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">set_period_in_seconds</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">period_in_seconds</span><span class="p">,</span> <span class="n">coerce</span><span class="o">=</span><span class="n">coerce</span><span class="p">),</span>
            <span class="n">duty_cycle</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">set_duty_cycle</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">duty_cycle</span><span class="p">,</span> <span class="n">coerce</span><span class="o">=</span><span class="n">coerce</span><span class="p">),</span>
            <span class="n">num_pulses</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">set_num_pulses</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">num_pulses</span><span class="p">,</span> <span class="n">coerce</span><span class="o">=</span><span class="n">coerce</span><span class="p">),</span>
            <span class="n">delay_in_seconds</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">set_delay_in_seconds</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">delay_in_seconds</span><span class="p">,</span> <span class="n">coerce</span><span class="o">=</span><span class="n">coerce</span><span class="p">),</span>
            <span class="n">output_inversion</span><span class="o">=</span><span class="n">settings</span><span class="o">.</span><span class="n">output_inversion</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_to_parent_device_register</span><span class="p">(</span><span class="n">SPC_M2CMD</span><span class="p">,</span> <span class="n">M2CMD_CARD_WRITESETUP</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">coerced_settings</span>

    <span class="k">def</span> <span class="nf">configure_trigger</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">settings</span><span class="p">:</span> <span class="n">PulseGeneratorTriggerSettings</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Configure all pulse generator trigger settings at once.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_trigger_mode</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">trigger_mode</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_trigger_detection_mode</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">trigger_detection_mode</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">multiplexer_1</span><span class="o">.</span><span class="n">set_trigger_source</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">multiplexer_1_source</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">multiplexer_2</span><span class="o">.</span><span class="n">set_trigger_source</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">multiplexer_2_source</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">multiplexer_1</span><span class="o">.</span><span class="n">set_output_inversion</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">multiplexer_1_output_inversion</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">multiplexer_2</span><span class="o">.</span><span class="n">set_output_inversion</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">multiplexer_2_output_inversion</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_to_parent_device_register</span><span class="p">(</span><span class="n">SPC_M2CMD</span><span class="p">,</span> <span class="n">M2CMD_CARD_WRITESETUP</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">force_trigger</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Generates a pulse when the pulse generator trigger source (mux 2) is set to &#39;software&#39;.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_multiplexer_2</span><span class="o">.</span><span class="n">trigger_source</span>
            <span class="o">!=</span> <span class="n">PulseGeneratorMultiplexer2TriggerSource</span><span class="o">.</span><span class="n">SPCM_PULSEGEN_MUX2_SRC_SOFTWARE</span>
        <span class="p">):</span>
            <span class="k">raise</span> <span class="n">SpectrumIOError</span><span class="p">(</span><span class="s2">&quot;Force trigger can only be used if trigger source (mux 2) is set to &#39;software&#39;&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_to_parent_device_register</span><span class="p">(</span><span class="n">SPC_XIO_PULSEGEN_COMMAND</span><span class="p">,</span> <span class="n">SPCM_PULSEGEN_CMD_FORCE</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">number</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The index of the pulse generator. Corresponds to the index of the IO line to which it belongs.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_number</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">multiplexer_1</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PulseGeneratorMultiplexer1</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Change the trigger source of this multiplexer to control when it is possible to trigger the pulse generator.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_multiplexer_1</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">multiplexer_2</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PulseGeneratorMultiplexer2</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Change the trigger source of this multiplexer to control how the pulse generator is triggered.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_multiplexer_2</span>

    <span class="k">def</span> <span class="nf">read_parent_device_register</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">spectrum_register</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">length</span><span class="p">:</span> <span class="n">SpectrumRegisterLength</span> <span class="o">=</span> <span class="n">SpectrumRegisterLength</span><span class="o">.</span><span class="n">THIRTY_TWO</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parent_io_line</span><span class="o">.</span><span class="n">read_parent_device_register</span><span class="p">(</span><span class="n">spectrum_register</span><span class="p">,</span> <span class="n">length</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">write_to_parent_device_register</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">spectrum_register</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">value</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">length</span><span class="p">:</span> <span class="n">SpectrumRegisterLength</span> <span class="o">=</span> <span class="n">SpectrumRegisterLength</span><span class="o">.</span><span class="n">THIRTY_TWO</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_parent_io_line</span><span class="o">.</span><span class="n">write_to_parent_device_register</span><span class="p">(</span><span class="n">spectrum_register</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">length</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_convert_clock_cycles_to_seconds</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">clock_cycles</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">clock_cycles</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">clock_period_in_seconds</span>

    <span class="k">def</span> <span class="nf">_convert_seconds_to_clock_cycles</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">seconds</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="c1"># round to nearest milli-cycle to avoid floating point precision problems</span>
        <span class="k">return</span> <span class="nb">round</span><span class="p">(</span><span class="n">seconds</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">clock_rate_in_hz</span> <span class="o">*</span> <span class="mf">1e3</span><span class="p">)</span> <span class="o">/</span> <span class="mf">1e3</span>

    <span class="k">def</span> <span class="nf">_get_enabled_pulse_generator_ids</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">]:</span>
        <span class="k">return</span> <span class="n">decode_enabled_pulse_gens</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">read_parent_device_register</span><span class="p">(</span><span class="n">SPC_XIO_PULSEGEN_ENABLE</span><span class="p">))</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">clock_rate_in_hz</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The current pulse generator clock rate. Affected by the sample rate of the parent card, and the number of</span>
<span class="sd">        channels enabled. Effects the precision with which pulse timings can be set, and their min and max values.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">read_parent_device_register</span><span class="p">(</span><span class="n">SPC_XIO_PULSEGEN_CLOCK</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">clock_period_in_seconds</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The reciprocal of the clock rate, in seconds.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="mi">1</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">clock_rate_in_hz</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">enabled</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;True if the pulse generator is currently enabled.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">PULSE_GEN_ENABLE_COMMANDS</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_number</span><span class="p">]</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_enabled_pulse_generator_ids</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">enable</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Enable the pulse generator. Note that the mode of the parent IO Line must also be set to</span>
<span class="sd">        IOLineMOdO.SPCM_XMODE_PULSEGEN.&quot;&quot;&quot;</span>
        <span class="n">current_register_value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">read_parent_device_register</span><span class="p">(</span><span class="n">SPC_XIO_PULSEGEN_ENABLE</span><span class="p">)</span>
        <span class="n">new_register_value</span> <span class="o">=</span> <span class="n">toggle_bitmap_value</span><span class="p">(</span><span class="n">current_register_value</span><span class="p">,</span> <span class="n">PULSE_GEN_ENABLE_COMMANDS</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_number</span><span class="p">],</span> <span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_to_parent_device_register</span><span class="p">(</span><span class="n">SPC_XIO_PULSEGEN_ENABLE</span><span class="p">,</span> <span class="n">new_register_value</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">disable</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Disable the pulse generator.&quot;&quot;&quot;</span>
        <span class="n">current_register_value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">read_parent_device_register</span><span class="p">(</span><span class="n">SPC_XIO_PULSEGEN_ENABLE</span><span class="p">)</span>
        <span class="n">new_register_value</span> <span class="o">=</span> <span class="n">toggle_bitmap_value</span><span class="p">(</span><span class="n">current_register_value</span><span class="p">,</span> <span class="n">PULSE_GEN_ENABLE_COMMANDS</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_number</span><span class="p">],</span> <span class="kc">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_to_parent_device_register</span><span class="p">(</span><span class="n">SPC_XIO_PULSEGEN_ENABLE</span><span class="p">,</span> <span class="n">new_register_value</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">output_inversion</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="n">currently_enabled_config_options</span> <span class="o">=</span> <span class="n">decode_pulse_gen_config</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">read_parent_device_register</span><span class="p">(</span><span class="n">PULSE_GEN_CONFIG_COMMANDS</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_number</span><span class="p">])</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="n">SPCM_PULSEGEN_CONFIG_INVERT</span> <span class="ow">in</span> <span class="n">currently_enabled_config_options</span>

    <span class="k">def</span> <span class="nf">set_output_inversion</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inverted</span><span class="p">:</span> <span class="nb">bool</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">current_register_value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">read_parent_device_register</span><span class="p">(</span><span class="n">PULSE_GEN_CONFIG_COMMANDS</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_number</span><span class="p">])</span>
        <span class="n">new_register_value</span> <span class="o">=</span> <span class="n">toggle_bitmap_value</span><span class="p">(</span><span class="n">current_register_value</span><span class="p">,</span> <span class="n">SPCM_PULSEGEN_CONFIG_INVERT</span><span class="p">,</span> <span class="n">inverted</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_to_parent_device_register</span><span class="p">(</span><span class="n">PULSE_GEN_CONFIG_COMMANDS</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_number</span><span class="p">],</span> <span class="n">new_register_value</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">trigger_detection_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PulseGeneratorTriggerDetectionMode</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;How the pulse generator trigger circuit responds to a trigger signal, .e.g rising edge...&quot;&quot;&quot;</span>
        <span class="n">currently_enabled_config_options</span> <span class="o">=</span> <span class="n">decode_pulse_gen_config</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">read_parent_device_register</span><span class="p">(</span><span class="n">PULSE_GEN_CONFIG_COMMANDS</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_number</span><span class="p">])</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="n">PulseGeneratorTriggerDetectionMode</span><span class="o">.</span><span class="n">SPCM_PULSEGEN_CONFIG_HIGH</span><span class="o">.</span><span class="n">value</span> <span class="ow">in</span> <span class="n">currently_enabled_config_options</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">PulseGeneratorTriggerDetectionMode</span><span class="o">.</span><span class="n">SPCM_PULSEGEN_CONFIG_HIGH</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">PulseGeneratorTriggerDetectionMode</span><span class="o">.</span><span class="n">RISING_EDGE</span>

    <span class="k">def</span> <span class="nf">set_trigger_detection_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mode</span><span class="p">:</span> <span class="n">PulseGeneratorTriggerDetectionMode</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;e.g. rising edge, high-voltage...&quot;&quot;&quot;</span>
        <span class="n">current_register_value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">read_parent_device_register</span><span class="p">(</span><span class="n">PULSE_GEN_CONFIG_COMMANDS</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_number</span><span class="p">])</span>
        <span class="n">high_voltage_mode_value</span> <span class="o">=</span> <span class="n">PulseGeneratorTriggerDetectionMode</span><span class="o">.</span><span class="n">SPCM_PULSEGEN_CONFIG_HIGH</span><span class="o">.</span><span class="n">value</span>
        <span class="n">new_register_value</span> <span class="o">=</span> <span class="n">toggle_bitmap_value</span><span class="p">(</span>
            <span class="n">current_register_value</span><span class="p">,</span>
            <span class="n">high_voltage_mode_value</span><span class="p">,</span>
            <span class="n">mode</span> <span class="o">==</span> <span class="n">PulseGeneratorTriggerDetectionMode</span><span class="o">.</span><span class="n">SPCM_PULSEGEN_CONFIG_HIGH</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_to_parent_device_register</span><span class="p">(</span><span class="n">PULSE_GEN_CONFIG_COMMANDS</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_number</span><span class="p">],</span> <span class="n">new_register_value</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">trigger_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PulseGeneratorTriggerMode</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gated, triggered or single-shot. See PulseGeneratorTriggerMode for more information.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">PulseGeneratorTriggerMode</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">read_parent_device_register</span><span class="p">(</span><span class="n">PULSE_GEN_TRIGGER_MODE_COMMANDS</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_number</span><span class="p">])</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">set_trigger_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mode</span><span class="p">:</span> <span class="n">PulseGeneratorTriggerMode</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gated, triggered or single-shot. See PulseGeneratorTriggerMode for more information.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_to_parent_device_register</span><span class="p">(</span><span class="n">PULSE_GEN_TRIGGER_MODE_COMMANDS</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_number</span><span class="p">],</span> <span class="n">mode</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">min_allowed_period_in_seconds</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Minimum allowed pulse period in seconds, given the current clock rate.&quot;&quot;&quot;</span>
        <span class="n">reg_val</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">read_parent_device_register</span><span class="p">(</span><span class="n">SPC_XIO_PULSEGEN_AVAILLEN_MIN</span><span class="p">)</span>
        <span class="n">reg_val</span> <span class="o">=</span> <span class="mi">0</span> <span class="k">if</span> <span class="n">reg_val</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="n">reg_val</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_convert_clock_cycles_to_seconds</span><span class="p">(</span><span class="n">reg_val</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">max_allowed_period_in_seconds</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Maximum allowed pulse period in seconds, given the current clock rate.&quot;&quot;&quot;</span>
        <span class="n">reg_val</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">read_parent_device_register</span><span class="p">(</span><span class="n">SPC_XIO_PULSEGEN_AVAILLEN_MAX</span><span class="p">)</span>
        <span class="n">reg_val</span> <span class="o">=</span> <span class="n">iinfo</span><span class="p">(</span><span class="n">int16</span><span class="p">)</span><span class="o">.</span><span class="n">max</span> <span class="k">if</span> <span class="n">reg_val</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="n">reg_val</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_convert_clock_cycles_to_seconds</span><span class="p">(</span><span class="n">reg_val</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">_allowed_period_step_size_in_clock_cycles</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">read_parent_device_register</span><span class="p">(</span><span class="n">SPC_XIO_PULSEGEN_AVAILLEN_STEP</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">allowed_period_step_size_in_seconds</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Resolution with which the pulse period can be set, given the current clock rate.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_convert_clock_cycles_to_seconds</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_allowed_period_step_size_in_clock_cycles</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">period_in_seconds</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The pulse length in seconds, including both the high-voltage and low-voltage sections.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_convert_clock_cycles_to_seconds</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">read_parent_device_register</span><span class="p">(</span><span class="n">PULSE_GEN_PULSE_PERIOD_COMMANDS</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_number</span><span class="p">])</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">set_period_in_seconds</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">period</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">coerce</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Set the time between the start of each generated pulse in seconds. If coerce is True, the requested value</span>
<span class="sd">        will be coerced according to min_allowed_period_in_seconds, max_allowed_period_in_seconds and</span>
<span class="sd">        allowed_period_step_size_in_seconds and the coerced value is returned. Otherwise, when an invalid value is</span>
<span class="sd">        requested a SpectrumInvalidParameterValue will be raised. The allowed values are affected by the number of</span>
<span class="sd">        active channels and the sample rate.&quot;&quot;&quot;</span>
        <span class="n">period_in_clock_cycles</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_convert_seconds_to_clock_cycles</span><span class="p">(</span><span class="n">period</span><span class="p">)</span>
        <span class="n">coerced_period</span> <span class="o">=</span> <span class="n">_coerce_fractional_value_to_allowed_integer</span><span class="p">(</span>
            <span class="n">period_in_clock_cycles</span><span class="p">,</span>
            <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_convert_seconds_to_clock_cycles</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">min_allowed_period_in_seconds</span><span class="p">)),</span>
            <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_convert_seconds_to_clock_cycles</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">max_allowed_period_in_seconds</span><span class="p">)),</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_allowed_period_step_size_in_clock_cycles</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">coerce</span> <span class="ow">and</span> <span class="n">coerced_period</span> <span class="o">!=</span> <span class="n">period_in_clock_cycles</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SpectrumInvalidParameterValue</span><span class="p">(</span>
                <span class="s2">&quot;pulse generator period&quot;</span><span class="p">,</span>
                <span class="n">period</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">min_allowed_period_in_seconds</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">max_allowed_period_in_seconds</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">allowed_period_step_size_in_seconds</span><span class="p">,</span>
            <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">write_to_parent_device_register</span><span class="p">(</span><span class="n">PULSE_GEN_PULSE_PERIOD_COMMANDS</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_number</span><span class="p">],</span> <span class="nb">int</span><span class="p">(</span><span class="n">coerced_period</span><span class="p">))</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_convert_clock_cycles_to_seconds</span><span class="p">(</span><span class="n">coerced_period</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">min_allowed_high_voltage_duration_in_seconds</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Minimum allowed duration of the high-voltage part of the pulse in seconds, given the current clock rate.&quot;&quot;&quot;</span>
        <span class="n">reg_val</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">read_parent_device_register</span><span class="p">(</span><span class="n">SPC_XIO_PULSEGEN_AVAILHIGH_MIN</span><span class="p">)</span>
        <span class="n">reg_val</span> <span class="o">=</span> <span class="mi">0</span> <span class="k">if</span> <span class="n">reg_val</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="n">reg_val</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_convert_clock_cycles_to_seconds</span><span class="p">(</span><span class="n">reg_val</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">max_allowed_high_voltage_duration_in_seconds</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Maximum allowed duration of the high-voltage part of the pulse in seconds, given the current clock rate.&quot;&quot;&quot;</span>
        <span class="n">reg_val</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">read_parent_device_register</span><span class="p">(</span><span class="n">SPC_XIO_PULSEGEN_AVAILHIGH_MAX</span><span class="p">)</span>
        <span class="n">reg_val</span> <span class="o">=</span> <span class="n">iinfo</span><span class="p">(</span><span class="n">int16</span><span class="p">)</span><span class="o">.</span><span class="n">max</span> <span class="k">if</span> <span class="n">reg_val</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="n">reg_val</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_convert_clock_cycles_to_seconds</span><span class="p">(</span><span class="n">reg_val</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">_allowed_high_voltage_duration_step_size_in_clock_cycles</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">read_parent_device_register</span><span class="p">(</span><span class="n">SPC_XIO_PULSEGEN_AVAILHIGH_STEP</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">allowed_high_voltage_duration_step_size_in_seconds</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Resolution with which the high-voltage duration can be set, in seconds, given the current clock rate.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_convert_clock_cycles_to_seconds</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_allowed_high_voltage_duration_step_size_in_clock_cycles</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">duration_of_high_voltage_in_seconds</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The length of the high-voltage part of a pulse, in seconds. Equal to the pulse duration * duty cycle.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_convert_clock_cycles_to_seconds</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">read_parent_device_register</span><span class="p">(</span><span class="n">PULSE_GEN_HIGH_DURATION_COMMANDS</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_number</span><span class="p">])</span>
        <span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">duration_of_low_voltage_in_seconds</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The length of the low-voltage part of a pulse, in seconds. Equal to the pulse duration * (1 - duty cycle).&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">period_in_seconds</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">duration_of_high_voltage_in_seconds</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">duty_cycle</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The ratio between the high-voltage and low-voltage parts of the pulse.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">duration_of_high_voltage_in_seconds</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">period_in_seconds</span>

    <span class="k">def</span> <span class="nf">set_duty_cycle</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">duty_cycle</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">coerce</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Set the duty cycle. If coerce is True, the requested value will be coerced to be within allowed range and</span>
<span class="sd">        use allowed step size and then the coerced value wll be returned. Otherwise, when an invalid value is requested</span>
<span class="sd">        an SpectrumInvalidParameterValue will be raised. The allowed values are affected by the number of active</span>
<span class="sd">        channels and the sample rate.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">requested_high_v_duration_in_clock_cycles</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_convert_seconds_to_clock_cycles</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">period_in_seconds</span> <span class="o">*</span> <span class="n">duty_cycle</span>
        <span class="p">)</span>
        <span class="n">clipped_duration</span> <span class="o">=</span> <span class="n">_coerce_fractional_value_to_allowed_integer</span><span class="p">(</span>
            <span class="n">requested_high_v_duration_in_clock_cycles</span><span class="p">,</span>
            <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_convert_seconds_to_clock_cycles</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">min_allowed_high_voltage_duration_in_seconds</span><span class="p">)),</span>
            <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_convert_seconds_to_clock_cycles</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">max_allowed_high_voltage_duration_in_seconds</span><span class="p">)),</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_allowed_high_voltage_duration_step_size_in_clock_cycles</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">coerce</span> <span class="ow">and</span> <span class="n">clipped_duration</span> <span class="o">!=</span> <span class="n">requested_high_v_duration_in_clock_cycles</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SpectrumInvalidParameterValue</span><span class="p">(</span>
                <span class="s2">&quot;high-voltage duration&quot;</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">period_in_seconds</span> <span class="o">*</span> <span class="n">duty_cycle</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">min_allowed_high_voltage_duration_in_seconds</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">max_allowed_high_voltage_duration_in_seconds</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">allowed_high_voltage_duration_step_size_in_seconds</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_to_parent_device_register</span><span class="p">(</span><span class="n">PULSE_GEN_HIGH_DURATION_COMMANDS</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_number</span><span class="p">],</span> <span class="n">clipped_duration</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_convert_clock_cycles_to_seconds</span><span class="p">(</span><span class="n">clipped_duration</span><span class="p">)</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">period_in_seconds</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">min_allowed_pulses</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Minimum allowed number of pulses to transmit.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">read_parent_device_register</span><span class="p">(</span><span class="n">SPC_XIO_PULSEGEN_AVAILLOOPS_MIN</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">max_allowed_pulses</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Maximum allowed number of pulses to transmit.&quot;&quot;&quot;</span>
        <span class="n">reg_val</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">read_parent_device_register</span><span class="p">(</span><span class="n">SPC_XIO_PULSEGEN_AVAILLOOPS_MAX</span><span class="p">)</span>
        <span class="c1"># my card has this register set to -2, which I assume means no limit (can&#39;t work it out from the docs)</span>
        <span class="k">return</span> <span class="n">reg_val</span> <span class="k">if</span> <span class="n">reg_val</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="n">iinfo</span><span class="p">(</span><span class="n">int16</span><span class="p">)</span><span class="o">.</span><span class="n">max</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">allowed_num_pulses_step_size</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Resolution with which the number of pulses to transmit can be set.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">read_parent_device_register</span><span class="p">(</span><span class="n">SPC_XIO_PULSEGEN_AVAILLOOPS_STEP</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">num_pulses</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The number of pulses to generate on receipt of a trigger. If 0, pulses will be generated continuously.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">read_parent_device_register</span><span class="p">(</span><span class="n">PULSE_GEN_NUM_REPEATS_COMMANDS</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_number</span><span class="p">])</span>

    <span class="k">def</span> <span class="nf">set_num_pulses</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">num_pulses</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">coerce</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Set the number of pulses to generate on receipt of a trigger. If 0 or negative, pulses will be generated</span>
<span class="sd">        continuously. If coerce if True, the requested number of pulses will be coerced according to min_allowed_pulses,</span>
<span class="sd">        max_allowed_pulses and allowed_num_pulses_step_size and the coerced value is returned. Otherwise, a</span>
<span class="sd">        SpectrumInvalidParameterValue exception is raised if an invalid number of pulses is requested.&quot;&quot;&quot;</span>

        <span class="n">num_pulses</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">num_pulses</span><span class="p">)</span>  <span class="c1"># make negative value 0 to enable continuous pulse generation</span>

        <span class="n">coerced_num_pulses</span> <span class="o">=</span> <span class="n">_coerce_fractional_value_to_allowed_integer</span><span class="p">(</span>
            <span class="nb">float</span><span class="p">(</span><span class="n">num_pulses</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">min_allowed_pulses</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_allowed_pulses</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">allowed_num_pulses_step_size</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">coerce</span> <span class="ow">and</span> <span class="n">coerced_num_pulses</span> <span class="o">!=</span> <span class="n">num_pulses</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SpectrumInvalidParameterValue</span><span class="p">(</span>
                <span class="s2">&quot;number of pulses&quot;</span><span class="p">,</span>
                <span class="n">num_pulses</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">min_allowed_pulses</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">max_allowed_pulses</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">allowed_num_pulses_step_size</span><span class="p">,</span>
            <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">write_to_parent_device_register</span><span class="p">(</span><span class="n">PULSE_GEN_NUM_REPEATS_COMMANDS</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_number</span><span class="p">],</span> <span class="n">coerced_num_pulses</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">coerced_num_pulses</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">min_allowed_delay_in_seconds</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Minimum allowed delay between the trigger event and pulse generation, in seconds, given the current clock</span>
<span class="sd">        rate.&quot;&quot;&quot;</span>
        <span class="n">reg_value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">read_parent_device_register</span><span class="p">(</span><span class="mi">602007</span><span class="p">)</span>  <span class="c1"># SPC_XIO_PULSEGEN_AVAILDELAY_MIN not in regs.py</span>
        <span class="n">reg_value</span> <span class="o">=</span> <span class="mi">0</span> <span class="k">if</span> <span class="n">reg_value</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span> <span class="k">else</span> <span class="n">reg_value</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_convert_clock_cycles_to_seconds</span><span class="p">(</span><span class="n">reg_value</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">max_allowed_delay_in_seconds</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Maximum allowed delay between the trigger event and pulse generation, in seconds, given the current clock</span>
<span class="sd">        rate.&quot;&quot;&quot;</span>
        <span class="n">reg_value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">read_parent_device_register</span><span class="p">(</span><span class="mi">602008</span><span class="p">)</span>  <span class="c1"># SPC_XIO_PULSEGEN_AVAILDELAY_MAX not in regs.py</span>
        <span class="n">reg_value</span> <span class="o">=</span> <span class="n">iinfo</span><span class="p">(</span><span class="n">int16</span><span class="p">)</span><span class="o">.</span><span class="n">max</span> <span class="k">if</span> <span class="n">reg_value</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span> <span class="k">else</span> <span class="n">reg_value</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_convert_clock_cycles_to_seconds</span><span class="p">(</span><span class="n">reg_value</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">allowed_delay_step_size_in_seconds</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;resolution with which the delay between the trigger event and pulse generation can be set, in seconds, given</span>
<span class="sd">        the current clock rate.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_convert_clock_cycles_to_seconds</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">read_parent_device_register</span><span class="p">(</span><span class="mi">602009</span><span class="p">)</span>  <span class="c1"># SPC_XIO_PULSEGEN_AVAILDELAY_STEP not in regs.py</span>
        <span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">delay_in_seconds</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The delay between the trigger and the first pulse transmission&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_convert_clock_cycles_to_seconds</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">read_parent_device_register</span><span class="p">(</span><span class="n">PULSE_GEN_DELAY_COMMANDS</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_number</span><span class="p">])</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">set_delay_in_seconds</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">delay_in_seconds</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">coerce</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Set the delay between the trigger and the first pulse transmission. If coerce=True, the requested value is</span>
<span class="sd">        coerced according to min_allowed_delay_in_seconds, max_allowed_delay_in_seconds and</span>
<span class="sd">        allowed_delay_step_size_in_seconds, and then the coerced value is returned. Otherwise, an ValueError is raised</span>
<span class="sd">        if the requested value is invalid.&quot;&quot;&quot;</span>

        <span class="n">requested_delay_in_clock_cycles</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_convert_seconds_to_clock_cycles</span><span class="p">(</span><span class="n">delay_in_seconds</span><span class="p">)</span>
        <span class="n">clipped_delay_in_clock_cycles</span> <span class="o">=</span> <span class="n">_coerce_fractional_value_to_allowed_integer</span><span class="p">(</span>
            <span class="n">requested_delay_in_clock_cycles</span><span class="p">,</span>
            <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_convert_seconds_to_clock_cycles</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">min_allowed_delay_in_seconds</span><span class="p">)),</span>
            <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_convert_seconds_to_clock_cycles</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">max_allowed_delay_in_seconds</span><span class="p">)),</span>
            <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_convert_seconds_to_clock_cycles</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">allowed_delay_step_size_in_seconds</span><span class="p">)),</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">coerce</span> <span class="ow">and</span> <span class="n">clipped_delay_in_clock_cycles</span> <span class="o">!=</span> <span class="n">requested_delay_in_clock_cycles</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SpectrumInvalidParameterValue</span><span class="p">(</span>
                <span class="s2">&quot;delay in seconds&quot;</span><span class="p">,</span>
                <span class="n">requested_delay_in_clock_cycles</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">min_allowed_delay_in_seconds</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">max_allowed_delay_in_seconds</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">allowed_delay_step_size_in_seconds</span><span class="p">,</span>
            <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">write_to_parent_device_register</span><span class="p">(</span><span class="n">PULSE_GEN_DELAY_COMMANDS</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_number</span><span class="p">],</span> <span class="n">clipped_delay_in_clock_cycles</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_convert_clock_cycles_to_seconds</span><span class="p">(</span><span class="n">clipped_delay_in_clock_cycles</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;Pulse generator </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_number</span><span class="si">}</span><span class="s2"> of </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">_parent_io_line</span><span class="si">}</span><span class="s2">.&quot;</span>
</pre></div>

        </details>

            <div class="docstring"><p>Class for controlling pulse generators associated with IO lines (requires firmware option be enabled).</p>
</div>


                            <div id="PulseGenerator.__init__" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#PulseGenerator.__init__">#&nbsp;&nbsp</a>

        
            <span class="name">PulseGenerator</span><span class="signature">(
    parent: <a href="#devices.abstract_device.channel_interfaces.SpectrumIOLineInterface">spectrumdevice.devices.abstract_device.channel_interfaces.SpectrumIOLineInterface</a>
)</span>
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="p">:</span> <span class="n">SpectrumIOLineInterface</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_parent_io_line</span> <span class="o">=</span> <span class="n">parent</span>
        <span class="c1"># last char of IO line name is IO line chanel number, which is used to set pulse generator number</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_number</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">parent</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">name</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
        <span class="n">available_advanced_features</span> <span class="o">=</span> <span class="n">decode_advanced_card_features</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">read_parent_device_register</span><span class="p">(</span><span class="n">SPC_PCIEXTFEATURES</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="n">AdvancedCardFeature</span><span class="o">.</span><span class="n">SPCM_FEAT_EXTFW_PULSEGEN</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">available_advanced_features</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SpectrumFeatureNotSupportedByCard</span><span class="p">(</span>
                <span class="n">call_description</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="fm">__str__</span><span class="p">()</span> <span class="o">+</span> <span class="s2">&quot;.__init__()&quot;</span><span class="p">,</span>
                <span class="n">message</span><span class="o">=</span><span class="s2">&quot;Pulse generator firmware option not installed on device.&quot;</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_multiplexer_1</span> <span class="o">=</span> <span class="n">PulseGeneratorMultiplexer1</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_multiplexer_2</span> <span class="o">=</span> <span class="n">PulseGeneratorMultiplexer2</span><span class="p">(</span><span class="n">parent</span><span class="o">=</span><span class="bp">self</span><span class="p">)</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="PulseGenerator.configure_output" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#PulseGenerator.configure_output">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">configure_output</span><span class="signature">(
    self,
    settings: <a href="spectrumdevice/settings.html#pulse_generator.PulseGeneratorOutputSettings">spectrumdevice.settings.pulse_generator.PulseGeneratorOutputSettings</a>,
    coerce: bool = True
) -&gt; <a href="spectrumdevice/settings.html#pulse_generator.PulseGeneratorOutputSettings">spectrumdevice.settings.pulse_generator.PulseGeneratorOutputSettings</a></span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">configure_output</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">settings</span><span class="p">:</span> <span class="n">PulseGeneratorOutputSettings</span><span class="p">,</span> <span class="n">coerce</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PulseGeneratorOutputSettings</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Configure all pulse generator output settings at once. By default, all values are coerced to the</span>
<span class="sd">        nearest values allowed by the hardware, and the coerced values are returned.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_output_inversion</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">output_inversion</span><span class="p">)</span>
        <span class="n">coerced_settings</span> <span class="o">=</span> <span class="n">PulseGeneratorOutputSettings</span><span class="p">(</span>
            <span class="n">period_in_seconds</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">set_period_in_seconds</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">period_in_seconds</span><span class="p">,</span> <span class="n">coerce</span><span class="o">=</span><span class="n">coerce</span><span class="p">),</span>
            <span class="n">duty_cycle</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">set_duty_cycle</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">duty_cycle</span><span class="p">,</span> <span class="n">coerce</span><span class="o">=</span><span class="n">coerce</span><span class="p">),</span>
            <span class="n">num_pulses</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">set_num_pulses</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">num_pulses</span><span class="p">,</span> <span class="n">coerce</span><span class="o">=</span><span class="n">coerce</span><span class="p">),</span>
            <span class="n">delay_in_seconds</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">set_delay_in_seconds</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">delay_in_seconds</span><span class="p">,</span> <span class="n">coerce</span><span class="o">=</span><span class="n">coerce</span><span class="p">),</span>
            <span class="n">output_inversion</span><span class="o">=</span><span class="n">settings</span><span class="o">.</span><span class="n">output_inversion</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_to_parent_device_register</span><span class="p">(</span><span class="n">SPC_M2CMD</span><span class="p">,</span> <span class="n">M2CMD_CARD_WRITESETUP</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">coerced_settings</span>
</pre></div>

        </details>

            <div class="docstring"><p>Configure all pulse generator output settings at once. By default, all values are coerced to the
nearest values allowed by the hardware, and the coerced values are returned.</p>
</div>


                            </div>
                            <div id="PulseGenerator.configure_trigger" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#PulseGenerator.configure_trigger">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">configure_trigger</span><span class="signature">(
    self,
    settings: <a href="spectrumdevice/settings.html#pulse_generator.PulseGeneratorTriggerSettings">spectrumdevice.settings.pulse_generator.PulseGeneratorTriggerSettings</a>
) -&gt; None</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">configure_trigger</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">settings</span><span class="p">:</span> <span class="n">PulseGeneratorTriggerSettings</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Configure all pulse generator trigger settings at once.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_trigger_mode</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">trigger_mode</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_trigger_detection_mode</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">trigger_detection_mode</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">multiplexer_1</span><span class="o">.</span><span class="n">set_trigger_source</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">multiplexer_1_source</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">multiplexer_2</span><span class="o">.</span><span class="n">set_trigger_source</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">multiplexer_2_source</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">multiplexer_1</span><span class="o">.</span><span class="n">set_output_inversion</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">multiplexer_1_output_inversion</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">multiplexer_2</span><span class="o">.</span><span class="n">set_output_inversion</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">multiplexer_2_output_inversion</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_to_parent_device_register</span><span class="p">(</span><span class="n">SPC_M2CMD</span><span class="p">,</span> <span class="n">M2CMD_CARD_WRITESETUP</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Configure all pulse generator trigger settings at once.</p>
</div>


                            </div>
                            <div id="PulseGenerator.force_trigger" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#PulseGenerator.force_trigger">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">force_trigger</span><span class="signature">(self) -&gt; None</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">force_trigger</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Generates a pulse when the pulse generator trigger source (mux 2) is set to &#39;software&#39;.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_multiplexer_2</span><span class="o">.</span><span class="n">trigger_source</span>
            <span class="o">!=</span> <span class="n">PulseGeneratorMultiplexer2TriggerSource</span><span class="o">.</span><span class="n">SPCM_PULSEGEN_MUX2_SRC_SOFTWARE</span>
        <span class="p">):</span>
            <span class="k">raise</span> <span class="n">SpectrumIOError</span><span class="p">(</span><span class="s2">&quot;Force trigger can only be used if trigger source (mux 2) is set to &#39;software&#39;&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_to_parent_device_register</span><span class="p">(</span><span class="n">SPC_XIO_PULSEGEN_COMMAND</span><span class="p">,</span> <span class="n">SPCM_PULSEGEN_CMD_FORCE</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Generates a pulse when the pulse generator trigger source (mux 2) is set to 'software'.</p>
</div>


                            </div>
                            <div id="PulseGenerator.number" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#PulseGenerator.number">#&nbsp;&nbsp</a>

        <span class="name">number</span><span class="annotation">: int</span>
    </div>

            <div class="docstring"><p>The index of the pulse generator. Corresponds to the index of the IO line to which it belongs.</p>
</div>


                            </div>
                            <div id="PulseGenerator.multiplexer_1" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#PulseGenerator.multiplexer_1">#&nbsp;&nbsp</a>

        <span class="name">multiplexer_1</span><span class="annotation">: <a href="spectrumdevice/features/pulse_generator/multiplexer.html#PulseGeneratorMultiplexer1">spectrumdevice.features.pulse_generator.multiplexer.PulseGeneratorMultiplexer1</a></span>
    </div>

            <div class="docstring"><p>Change the trigger source of this multiplexer to control when it is possible to trigger the pulse generator.</p>
</div>


                            </div>
                            <div id="PulseGenerator.multiplexer_2" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#PulseGenerator.multiplexer_2">#&nbsp;&nbsp</a>

        <span class="name">multiplexer_2</span><span class="annotation">: <a href="spectrumdevice/features/pulse_generator/multiplexer.html#PulseGeneratorMultiplexer2">spectrumdevice.features.pulse_generator.multiplexer.PulseGeneratorMultiplexer2</a></span>
    </div>

            <div class="docstring"><p>Change the trigger source of this multiplexer to control how the pulse generator is triggered.</p>
</div>


                            </div>
                            <div id="PulseGenerator.read_parent_device_register" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#PulseGenerator.read_parent_device_register">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">read_parent_device_register</span><span class="signature">(
    self,
    spectrum_register: int,
    length: <a href="spectrumdevice/settings.html#SpectrumRegisterLength">spectrumdevice.settings.SpectrumRegisterLength</a> = THIRTY_TWO
) -&gt; int</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">read_parent_device_register</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">spectrum_register</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">length</span><span class="p">:</span> <span class="n">SpectrumRegisterLength</span> <span class="o">=</span> <span class="n">SpectrumRegisterLength</span><span class="o">.</span><span class="n">THIRTY_TWO</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_parent_io_line</span><span class="o">.</span><span class="n">read_parent_device_register</span><span class="p">(</span><span class="n">spectrum_register</span><span class="p">,</span> <span class="n">length</span><span class="p">)</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="PulseGenerator.write_to_parent_device_register" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#PulseGenerator.write_to_parent_device_register">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">write_to_parent_device_register</span><span class="signature">(
    self,
    spectrum_register: int,
    value: int,
    length: <a href="spectrumdevice/settings.html#SpectrumRegisterLength">spectrumdevice.settings.SpectrumRegisterLength</a> = THIRTY_TWO
) -&gt; None</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">write_to_parent_device_register</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">spectrum_register</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">value</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">length</span><span class="p">:</span> <span class="n">SpectrumRegisterLength</span> <span class="o">=</span> <span class="n">SpectrumRegisterLength</span><span class="o">.</span><span class="n">THIRTY_TWO</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_parent_io_line</span><span class="o">.</span><span class="n">write_to_parent_device_register</span><span class="p">(</span><span class="n">spectrum_register</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">length</span><span class="p">)</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="PulseGenerator.clock_rate_in_hz" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#PulseGenerator.clock_rate_in_hz">#&nbsp;&nbsp</a>

        <span class="name">clock_rate_in_hz</span><span class="annotation">: int</span>
    </div>

            <div class="docstring"><p>The current pulse generator clock rate. Affected by the sample rate of the parent card, and the number of
channels enabled. Effects the precision with which pulse timings can be set, and their min and max values.</p>
</div>


                            </div>
                            <div id="PulseGenerator.clock_period_in_seconds" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#PulseGenerator.clock_period_in_seconds">#&nbsp;&nbsp</a>

        <span class="name">clock_period_in_seconds</span><span class="annotation">: float</span>
    </div>

            <div class="docstring"><p>The reciprocal of the clock rate, in seconds.</p>
</div>


                            </div>
                            <div id="PulseGenerator.enabled" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#PulseGenerator.enabled">#&nbsp;&nbsp</a>

        <span class="name">enabled</span><span class="annotation">: bool</span>
    </div>

            <div class="docstring"><p>True if the pulse generator is currently enabled.</p>
</div>


                            </div>
                            <div id="PulseGenerator.enable" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#PulseGenerator.enable">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">enable</span><span class="signature">(self) -&gt; None</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">enable</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Enable the pulse generator. Note that the mode of the parent IO Line must also be set to</span>
<span class="sd">        IOLineMOdO.SPCM_XMODE_PULSEGEN.&quot;&quot;&quot;</span>
        <span class="n">current_register_value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">read_parent_device_register</span><span class="p">(</span><span class="n">SPC_XIO_PULSEGEN_ENABLE</span><span class="p">)</span>
        <span class="n">new_register_value</span> <span class="o">=</span> <span class="n">toggle_bitmap_value</span><span class="p">(</span><span class="n">current_register_value</span><span class="p">,</span> <span class="n">PULSE_GEN_ENABLE_COMMANDS</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_number</span><span class="p">],</span> <span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_to_parent_device_register</span><span class="p">(</span><span class="n">SPC_XIO_PULSEGEN_ENABLE</span><span class="p">,</span> <span class="n">new_register_value</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Enable the pulse generator. Note that the mode of the parent IO Line must also be set to
IOLineMOdO.SPCM_XMODE_PULSEGEN.</p>
</div>


                            </div>
                            <div id="PulseGenerator.disable" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#PulseGenerator.disable">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">disable</span><span class="signature">(self) -&gt; None</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">disable</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Disable the pulse generator.&quot;&quot;&quot;</span>
        <span class="n">current_register_value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">read_parent_device_register</span><span class="p">(</span><span class="n">SPC_XIO_PULSEGEN_ENABLE</span><span class="p">)</span>
        <span class="n">new_register_value</span> <span class="o">=</span> <span class="n">toggle_bitmap_value</span><span class="p">(</span><span class="n">current_register_value</span><span class="p">,</span> <span class="n">PULSE_GEN_ENABLE_COMMANDS</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_number</span><span class="p">],</span> <span class="kc">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_to_parent_device_register</span><span class="p">(</span><span class="n">SPC_XIO_PULSEGEN_ENABLE</span><span class="p">,</span> <span class="n">new_register_value</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Disable the pulse generator.</p>
</div>


                            </div>
                            <div id="PulseGenerator.output_inversion" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#PulseGenerator.output_inversion">#&nbsp;&nbsp</a>

        <span class="name">output_inversion</span><span class="annotation">: bool</span>
    </div>

    

                            </div>
                            <div id="PulseGenerator.set_output_inversion" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#PulseGenerator.set_output_inversion">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_output_inversion</span><span class="signature">(self, inverted: bool) -&gt; None</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">set_output_inversion</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inverted</span><span class="p">:</span> <span class="nb">bool</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">current_register_value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">read_parent_device_register</span><span class="p">(</span><span class="n">PULSE_GEN_CONFIG_COMMANDS</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_number</span><span class="p">])</span>
        <span class="n">new_register_value</span> <span class="o">=</span> <span class="n">toggle_bitmap_value</span><span class="p">(</span><span class="n">current_register_value</span><span class="p">,</span> <span class="n">SPCM_PULSEGEN_CONFIG_INVERT</span><span class="p">,</span> <span class="n">inverted</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_to_parent_device_register</span><span class="p">(</span><span class="n">PULSE_GEN_CONFIG_COMMANDS</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_number</span><span class="p">],</span> <span class="n">new_register_value</span><span class="p">)</span>
</pre></div>

        </details>

    

                            </div>
                            <div id="PulseGenerator.trigger_detection_mode" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#PulseGenerator.trigger_detection_mode">#&nbsp;&nbsp</a>

        <span class="name">trigger_detection_mode</span><span class="annotation">: <a href="spectrumdevice/settings.html#pulse_generator.PulseGeneratorTriggerDetectionMode">spectrumdevice.settings.pulse_generator.PulseGeneratorTriggerDetectionMode</a></span>
    </div>

            <div class="docstring"><p>How the pulse generator trigger circuit responds to a trigger signal, .e.g rising edge...</p>
</div>


                            </div>
                            <div id="PulseGenerator.set_trigger_detection_mode" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#PulseGenerator.set_trigger_detection_mode">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_trigger_detection_mode</span><span class="signature">(
    self,
    mode: <a href="spectrumdevice/settings.html#pulse_generator.PulseGeneratorTriggerDetectionMode">spectrumdevice.settings.pulse_generator.PulseGeneratorTriggerDetectionMode</a>
) -&gt; None</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">set_trigger_detection_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mode</span><span class="p">:</span> <span class="n">PulseGeneratorTriggerDetectionMode</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;e.g. rising edge, high-voltage...&quot;&quot;&quot;</span>
        <span class="n">current_register_value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">read_parent_device_register</span><span class="p">(</span><span class="n">PULSE_GEN_CONFIG_COMMANDS</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_number</span><span class="p">])</span>
        <span class="n">high_voltage_mode_value</span> <span class="o">=</span> <span class="n">PulseGeneratorTriggerDetectionMode</span><span class="o">.</span><span class="n">SPCM_PULSEGEN_CONFIG_HIGH</span><span class="o">.</span><span class="n">value</span>
        <span class="n">new_register_value</span> <span class="o">=</span> <span class="n">toggle_bitmap_value</span><span class="p">(</span>
            <span class="n">current_register_value</span><span class="p">,</span>
            <span class="n">high_voltage_mode_value</span><span class="p">,</span>
            <span class="n">mode</span> <span class="o">==</span> <span class="n">PulseGeneratorTriggerDetectionMode</span><span class="o">.</span><span class="n">SPCM_PULSEGEN_CONFIG_HIGH</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_to_parent_device_register</span><span class="p">(</span><span class="n">PULSE_GEN_CONFIG_COMMANDS</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_number</span><span class="p">],</span> <span class="n">new_register_value</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>e.g. rising edge, high-voltage...</p>
</div>


                            </div>
                            <div id="PulseGenerator.trigger_mode" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#PulseGenerator.trigger_mode">#&nbsp;&nbsp</a>

        <span class="name">trigger_mode</span><span class="annotation">: <a href="spectrumdevice/settings.html#pulse_generator.PulseGeneratorTriggerMode">spectrumdevice.settings.pulse_generator.PulseGeneratorTriggerMode</a></span>
    </div>

            <div class="docstring"><p>Gated, triggered or single-shot. See PulseGeneratorTriggerMode for more information.</p>
</div>


                            </div>
                            <div id="PulseGenerator.set_trigger_mode" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#PulseGenerator.set_trigger_mode">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_trigger_mode</span><span class="signature">(
    self,
    mode: <a href="spectrumdevice/settings.html#pulse_generator.PulseGeneratorTriggerMode">spectrumdevice.settings.pulse_generator.PulseGeneratorTriggerMode</a>
) -&gt; None</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">set_trigger_mode</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mode</span><span class="p">:</span> <span class="n">PulseGeneratorTriggerMode</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Gated, triggered or single-shot. See PulseGeneratorTriggerMode for more information.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_to_parent_device_register</span><span class="p">(</span><span class="n">PULSE_GEN_TRIGGER_MODE_COMMANDS</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_number</span><span class="p">],</span> <span class="n">mode</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Gated, triggered or single-shot. See PulseGeneratorTriggerMode for more information.</p>
</div>


                            </div>
                            <div id="PulseGenerator.min_allowed_period_in_seconds" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#PulseGenerator.min_allowed_period_in_seconds">#&nbsp;&nbsp</a>

        <span class="name">min_allowed_period_in_seconds</span><span class="annotation">: float</span>
    </div>

            <div class="docstring"><p>Minimum allowed pulse period in seconds, given the current clock rate.</p>
</div>


                            </div>
                            <div id="PulseGenerator.max_allowed_period_in_seconds" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#PulseGenerator.max_allowed_period_in_seconds">#&nbsp;&nbsp</a>

        <span class="name">max_allowed_period_in_seconds</span><span class="annotation">: float</span>
    </div>

            <div class="docstring"><p>Maximum allowed pulse period in seconds, given the current clock rate.</p>
</div>


                            </div>
                            <div id="PulseGenerator.allowed_period_step_size_in_seconds" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#PulseGenerator.allowed_period_step_size_in_seconds">#&nbsp;&nbsp</a>

        <span class="name">allowed_period_step_size_in_seconds</span><span class="annotation">: float</span>
    </div>

            <div class="docstring"><p>Resolution with which the pulse period can be set, given the current clock rate.</p>
</div>


                            </div>
                            <div id="PulseGenerator.period_in_seconds" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#PulseGenerator.period_in_seconds">#&nbsp;&nbsp</a>

        <span class="name">period_in_seconds</span><span class="annotation">: float</span>
    </div>

            <div class="docstring"><p>The pulse length in seconds, including both the high-voltage and low-voltage sections.</p>
</div>


                            </div>
                            <div id="PulseGenerator.set_period_in_seconds" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#PulseGenerator.set_period_in_seconds">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_period_in_seconds</span><span class="signature">(self, period: float, coerce: bool = False) -&gt; float</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">set_period_in_seconds</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">period</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">coerce</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Set the time between the start of each generated pulse in seconds. If coerce is True, the requested value</span>
<span class="sd">        will be coerced according to min_allowed_period_in_seconds, max_allowed_period_in_seconds and</span>
<span class="sd">        allowed_period_step_size_in_seconds and the coerced value is returned. Otherwise, when an invalid value is</span>
<span class="sd">        requested a SpectrumInvalidParameterValue will be raised. The allowed values are affected by the number of</span>
<span class="sd">        active channels and the sample rate.&quot;&quot;&quot;</span>
        <span class="n">period_in_clock_cycles</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_convert_seconds_to_clock_cycles</span><span class="p">(</span><span class="n">period</span><span class="p">)</span>
        <span class="n">coerced_period</span> <span class="o">=</span> <span class="n">_coerce_fractional_value_to_allowed_integer</span><span class="p">(</span>
            <span class="n">period_in_clock_cycles</span><span class="p">,</span>
            <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_convert_seconds_to_clock_cycles</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">min_allowed_period_in_seconds</span><span class="p">)),</span>
            <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_convert_seconds_to_clock_cycles</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">max_allowed_period_in_seconds</span><span class="p">)),</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_allowed_period_step_size_in_clock_cycles</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">coerce</span> <span class="ow">and</span> <span class="n">coerced_period</span> <span class="o">!=</span> <span class="n">period_in_clock_cycles</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SpectrumInvalidParameterValue</span><span class="p">(</span>
                <span class="s2">&quot;pulse generator period&quot;</span><span class="p">,</span>
                <span class="n">period</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">min_allowed_period_in_seconds</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">max_allowed_period_in_seconds</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">allowed_period_step_size_in_seconds</span><span class="p">,</span>
            <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">write_to_parent_device_register</span><span class="p">(</span><span class="n">PULSE_GEN_PULSE_PERIOD_COMMANDS</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_number</span><span class="p">],</span> <span class="nb">int</span><span class="p">(</span><span class="n">coerced_period</span><span class="p">))</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_convert_clock_cycles_to_seconds</span><span class="p">(</span><span class="n">coerced_period</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Set the time between the start of each generated pulse in seconds. If coerce is True, the requested value
will be coerced according to min_allowed_period_in_seconds, max_allowed_period_in_seconds and
allowed_period_step_size_in_seconds and the coerced value is returned. Otherwise, when an invalid value is
requested a SpectrumInvalidParameterValue will be raised. The allowed values are affected by the number of
active channels and the sample rate.</p>
</div>


                            </div>
                            <div id="PulseGenerator.min_allowed_high_voltage_duration_in_seconds" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#PulseGenerator.min_allowed_high_voltage_duration_in_seconds">#&nbsp;&nbsp</a>

        <span class="name">min_allowed_high_voltage_duration_in_seconds</span><span class="annotation">: float</span>
    </div>

            <div class="docstring"><p>Minimum allowed duration of the high-voltage part of the pulse in seconds, given the current clock rate.</p>
</div>


                            </div>
                            <div id="PulseGenerator.max_allowed_high_voltage_duration_in_seconds" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#PulseGenerator.max_allowed_high_voltage_duration_in_seconds">#&nbsp;&nbsp</a>

        <span class="name">max_allowed_high_voltage_duration_in_seconds</span><span class="annotation">: float</span>
    </div>

            <div class="docstring"><p>Maximum allowed duration of the high-voltage part of the pulse in seconds, given the current clock rate.</p>
</div>


                            </div>
                            <div id="PulseGenerator.allowed_high_voltage_duration_step_size_in_seconds" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#PulseGenerator.allowed_high_voltage_duration_step_size_in_seconds">#&nbsp;&nbsp</a>

        <span class="name">allowed_high_voltage_duration_step_size_in_seconds</span><span class="annotation">: float</span>
    </div>

            <div class="docstring"><p>Resolution with which the high-voltage duration can be set, in seconds, given the current clock rate.</p>
</div>


                            </div>
                            <div id="PulseGenerator.duration_of_high_voltage_in_seconds" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#PulseGenerator.duration_of_high_voltage_in_seconds">#&nbsp;&nbsp</a>

        <span class="name">duration_of_high_voltage_in_seconds</span><span class="annotation">: float</span>
    </div>

            <div class="docstring"><p>The length of the high-voltage part of a pulse, in seconds. Equal to the pulse duration * duty cycle.</p>
</div>


                            </div>
                            <div id="PulseGenerator.duration_of_low_voltage_in_seconds" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#PulseGenerator.duration_of_low_voltage_in_seconds">#&nbsp;&nbsp</a>

        <span class="name">duration_of_low_voltage_in_seconds</span><span class="annotation">: float</span>
    </div>

            <div class="docstring"><p>The length of the low-voltage part of a pulse, in seconds. Equal to the pulse duration * (1 - duty cycle).</p>
</div>


                            </div>
                            <div id="PulseGenerator.duty_cycle" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#PulseGenerator.duty_cycle">#&nbsp;&nbsp</a>

        <span class="name">duty_cycle</span><span class="annotation">: float</span>
    </div>

            <div class="docstring"><p>The ratio between the high-voltage and low-voltage parts of the pulse.</p>
</div>


                            </div>
                            <div id="PulseGenerator.set_duty_cycle" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#PulseGenerator.set_duty_cycle">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_duty_cycle</span><span class="signature">(self, duty_cycle: float, coerce: bool = False) -&gt; float</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">set_duty_cycle</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">duty_cycle</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">coerce</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Set the duty cycle. If coerce is True, the requested value will be coerced to be within allowed range and</span>
<span class="sd">        use allowed step size and then the coerced value wll be returned. Otherwise, when an invalid value is requested</span>
<span class="sd">        an SpectrumInvalidParameterValue will be raised. The allowed values are affected by the number of active</span>
<span class="sd">        channels and the sample rate.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">requested_high_v_duration_in_clock_cycles</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_convert_seconds_to_clock_cycles</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">period_in_seconds</span> <span class="o">*</span> <span class="n">duty_cycle</span>
        <span class="p">)</span>
        <span class="n">clipped_duration</span> <span class="o">=</span> <span class="n">_coerce_fractional_value_to_allowed_integer</span><span class="p">(</span>
            <span class="n">requested_high_v_duration_in_clock_cycles</span><span class="p">,</span>
            <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_convert_seconds_to_clock_cycles</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">min_allowed_high_voltage_duration_in_seconds</span><span class="p">)),</span>
            <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_convert_seconds_to_clock_cycles</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">max_allowed_high_voltage_duration_in_seconds</span><span class="p">)),</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_allowed_high_voltage_duration_step_size_in_clock_cycles</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">coerce</span> <span class="ow">and</span> <span class="n">clipped_duration</span> <span class="o">!=</span> <span class="n">requested_high_v_duration_in_clock_cycles</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SpectrumInvalidParameterValue</span><span class="p">(</span>
                <span class="s2">&quot;high-voltage duration&quot;</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">period_in_seconds</span> <span class="o">*</span> <span class="n">duty_cycle</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">min_allowed_high_voltage_duration_in_seconds</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">max_allowed_high_voltage_duration_in_seconds</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">allowed_high_voltage_duration_step_size_in_seconds</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_to_parent_device_register</span><span class="p">(</span><span class="n">PULSE_GEN_HIGH_DURATION_COMMANDS</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_number</span><span class="p">],</span> <span class="n">clipped_duration</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_convert_clock_cycles_to_seconds</span><span class="p">(</span><span class="n">clipped_duration</span><span class="p">)</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">period_in_seconds</span>
</pre></div>

        </details>

            <div class="docstring"><p>Set the duty cycle. If coerce is True, the requested value will be coerced to be within allowed range and
use allowed step size and then the coerced value wll be returned. Otherwise, when an invalid value is requested
an SpectrumInvalidParameterValue will be raised. The allowed values are affected by the number of active
channels and the sample rate.</p>
</div>


                            </div>
                            <div id="PulseGenerator.min_allowed_pulses" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#PulseGenerator.min_allowed_pulses">#&nbsp;&nbsp</a>

        <span class="name">min_allowed_pulses</span><span class="annotation">: int</span>
    </div>

            <div class="docstring"><p>Minimum allowed number of pulses to transmit.</p>
</div>


                            </div>
                            <div id="PulseGenerator.max_allowed_pulses" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#PulseGenerator.max_allowed_pulses">#&nbsp;&nbsp</a>

        <span class="name">max_allowed_pulses</span><span class="annotation">: int</span>
    </div>

            <div class="docstring"><p>Maximum allowed number of pulses to transmit.</p>
</div>


                            </div>
                            <div id="PulseGenerator.allowed_num_pulses_step_size" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#PulseGenerator.allowed_num_pulses_step_size">#&nbsp;&nbsp</a>

        <span class="name">allowed_num_pulses_step_size</span><span class="annotation">: int</span>
    </div>

            <div class="docstring"><p>Resolution with which the number of pulses to transmit can be set.</p>
</div>


                            </div>
                            <div id="PulseGenerator.num_pulses" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#PulseGenerator.num_pulses">#&nbsp;&nbsp</a>

        <span class="name">num_pulses</span><span class="annotation">: int</span>
    </div>

            <div class="docstring"><p>The number of pulses to generate on receipt of a trigger. If 0, pulses will be generated continuously.</p>
</div>


                            </div>
                            <div id="PulseGenerator.set_num_pulses" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#PulseGenerator.set_num_pulses">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_num_pulses</span><span class="signature">(self, num_pulses: int, coerce: bool = False) -&gt; int</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">set_num_pulses</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">num_pulses</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">coerce</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Set the number of pulses to generate on receipt of a trigger. If 0 or negative, pulses will be generated</span>
<span class="sd">        continuously. If coerce if True, the requested number of pulses will be coerced according to min_allowed_pulses,</span>
<span class="sd">        max_allowed_pulses and allowed_num_pulses_step_size and the coerced value is returned. Otherwise, a</span>
<span class="sd">        SpectrumInvalidParameterValue exception is raised if an invalid number of pulses is requested.&quot;&quot;&quot;</span>

        <span class="n">num_pulses</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">num_pulses</span><span class="p">)</span>  <span class="c1"># make negative value 0 to enable continuous pulse generation</span>

        <span class="n">coerced_num_pulses</span> <span class="o">=</span> <span class="n">_coerce_fractional_value_to_allowed_integer</span><span class="p">(</span>
            <span class="nb">float</span><span class="p">(</span><span class="n">num_pulses</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">min_allowed_pulses</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_allowed_pulses</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">allowed_num_pulses_step_size</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">coerce</span> <span class="ow">and</span> <span class="n">coerced_num_pulses</span> <span class="o">!=</span> <span class="n">num_pulses</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SpectrumInvalidParameterValue</span><span class="p">(</span>
                <span class="s2">&quot;number of pulses&quot;</span><span class="p">,</span>
                <span class="n">num_pulses</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">min_allowed_pulses</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">max_allowed_pulses</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">allowed_num_pulses_step_size</span><span class="p">,</span>
            <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">write_to_parent_device_register</span><span class="p">(</span><span class="n">PULSE_GEN_NUM_REPEATS_COMMANDS</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_number</span><span class="p">],</span> <span class="n">coerced_num_pulses</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">coerced_num_pulses</span>
</pre></div>

        </details>

            <div class="docstring"><p>Set the number of pulses to generate on receipt of a trigger. If 0 or negative, pulses will be generated
continuously. If coerce if True, the requested number of pulses will be coerced according to min_allowed_pulses,
max_allowed_pulses and allowed_num_pulses_step_size and the coerced value is returned. Otherwise, a
SpectrumInvalidParameterValue exception is raised if an invalid number of pulses is requested.</p>
</div>


                            </div>
                            <div id="PulseGenerator.min_allowed_delay_in_seconds" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#PulseGenerator.min_allowed_delay_in_seconds">#&nbsp;&nbsp</a>

        <span class="name">min_allowed_delay_in_seconds</span><span class="annotation">: float</span>
    </div>

            <div class="docstring"><p>Minimum allowed delay between the trigger event and pulse generation, in seconds, given the current clock
rate.</p>
</div>


                            </div>
                            <div id="PulseGenerator.max_allowed_delay_in_seconds" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#PulseGenerator.max_allowed_delay_in_seconds">#&nbsp;&nbsp</a>

        <span class="name">max_allowed_delay_in_seconds</span><span class="annotation">: float</span>
    </div>

            <div class="docstring"><p>Maximum allowed delay between the trigger event and pulse generation, in seconds, given the current clock
rate.</p>
</div>


                            </div>
                            <div id="PulseGenerator.allowed_delay_step_size_in_seconds" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#PulseGenerator.allowed_delay_step_size_in_seconds">#&nbsp;&nbsp</a>

        <span class="name">allowed_delay_step_size_in_seconds</span><span class="annotation">: float</span>
    </div>

            <div class="docstring"><p>resolution with which the delay between the trigger event and pulse generation can be set, in seconds, given
the current clock rate.</p>
</div>


                            </div>
                            <div id="PulseGenerator.delay_in_seconds" class="classattr">
                                            <div class="attr variable"><a class="headerlink" href="#PulseGenerator.delay_in_seconds">#&nbsp;&nbsp</a>

        <span class="name">delay_in_seconds</span><span class="annotation">: float</span>
    </div>

            <div class="docstring"><p>The delay between the trigger and the first pulse transmission</p>
</div>


                            </div>
                            <div id="PulseGenerator.set_delay_in_seconds" class="classattr">
                                        <div class="attr function"><a class="headerlink" href="#PulseGenerator.set_delay_in_seconds">#&nbsp;&nbsp</a>

        
            <span class="def">def</span>
            <span class="name">set_delay_in_seconds</span><span class="signature">(self, delay_in_seconds: float, coerce: bool = False) -&gt; float</span>:
    </div>

                <details>
            <summary>View Source</summary>
            <div class="codehilite"><pre><span></span>    <span class="k">def</span> <span class="nf">set_delay_in_seconds</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">delay_in_seconds</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="n">coerce</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Set the delay between the trigger and the first pulse transmission. If coerce=True, the requested value is</span>
<span class="sd">        coerced according to min_allowed_delay_in_seconds, max_allowed_delay_in_seconds and</span>
<span class="sd">        allowed_delay_step_size_in_seconds, and then the coerced value is returned. Otherwise, an ValueError is raised</span>
<span class="sd">        if the requested value is invalid.&quot;&quot;&quot;</span>

        <span class="n">requested_delay_in_clock_cycles</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_convert_seconds_to_clock_cycles</span><span class="p">(</span><span class="n">delay_in_seconds</span><span class="p">)</span>
        <span class="n">clipped_delay_in_clock_cycles</span> <span class="o">=</span> <span class="n">_coerce_fractional_value_to_allowed_integer</span><span class="p">(</span>
            <span class="n">requested_delay_in_clock_cycles</span><span class="p">,</span>
            <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_convert_seconds_to_clock_cycles</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">min_allowed_delay_in_seconds</span><span class="p">)),</span>
            <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_convert_seconds_to_clock_cycles</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">max_allowed_delay_in_seconds</span><span class="p">)),</span>
            <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_convert_seconds_to_clock_cycles</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">allowed_delay_step_size_in_seconds</span><span class="p">)),</span>
        <span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">coerce</span> <span class="ow">and</span> <span class="n">clipped_delay_in_clock_cycles</span> <span class="o">!=</span> <span class="n">requested_delay_in_clock_cycles</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">SpectrumInvalidParameterValue</span><span class="p">(</span>
                <span class="s2">&quot;delay in seconds&quot;</span><span class="p">,</span>
                <span class="n">requested_delay_in_clock_cycles</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">min_allowed_delay_in_seconds</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">max_allowed_delay_in_seconds</span><span class="p">,</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">allowed_delay_step_size_in_seconds</span><span class="p">,</span>
            <span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">write_to_parent_device_register</span><span class="p">(</span><span class="n">PULSE_GEN_DELAY_COMMANDS</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_number</span><span class="p">],</span> <span class="n">clipped_delay_in_clock_cycles</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_convert_clock_cycles_to_seconds</span><span class="p">(</span><span class="n">clipped_delay_in_clock_cycles</span><span class="p">)</span>
</pre></div>

        </details>

            <div class="docstring"><p>Set the delay between the trigger and the first pulse transmission. If coerce=True, the requested value is
coerced according to min_allowed_delay_in_seconds, max_allowed_delay_in_seconds and
allowed_delay_step_size_in_seconds, and then the coerced value is returned. Otherwise, an ValueError is raised
if the requested value is invalid.</p>
</div>


                            </div>
                </section>
    </main>
<script>
    function escapeHTML(html) {
        return document.createElement('div').appendChild(document.createTextNode(html)).parentNode.innerHTML;
    }

    const originalContent = document.querySelector("main.pdoc");
    let currentContent = originalContent;

    function setContent(innerHTML) {
        let elem;
        if (innerHTML) {
            elem = document.createElement("main");
            elem.classList.add("pdoc");
            elem.innerHTML = innerHTML;
        } else {
            elem = originalContent;
        }
        if (currentContent !== elem) {
            currentContent.replaceWith(elem);
            currentContent = elem;
        }
    }

    function getSearchTerm() {
        return (new URL(window.location)).searchParams.get("search");
    }

    const searchBox = document.querySelector(".pdoc input[type=search]");
    searchBox.addEventListener("input", function () {
        let url = new URL(window.location);
        if (searchBox.value.trim()) {
            url.hash = "";
            url.searchParams.set("search", searchBox.value);
        } else {
            url.searchParams.delete("search");
        }
        history.replaceState("", "", url.toString());
        onInput();
    });
    window.addEventListener("popstate", onInput);


    let search, searchErr;

    async function initialize() {
        try {
            search = await new Promise((resolve, reject) => {
                const script = document.createElement("script");
                script.type = "text/javascript";
                script.async = true;
                script.onload = () => resolve(window.pdocSearch);
                script.onerror = (e) => reject(e);
                script.src = "search.js";
                document.getElementsByTagName("head")[0].appendChild(script);
            });
        } catch (e) {
            console.error("Cannot fetch pdoc search index");
            searchErr = "Cannot fetch search index.";
        }
        onInput();

        document.querySelector("nav.pdoc").addEventListener("click", e => {
            if (e.target.hash) {
                searchBox.value = "";
                searchBox.dispatchEvent(new Event("input"));
            }
        });
    }

    function onInput() {
        setContent((() => {
            const term = getSearchTerm();
            if (!term) {
                return null
            }
            if (searchErr) {
                return `<h3>Error: ${searchErr}</h3>`
            }
            if (!search) {
                return "<h3>Searching...</h3>"
            }

            window.scrollTo({top: 0, left: 0, behavior: 'auto'});

            const results = search(term);

            let html;
            if (results.length === 0) {
                html = `No search results for '${escapeHTML(term)}'.`
            } else {
                html = `<h4>${results.length} search result${results.length > 1 ? "s" : ""} for '${escapeHTML(term)}'.</h4>`;
            }
            for (let result of results.slice(0, 10)) {
                let doc = result.doc;
                let url = `${doc.modulename.replaceAll(".", "/")}.html`;
                if (doc.qualname) {
                    url += `#${doc.qualname}`;
                }

                let heading;
                switch (result.doc.type) {
                    case "function":
                        heading = `<span class="def">${doc.funcdef}</span> <span class="name">${doc.fullname}</span><span class="signature">(${doc.parameters.join(", ")})</span>`;
                        break;
                    case "class":
                        heading = `<span class="def">class</span> <span class="name">${doc.fullname}</span>`;
                        break;
                    default:
                        heading = `<span class="name">${doc.fullname}</span>`;
                        break;
                }
                html += `
                        <section class="search-result">
                        <a href="${url}" class="attr ${doc.type}">${heading}</a>
                        <div class="docstring">${doc.doc}</div>
                        </section>
                    `;

            }
            return html;
        })());
    }

    if (getSearchTerm()) {
        initialize();
        searchBox.value = getSearchTerm();
        onInput();
    } else {
        searchBox.addEventListener("focus", initialize, {once: true});
    }

    searchBox.addEventListener("keydown", e => {
        if (["ArrowDown", "ArrowUp", "Enter"].includes(e.key)) {
            let focused = currentContent.querySelector(".search-result.focused");
            if (!focused) {
                currentContent.querySelector(".search-result").classList.add("focused");
            } else if (
                e.key === "ArrowDown"
                && focused.nextElementSibling
                && focused.nextElementSibling.classList.contains("search-result")
            ) {
                focused.classList.remove("focused");
                focused.nextElementSibling.classList.add("focused");
                focused.nextElementSibling.scrollIntoView({
                    behavior: "smooth",
                    block: "nearest",
                    inline: "nearest"
                });
            } else if (
                e.key === "ArrowUp"
                && focused.previousElementSibling
                && focused.previousElementSibling.classList.contains("search-result")
            ) {
                focused.classList.remove("focused");
                focused.previousElementSibling.classList.add("focused");
                focused.previousElementSibling.scrollIntoView({
                    behavior: "smooth",
                    block: "nearest",
                    inline: "nearest"
                });
            } else if (
                e.key === "Enter"
            ) {
                focused.querySelector("a").click();
            }
        }
    });
</script></body>
</html>